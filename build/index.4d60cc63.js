let e,t,n,r,i;function s(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function a(e){return e&&e.__esModule?e.default:e}var o,l,u,c,h,d,f,p,m,g,v,y,w,b,_=globalThis,E={},x={},S=_.parcelRequirec021;null==S&&((S=function(e){if(e in E)return E[e].exports;if(e in x){var t=x[e];delete x[e];var n={id:e,exports:{}};return E[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){x[e]=t},_.parcelRequirec021=S);var k=S.register;k("1b2ls",function(e,t){s(e.exports,"Fragment",()=>n,e=>n=e),s(e.exports,"jsx",()=>r,e=>r=e),s(e.exports,"jsxs",()=>i,e=>i=e);var n,r,i,a=S("acw62"),o=Symbol.for("react.element"),l=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,n){var r,i={},s=null,a=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(a=t.ref),t)u.call(t,r)&&!h.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:c.current}}n=l,r=d,i=d}),k("acw62",function(e,t){e.exports=S("2pUnB")}),k("2pUnB",function(e,t){s(e.exports,"Children",()=>n,e=>n=e),s(e.exports,"Component",()=>r,e=>r=e),s(e.exports,"Fragment",()=>i,e=>i=e),s(e.exports,"Profiler",()=>a,e=>a=e),s(e.exports,"PureComponent",()=>o,e=>o=e),s(e.exports,"StrictMode",()=>l,e=>l=e),s(e.exports,"Suspense",()=>u,e=>u=e),s(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>c,e=>c=e),s(e.exports,"cloneElement",()=>h,e=>h=e),s(e.exports,"createContext",()=>d,e=>d=e),s(e.exports,"createElement",()=>f,e=>f=e),s(e.exports,"createFactory",()=>p,e=>p=e),s(e.exports,"createRef",()=>m,e=>m=e),s(e.exports,"forwardRef",()=>g,e=>g=e),s(e.exports,"isValidElement",()=>v,e=>v=e),s(e.exports,"lazy",()=>y,e=>y=e),s(e.exports,"memo",()=>w,e=>w=e),s(e.exports,"startTransition",()=>b,e=>b=e),s(e.exports,"unstable_act",()=>_,e=>_=e),s(e.exports,"useCallback",()=>E,e=>E=e),s(e.exports,"useContext",()=>x,e=>x=e),s(e.exports,"useDebugValue",()=>S,e=>S=e),s(e.exports,"useDeferredValue",()=>k,e=>k=e),s(e.exports,"useEffect",()=>T,e=>T=e),s(e.exports,"useId",()=>C,e=>C=e),s(e.exports,"useImperativeHandle",()=>I,e=>I=e),s(e.exports,"useInsertionEffect",()=>N,e=>N=e),s(e.exports,"useLayoutEffect",()=>R,e=>R=e),s(e.exports,"useMemo",()=>A,e=>A=e),s(e.exports,"useReducer",()=>D,e=>D=e),s(e.exports,"useRef",()=>P,e=>P=e),s(e.exports,"useState",()=>O,e=>O=e),s(e.exports,"useSyncExternalStore",()=>L,e=>L=e),s(e.exports,"useTransition",()=>M,e=>M=e),s(e.exports,"version",()=>j,e=>j=e);var n,r,i,a,o,l,u,c,h,d,f,p,m,g,v,y,w,b,_,E,x,S,k,T,C,I,N,R,A,D,P,O,L,M,j,U=Symbol.for("react.element"),F=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),H=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),K=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Q=Symbol.iterator,X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,J={};function Z(e,t,n){this.props=e,this.context=t,this.refs=J,this.updater=n||X}function ee(){}function et(e,t,n){this.props=e,this.context=t,this.refs=J,this.updater=n||X}Z.prototype.isReactComponent={},Z.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Z.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},ee.prototype=Z.prototype;var en=et.prototype=new ee;en.constructor=et,Y(en,Z.prototype),en.isPureReactComponent=!0;var er=Array.isArray,ei=Object.prototype.hasOwnProperty,es={current:null},ea={key:!0,ref:!0,__self:!0,__source:!0};function eo(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)ei.call(t,r)&&!ea.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return{$$typeof:U,type:e,key:s,ref:a,props:i,_owner:es.current}}function el(e){return"object"==typeof e&&null!==e&&e.$$typeof===U}var eu=/\/+/g;function ec(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function eh(e,t,n){if(null==e)return e;var r=[],i=0;return function e(t,n,r,i,s){var a,o,l,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case U:case F:c=!0}}if(c)return s=s(c=t),t=""===i?"."+ec(c,0):i,er(s)?(r="",null!=t&&(r=t.replace(eu,"$&/")+"/"),e(s,n,r,"",function(e){return e})):null!=s&&(el(s)&&(a=s,o=r+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(eu,"$&/")+"/")+t,s={$$typeof:U,type:a.type,key:o,ref:a.ref,props:a.props,_owner:a._owner}),n.push(s)),1;if(c=0,i=""===i?".":i+":",er(t))for(var h=0;h<t.length;h++){var d=i+ec(u=t[h],h);c+=e(u,n,r,d,s)}else if("function"==typeof(d=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=Q&&l[Q]||l["@@iterator"])?l:null))for(t=d.call(t),h=0;!(u=t.next()).done;)d=i+ec(u=u.value,h++),c+=e(u,n,r,d,s);else if("object"===u)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return c}(e,r,"","",function(e){return t.call(n,e,i++)}),r}function ed(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ef={current:null},ep={transition:null};n={map:eh,forEach:function(e,t,n){eh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return eh(e,function(){t++}),t},toArray:function(e){return eh(e,function(e){return e})||[]},only:function(e){if(!el(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r=Z,i=V,a=B,o=et,l=z,u=W,c={ReactCurrentDispatcher:ef,ReactCurrentBatchConfig:ep,ReactCurrentOwner:es},h=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Y({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=es.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)ei.call(t,l)&&!ea.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==o?o[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:U,type:e.type,key:i,ref:s,props:r,_owner:a}},d=function(e){return(e={$$typeof:H,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:$,_context:e},e.Consumer=e},f=eo,p=function(e){var t=eo.bind(null,e);return t.type=e,t},m=function(){return{current:null}},g=function(e){return{$$typeof:q,render:e}},v=el,y=function(e){return{$$typeof:G,_payload:{_status:-1,_result:e},_init:ed}},w=function(e,t){return{$$typeof:K,type:e,compare:void 0===t?null:t}},b=function(e){var t=ep.transition;ep.transition={};try{e()}finally{ep.transition=t}},_=function(){throw Error("act(...) is not supported in production builds of React.")},E=function(e,t){return ef.current.useCallback(e,t)},x=function(e){return ef.current.useContext(e)},S=function(){},k=function(e){return ef.current.useDeferredValue(e)},T=function(e,t){return ef.current.useEffect(e,t)},C=function(){return ef.current.useId()},I=function(e,t,n){return ef.current.useImperativeHandle(e,t,n)},N=function(e,t){return ef.current.useInsertionEffect(e,t)},R=function(e,t){return ef.current.useLayoutEffect(e,t)},A=function(e,t){return ef.current.useMemo(e,t)},D=function(e,t,n){return ef.current.useReducer(e,t,n)},P=function(e){return ef.current.useRef(e)},O=function(e){return ef.current.useState(e)},L=function(e,t,n){return ef.current.useSyncExternalStore(e,t,n)},M=function(){return ef.current.useTransition()},j="18.2.0"}),k("Xw6Mv",function(e,t){s(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>$,e=>$=e),s(e.exports,"createPortal",()=>H,e=>H=e),s(e.exports,"createRoot",()=>q,e=>q=e),s(e.exports,"findDOMNode",()=>W,e=>W=e),s(e.exports,"flushSync",()=>K,e=>K=e),s(e.exports,"hydrate",()=>G,e=>G=e),s(e.exports,"hydrateRoot",()=>Q,e=>Q=e),s(e.exports,"render",()=>X,e=>X=e),s(e.exports,"unmountComponentAtNode",()=>Y,e=>Y=e),s(e.exports,"unstable_batchedUpdates",()=>J,e=>J=e),s(e.exports,"unstable_renderSubtreeIntoContainer",()=>Z,e=>Z=e),s(e.exports,"version",()=>ee,e=>ee=e);var n,r,i,a,o,l,u=S("acw62"),c=S("fO90s");function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,f={};function p(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(f[e]=t,e=0;e<t.length;e++)d.add(t[e])}var g=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),v=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},b={};function _(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];E[t]=new _(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function T(e,t,n,r){var i,s=E.hasOwnProperty(t)?E[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?(i=t,(!!v.call(b,i)||!v.call(w,i)&&(y.test(i)?b[i]=!0:(w[i]=!0,!1)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,k);E[t]=new _(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,k);E[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,k);E[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});var C=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),N=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var V=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}var $,H,q,W,K,G,Q,X,Y,J,Z,ee,et,en=Object.assign;function er(e){if(void 0===et)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);et=t&&t[1]||""}return"\n"+et+e}var ei=!1;function es(e,t){if(!e||ei)return"";ei=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o)break}}}finally{ei=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?er(e):""}function ea(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function eo(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function el(e){e._valueTracker||(e._valueTracker=function(e){var t=eo(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function eu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=eo(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ec(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function eh(e,t){var n=t.checked;return en({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ed(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ea(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ef(e,t){null!=(t=t.checked)&&T(e,"checked",t,!1)}function ep(e,t){ef(e,t);var n=ea(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r){e.removeAttribute("value");return}t.hasOwnProperty("value")?eg(e,t.type,n):t.hasOwnProperty("defaultValue")&&eg(e,t.type,ea(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function em(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function eg(e,t,n){("number"!==t||ec(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ev=Array.isArray;function ey(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+ea(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ew(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(h(91));return en({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eb(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(h(92));if(ev(n)){if(1<n.length)throw Error(h(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ea(n)}}function e_(e,t){var n=ea(t.value),r=ea(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function eE(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ex(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eS(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ex(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ek,eT,eC=(ek=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((eT=eT||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eT.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ek(e,t,n,r)})}:ek);function eI(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var eN={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eR=["Webkit","ms","Moz","O"];function eA(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||eN.hasOwnProperty(e)&&eN[e]?(""+t).trim():t+"px"}function eD(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=eA(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(eN).forEach(function(e){eR.forEach(function(t){eN[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=eN[e]})});var eP=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eO(e,t){if(t){if(eP[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(h(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(h(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(h(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(h(62))}}function eL(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eM=null;function ej(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var eU=null,eF=null,eV=null;function ez(e){if(e=rQ(e)){if("function"!=typeof eU)throw Error(h(280));var t=e.stateNode;t&&(t=rY(t),eU(e.stateNode,e.type,t))}}function eB(e){eF?eV?eV.push(e):eV=[e]:eF=e}function e$(){if(eF){var e=eF,t=eV;if(eV=eF=null,ez(e),t)for(e=0;e<t.length;e++)ez(t[e])}}function eH(e,t){return e(t)}function eq(){}var eW=!1;function eK(e,t,n){if(eW)return e(t,n);eW=!0;try{return eH(e,t,n)}finally{eW=!1,(null!==eF||null!==eV)&&(eq(),e$())}}function eG(e,t){var n=e.stateNode;if(null===n)return null;var r=rY(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(h(231,t,typeof n));return n}var eQ=!1;if(g)try{var eX={};Object.defineProperty(eX,"passive",{get:function(){eQ=!0}}),window.addEventListener("test",eX,eX),window.removeEventListener("test",eX,eX)}catch(e){eQ=!1}function eY(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var eJ=!1,eZ=null,e0=!1,e1=null,e2={onError:function(e){eJ=!0,eZ=e}};function e4(e,t,n,r,i,s,a,o,l){eJ=!1,eZ=null,eY.apply(e2,arguments)}function e3(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function e6(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function e9(e){if(e3(e)!==e)throw Error(h(188))}function e5(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=e3(e)))throw Error(h(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return e9(i),e;if(s===r)return e9(i),t;s=s.sibling}throw Error(h(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(h(189))}}if(n.alternate!==r)throw Error(h(190))}if(3!==n.tag)throw Error(h(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var e8=c.unstable_scheduleCallback,e7=c.unstable_cancelCallback,te=c.unstable_shouldYield,tt=c.unstable_requestPaint,tn=c.unstable_now,tr=c.unstable_getCurrentPriorityLevel,ti=c.unstable_ImmediatePriority,ts=c.unstable_UserBlockingPriority,ta=c.unstable_NormalPriority,to=c.unstable_LowPriority,tl=c.unstable_IdlePriority,tu=null,tc=null,th=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(td(e)/tf|0)|0},td=Math.log,tf=Math.LN2,tp=64,tm=4194304;function tg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tv(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=tg(o):0!=(s&=a)&&(r=tg(s))}else 0!=(a=n&~i)?r=tg(a):0!==s&&(r=tg(s));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!=(4194240&s)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-th(t)),r|=e[n],t&=~i;return r}function ty(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function tw(){var e=tp;return 0==(4194240&(tp<<=1))&&(tp=64),e}function tb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function t_(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-th(t)]=n}function tE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-th(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tx=0;function tS(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var tk,tT,tC,tI,tN,tR=!1,tA=[],tD=null,tP=null,tO=null,tL=new Map,tM=new Map,tj=[],tU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tF(e,t){switch(e){case"focusin":case"focusout":tD=null;break;case"dragenter":case"dragleave":tP=null;break;case"mouseover":case"mouseout":tO=null;break;case"pointerover":case"pointerout":tL.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tM.delete(t.pointerId)}}function tV(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&null!==(t=rQ(t))&&tT(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function tz(e){var t=rG(e.target);if(null!==t){var n=e3(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=e6(n))){e.blockedOn=t,tN(e.priority,function(){tC(n)});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tB(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tZ(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=rQ(n))&&tT(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);eM=r,n.target.dispatchEvent(r),eM=null,t.shift()}return!0}function t$(e,t,n){tB(e)&&n.delete(t)}function tH(){tR=!1,null!==tD&&tB(tD)&&(tD=null),null!==tP&&tB(tP)&&(tP=null),null!==tO&&tB(tO)&&(tO=null),tL.forEach(t$),tM.forEach(t$)}function tq(e,t){e.blockedOn===t&&(e.blockedOn=null,tR||(tR=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,tH)))}function tW(e){function t(t){return tq(t,e)}if(0<tA.length){tq(tA[0],e);for(var n=1;n<tA.length;n++){var r=tA[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==tD&&tq(tD,e),null!==tP&&tq(tP,e),null!==tO&&tq(tO,e),tL.forEach(t),tM.forEach(t),n=0;n<tj.length;n++)(r=tj[n]).blockedOn===e&&(r.blockedOn=null);for(;0<tj.length&&null===(n=tj[0]).blockedOn;)tz(n),null===n.blockedOn&&tj.shift()}var tK=C.ReactCurrentBatchConfig,tG=!0;function tQ(e,t,n,r){var i=tx,s=tK.transition;tK.transition=null;try{tx=1,tY(e,t,n,r)}finally{tx=i,tK.transition=s}}function tX(e,t,n,r){var i=tx,s=tK.transition;tK.transition=null;try{tx=4,tY(e,t,n,r)}finally{tx=i,tK.transition=s}}function tY(e,t,n,r){if(tG){var i=tZ(e,t,n,r);if(null===i)rb(e,t,r,tJ,n),tF(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return tD=tV(tD,e,t,n,r,i),!0;case"dragenter":return tP=tV(tP,e,t,n,r,i),!0;case"mouseover":return tO=tV(tO,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return tL.set(s,tV(tL.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,tM.set(s,tV(tM.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(tF(e,r),4&t&&-1<tU.indexOf(e)){for(;null!==i;){var s=rQ(i);if(null!==s&&tk(s),null===(s=tZ(e,t,n,r))&&rb(e,t,r,tJ,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else rb(e,t,r,null,n)}}var tJ=null;function tZ(e,t,n,r){if(tJ=null,null!==(e=rG(e=ej(r)))){if(null===(t=e3(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=e6(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}return tJ=e,null}function t0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tr()){case ti:return 1;case ts:return 4;case ta:case to:return 16;case tl:return 536870912;default:return 16}default:return 16}}var t1=null,t2=null,t4=null;function t3(){if(t4)return t4;var e,t,n=t2,r=n.length,i="value"in t1?t1.value:t1.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return t4=i.slice(e,1<t?1-t:void 0)}function t6(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function t9(){return!0}function t5(){return!1}function t8(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?t9:t5,this.isPropagationStopped=t5,this}return en(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=t9)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=t9)},persist:function(){},isPersistent:t9}),t}var t7,ne,nt,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=t8(nn),ni=en({},nn,{view:0,detail:0}),ns=t8(ni),na=en({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nv,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&"mousemove"===e.type?(t7=e.screenX-nt.screenX,ne=e.screenY-nt.screenY):ne=t7=0,nt=e),t7)},movementY:function(e){return"movementY"in e?e.movementY:ne}}),no=t8(na),nl=t8(en({},na,{dataTransfer:0})),nu=t8(en({},ni,{relatedTarget:0})),nc=t8(en({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),nh=t8(en({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),nd=t8(en({},nn,{data:0})),nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=nm[e])&&!!t[e]}function nv(){return ng}var ny=t8(en({},ni,{key:function(e){if(e.key){var t=nf[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=t6(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nv,charCode:function(e){return"keypress"===e.type?t6(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?t6(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),nw=t8(en({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),nb=t8(en({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nv})),n_=t8(en({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),nE=t8(en({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nx=[9,13,27,32],nS=g&&"CompositionEvent"in window,nk=null;g&&"documentMode"in document&&(nk=document.documentMode);var nT=g&&"TextEvent"in window&&!nk,nC=g&&(!nS||nk&&8<nk&&11>=nk),nI=!1;function nN(e,t){switch(e){case"keyup":return -1!==nx.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nR(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nA=!1,nD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nD[e.type]:"textarea"===t}function nO(e,t,n,r){eB(r),0<(t=rE(t,"onChange")).length&&(n=new nr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nL=null,nM=null;function nj(e){rp(e,0)}function nU(e){if(eu(rX(e)))return e}function nF(e,t){if("change"===e)return t}var nV=!1;if(g){if(g){var nz="oninput"in document;if(!nz){var nB=document.createElement("div");nB.setAttribute("oninput","return;"),nz="function"==typeof nB.oninput}n=nz}else n=!1;nV=n&&(!document.documentMode||9<document.documentMode)}function n$(){nL&&(nL.detachEvent("onpropertychange",nH),nM=nL=null)}function nH(e){if("value"===e.propertyName&&nU(nM)){var t=[];nO(t,nM,e,ej(e)),eK(nj,t)}}function nq(e,t,n){"focusin"===e?(n$(),nL=t,nM=n,nL.attachEvent("onpropertychange",nH)):"focusout"===e&&n$()}function nW(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nU(nM)}function nK(e,t){if("click"===e)return nU(t)}function nG(e,t){if("input"===e||"change"===e)return nU(t)}var nQ="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nX(e,t){if(nQ(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!v.call(t,i)||!nQ(e[i],t[i]))return!1}return!0}function nY(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nJ(e,t){var n,r=nY(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nY(r)}}function nZ(){for(var e=window,t=ec();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=ec(e.document)}return t}function n0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var n1=g&&"documentMode"in document&&11>=document.documentMode,n2=null,n4=null,n3=null,n6=!1;function n9(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;n6||null==n2||n2!==ec(r)||(r="selectionStart"in(r=n2)&&n0(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},n3&&nX(n3,r)||(n3=r,0<(r=rE(n4,"onSelect")).length&&(t=new nr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=n2)))}function n5(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var n8={animationend:n5("Animation","AnimationEnd"),animationiteration:n5("Animation","AnimationIteration"),animationstart:n5("Animation","AnimationStart"),transitionend:n5("Transition","TransitionEnd")},n7={},re={};function rt(e){if(n7[e])return n7[e];if(!n8[e])return e;var t,n=n8[e];for(t in n)if(n.hasOwnProperty(t)&&t in re)return n7[e]=n[t];return e}g&&(re=document.createElement("div").style,"AnimationEvent"in window||(delete n8.animationend.animation,delete n8.animationiteration.animation,delete n8.animationstart.animation),"TransitionEvent"in window||delete n8.transitionend.transition);var rn=rt("animationend"),rr=rt("animationiteration"),ri=rt("animationstart"),rs=rt("transitionend"),ra=new Map,ro="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(e,t){ra.set(e,t),p(t,[e])}for(var ru=0;ru<ro.length;ru++){var rc=ro[ru];rl(rc.toLowerCase(),"on"+(rc[0].toUpperCase()+rc.slice(1)))}rl(rn,"onAnimationEnd"),rl(rr,"onAnimationIteration"),rl(ri,"onAnimationStart"),rl("dblclick","onDoubleClick"),rl("focusin","onFocus"),rl("focusout","onBlur"),rl(rs,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rd=new Set("cancel close invalid load scroll toggle".split(" ").concat(rh));function rf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,o,l){if(e4.apply(this,arguments),eJ){if(eJ){var u=eZ;eJ=!1,eZ=null}else throw Error(h(198));e0||(e0=!0,e1=u)}}(r,t,void 0,e),e.currentTarget=null}function rp(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;rf(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;rf(i,o,u),s=l}}}if(e0)throw e=e1,e0=!1,e1=null,e}function rm(e,t){var n=t[rq];void 0===n&&(n=t[rq]=new Set);var r=e+"__bubble";n.has(r)||(rw(t,e,2,!1),n.add(r))}function rg(e,t,n){var r=0;t&&(r|=4),rw(n,e,r,t)}var rv="_reactListening"+Math.random().toString(36).slice(2);function ry(e){if(!e[rv]){e[rv]=!0,d.forEach(function(t){"selectionchange"!==t&&(rd.has(t)||rg(t,!1,e),rg(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[rv]||(t[rv]=!0,rg("selectionchange",!1,t))}}function rw(e,t,n,r){switch(t0(t)){case 1:var i=tQ;break;case 4:i=tX;break;default:i=tY}n=i.bind(null,t,n,e),i=void 0,eQ&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rb(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=rG(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}eK(function(){var r=s,i=ej(n),a=[];e:{var o=ra.get(e);if(void 0!==o){var l=nr,u=e;switch(e){case"keypress":if(0===t6(n))break e;case"keydown":case"keyup":l=ny;break;case"focusin":u="focus",l=nu;break;case"focusout":u="blur",l=nu;break;case"beforeblur":case"afterblur":l=nu;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=nb;break;case rn:case rr:case ri:l=nc;break;case rs:l=n_;break;case"scroll":l=ns;break;case"wheel":l=nE;break;case"copy":case"cut":case"paste":l=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=nw}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=eG(p,d))&&c.push(r_(p,m,f))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0==(7&t)){if(o="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(o&&n!==eM&&(u=n.relatedTarget||n.fromElement)&&(rG(u)||u[rH]))&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,null!==(u=u?rG(u):null)&&(h=e3(u),u!==h||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=no,m="onMouseLeave",d="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=nw,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:rX(l),f=null==u?o:rX(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,rG(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)t:{for(c=l,d=u,p=0,f=c;f;f=rx(f))p++;for(f=0,m=d;m;m=rx(m))f++;for(;0<p-f;)c=rx(c),p--;for(;0<f-p;)d=rx(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break t;c=rx(c),d=rx(d)}c=null}else c=null;null!==l&&rS(a,o,l,c,!1),null!==u&&null!==h&&rS(a,h,u,c,!0)}e:{if("select"===(l=(o=r?rX(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g,v=nF;else if(nP(o)){if(nV)v=nG;else{v=nW;var y=nq}}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=nK);if(v&&(v=v(e,r))){nO(a,v,n,i);break e}y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&eg(o,"number",o.value)}switch(y=r?rX(r):window,e){case"focusin":(nP(y)||"true"===y.contentEditable)&&(n2=y,n4=r,n3=null);break;case"focusout":n3=n4=n2=null;break;case"mousedown":n6=!0;break;case"contextmenu":case"mouseup":case"dragend":n6=!1,n9(a,n,i);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":n9(a,n,i)}if(nS)t:{switch(e){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else nA?nN(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(nC&&"ko"!==n.locale&&(nA||"onCompositionStart"!==w?"onCompositionEnd"===w&&nA&&(g=t3()):(t2="value"in(t1=i)?t1.value:t1.textContent,nA=!0)),0<(y=rE(r,w)).length&&(w=new nd(w,e,null,n,i),a.push({event:w,listeners:y}),g?w.data=g:null!==(g=nR(n))&&(w.data=g))),(g=nT?function(e,t){switch(e){case"compositionend":return nR(t);case"keypress":if(32!==t.which)return null;return nI=!0," ";case"textInput":return" "===(e=t.data)&&nI?null:e;default:return null}}(e,n):function(e,t){if(nA)return"compositionend"===e||!nS&&nN(e,t)?(e=t3(),t4=t2=t1=null,nA=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nC&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=rE(r,"onBeforeInput")).length&&(i=new nd("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g)}rp(a,t)})}function r_(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rE(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=eG(e,n))&&r.unshift(r_(e,s,i)),null!=(s=eG(e,t))&&r.push(r_(e,s,i))),e=e.return}return r}function rx(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag)return e||null}function rS(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=eG(n,s))&&a.unshift(r_(n,l,o)):i||null!=(l=eG(n,s))&&a.push(r_(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var rk=/\r\n?/g,rT=/\u0000|\uFFFD/g;function rC(e){return("string"==typeof e?e:""+e).replace(rk,"\n").replace(rT,"")}function rI(e,t,n){if(t=rC(t),rC(e)!==t&&n)throw Error(h(425))}function rN(){}var rR=null,rA=null;function rD(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rP="function"==typeof setTimeout?setTimeout:void 0,rO="function"==typeof clearTimeout?clearTimeout:void 0,rL="function"==typeof Promise?Promise:void 0,rM="function"==typeof queueMicrotask?queueMicrotask:void 0!==rL?function(e){return rL.resolve(null).then(e).catch(rj)}:rP;function rj(e){setTimeout(function(){throw e})}function rU(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType){if("/$"===(n=i.data)){if(0===r){e.removeChild(i),tW(t);return}r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++}n=i}while(n)tW(t)}function rF(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function rV(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var rz=Math.random().toString(36).slice(2),rB="__reactFiber$"+rz,r$="__reactProps$"+rz,rH="__reactContainer$"+rz,rq="__reactEvents$"+rz,rW="__reactListeners$"+rz,rK="__reactHandles$"+rz;function rG(e){var t=e[rB];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rH]||n[rB]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rV(e);null!==e;){if(n=e[rB])return n;e=rV(e)}return t}n=(e=n).parentNode}return null}function rQ(e){return(e=e[rB]||e[rH])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function rX(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(h(33))}function rY(e){return e[r$]||null}var rJ=[],rZ=-1;function r0(e){return{current:e}}function r1(e){0>rZ||(e.current=rJ[rZ],rJ[rZ]=null,rZ--)}function r2(e,t){rJ[++rZ]=e.current,e.current=t}var r4={},r3=r0(r4),r6=r0(!1),r9=r4;function r5(e,t){var n=e.type.contextTypes;if(!n)return r4;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function r8(e){return null!=(e=e.childContextTypes)}function r7(){r1(r6),r1(r3)}function ie(e,t,n){if(r3.current!==r4)throw Error(h(168));r2(r3,t),r2(r6,n)}function it(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(h(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case R:return"Fragment";case N:return"Portal";case D:return"Profiler";case A:return"StrictMode";case M:return"Suspense";case j:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case O:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case L:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case U:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case F:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return en({},n,r)}function ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||r4,r9=r3.current,r2(r3,e),r2(r6,r6.current),!0}function ii(e,t,n){var r=e.stateNode;if(!r)throw Error(h(169));n?(e=it(e,t,r9),r.__reactInternalMemoizedMergedChildContext=e,r1(r6),r1(r3),r2(r3,e)):r1(r6),r2(r6,n)}var is=null,ia=!1,io=!1;function il(e){null===is?is=[e]:is.push(e)}function iu(){if(!io&&null!==is){io=!0;var e=0,t=tx;try{var n=is;for(tx=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}is=null,ia=!1}catch(t){throw null!==is&&(is=is.slice(e+1)),e8(ti,iu),t}finally{tx=t,io=!1}}return null}var ic=[],ih=0,id=null,ip=0,im=[],ig=0,iv=null,iy=1,iw="";function ib(e,t){ic[ih++]=ip,ic[ih++]=id,id=e,ip=t}function i_(e,t,n){im[ig++]=iy,im[ig++]=iw,im[ig++]=iv,iv=e;var r=iy;e=iw;var i=32-th(r)-1;r&=~(1<<i),n+=1;var s=32-th(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,iy=1<<32-th(t)+i|n<<i|r,iw=s+e}else iy=1<<s|n<<i|r,iw=e}function iE(e){null!==e.return&&(ib(e,1),i_(e,1,0))}function ix(e){for(;e===id;)id=ic[--ih],ic[ih]=null,ip=ic[--ih],ic[ih]=null;for(;e===iv;)iv=im[--ig],im[ig]=null,iw=im[--ig],im[ig]=null,iy=im[--ig],im[ig]=null}var iS=null,ik=null,iT=!1,iC=null;function iI(e,t){var n=o8(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function iN(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,iS=e,ik=rF(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,iS=e,ik=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==iv?{id:iy,overflow:iw}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=o8(18,null,null,0)).stateNode=t,n.return=e,e.child=n,iS=e,ik=null,!0);default:return!1}}function iR(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function iA(e){if(iT){var t=ik;if(t){var n=t;if(!iN(e,t)){if(iR(e))throw Error(h(418));t=rF(n.nextSibling);var r=iS;t&&iN(e,t)?iI(r,n):(e.flags=-4097&e.flags|2,iT=!1,iS=e)}}else{if(iR(e))throw Error(h(418));e.flags=-4097&e.flags|2,iT=!1,iS=e}}}function iD(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;iS=e}function iP(e){if(e!==iS)return!1;if(!iT)return iD(e),iT=!0,!1;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rD(e.type,e.memoizedProps)),t&&(t=ik)){if(iR(e))throw iO(),Error(h(418));for(;t;)iI(e,t),t=rF(t.nextSibling)}if(iD(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(h(317));e:{for(t=0,e=e.nextSibling;e;){if(8===e.nodeType){var t,n=e.data;if("/$"===n){if(0===t){ik=rF(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ik=null}}else ik=iS?rF(e.stateNode.nextSibling):null;return!0}function iO(){for(var e=ik;e;)e=rF(e.nextSibling)}function iL(){ik=iS=null,iT=!1}function iM(e){null===iC?iC=[e]:iC.push(e)}var ij=C.ReactCurrentBatchConfig;function iU(e,t){if(e&&e.defaultProps)for(var n in t=en({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var iF=r0(null),iV=null,iz=null,iB=null;function i$(){iB=iz=iV=null}function iH(e){var t=iF.current;r1(iF),e._currentValue=t}function iq(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function iW(e,t){iV=e,iB=iz=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(a_=!0),e.firstContext=null)}function iK(e){var t=e._currentValue;if(iB!==e){if(e={context:e,memoizedValue:t,next:null},null===iz){if(null===iV)throw Error(h(308));iz=e,iV.dependencies={lanes:0,firstContext:e}}else iz=iz.next=e}return t}var iG=null;function iQ(e){null===iG?iG=[e]:iG.push(e)}function iX(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,iQ(t)):(n.next=i.next,i.next=n),t.interleaved=n,iY(e,r)}function iY(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var iJ=!1;function iZ(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function i1(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function i2(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&ol)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,iY(e,n)}return null===(i=r.interleaved)?(t.next=t,iQ(r)):(t.next=i.next,i.next=t),r.interleaved=t,iY(e,n)}function i4(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tE(e,n)}}function i3(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n)null===s?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function i6(e,t,n,r){var i=e.updateQueue;iJ=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l)}if(null!==s){var h=i.baseState;for(a=0,c=u=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=en({},h,d);break e;case 2:iJ=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do a|=i.lane,i=i.next;while(i!==t)}else null===s&&(i.shared.lanes=0);og|=a,e.lanes=a,e.memoizedState=h}}function i9(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(h(191,i));i.call(r)}}}var i5=(new u.Component).refs;function i8(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:en({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var i7={isMounted:function(e){return!!(e=e._reactInternals)&&e3(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oO(),i=oL(e),s=i1(r,i);s.payload=t,null!=n&&(s.callback=n),null!==(t=i2(e,s,i))&&(oM(t,e,i,r),i4(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oO(),i=oL(e),s=i1(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=i2(e,s,i))&&(oM(t,e,i,r),i4(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oO(),r=oL(e),i=i1(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=i2(e,i,r))&&(oM(t,e,r,n),i4(t,e,r))}};function se(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||!nX(n,r)||!nX(i,s)}function st(e,t,n){var r=!1,i=r4,s=t.contextType;return"object"==typeof s&&null!==s?s=iK(s):(i=r8(t)?r9:r3.current,s=(r=null!=(r=t.contextTypes))?r5(e,i):r4),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=i7,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function sn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&i7.enqueueReplaceState(t,t.state,null)}function sr(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=i5,iZ(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=iK(s):(s=r8(t)?r9:r3.current,i.context=r5(e,s)),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(i8(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&i7.enqueueReplaceState(i,i.state,null),i6(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function si(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(h(309));var r=n.stateNode}if(!r)throw Error(h(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=i.refs;t===i5&&(t=i.refs={}),null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(h(284));if(!n._owner)throw Error(h(290,e))}return e}function ss(e,t){throw Error(h(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sa(e){return(0,e._init)(e._payload)}function so(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=le(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?(t=li(n,e.mode,r)).return=e:(t=i(t,n)).return=e,t}function l(e,t,n,r){var s=n.type;return s===R?c(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===F&&sa(s)===t.type)?(r=i(t,n.props)).ref=si(e,t,n):(r=lt(n.type,n.key,n.props,null,e.mode,r)).ref=si(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=ls(n,e.mode,r)).return=e:(t=i(t,n.children||[])).return=e,t}function c(e,t,n,r,s){return null===t||7!==t.tag?(t=ln(n,e.mode,r,s)).return=e:(t=i(t,n)).return=e,t}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=li(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case I:return(n=lt(t.type,t.key,t.props,null,e.mode,n)).ref=si(e,null,t),n.return=e,n;case N:return(t=ls(t,e.mode,n)).return=e,t;case F:return d(e,(0,t._init)(t._payload),n)}if(ev(t)||B(t))return(t=ln(t,e.mode,n,null)).return=e,t;ss(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case I:return n.key===i?l(e,t,n,r):null;case N:return n.key===i?u(e,t,n,r):null;case F:return f(e,t,(i=n._init)(n._payload),r)}if(ev(n)||B(n))return null!==i?null:c(e,t,n,r,null);ss(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case F:return p(e,t,n,(0,r._init)(r._payload),i)}if(ev(r)||B(r))return c(t,e=e.get(n)||null,r,i,null);ss(t,r)}return null}return function o(l,u,c,m){if("object"==typeof c&&null!==c&&c.type===R&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case I:e:{for(var g=c.key,v=u;null!==v;){if(v.key===g){if((g=c.type)===R){if(7===v.tag){n(l,v.sibling),(u=i(v,c.props.children)).return=l,l=u;break e}}else if(v.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===F&&sa(g)===v.type){n(l,v.sibling),(u=i(v,c.props)).ref=si(l,v,c),u.return=l,l=u;break e}n(l,v);break}t(l,v),v=v.sibling}c.type===R?((u=ln(c.props.children,l.mode,m,c.key)).return=l,l=u):((m=lt(c.type,c.key,c.props,null,l.mode,m)).ref=si(l,u,c),m.return=l,l=m)}return a(l);case N:e:{for(v=c.key;null!==u;){if(u.key===v){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=i(u,c.children||[])).return=l,l=u;break e}n(l,u);break}t(l,u),u=u.sibling}(u=ls(c,l.mode,m)).return=l,l=u}return a(l);case F:return o(l,u,(v=c._init)(c._payload),m)}if(ev(c))return function(i,a,o,l){for(var u=null,c=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=s(v,a,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===o.length)return n(i,h),iT&&ib(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(a=s(h,a,m),null===c?u=h:c.sibling=h,c=h);return iT&&ib(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=s(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),iT&&ib(i,m),u}(l,u,c,m);if(B(c))return function(i,a,o,l){var u=B(o);if("function"!=typeof u)throw Error(h(150));if(null==(o=u.call(o)))throw Error(h(151));for(var c=u=null,m=a,g=a=0,v=null,y=o.next();null!==m&&!y.done;g++,y=o.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,l);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===c?u=w:c.sibling=w,c=w,m=v}if(y.done)return n(i,m),iT&&ib(i,g),u;if(null===m){for(;!y.done;g++,y=o.next())null!==(y=d(i,y.value,l))&&(a=s(y,a,g),null===c?u=y:c.sibling=y,c=y);return iT&&ib(i,g),u}for(m=r(i,m);!y.done;g++,y=o.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===c?u=y:c.sibling=y,c=y);return e&&m.forEach(function(e){return t(i,e)}),iT&&ib(i,g),u}(l,u,c,m);ss(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,c)).return=l):(n(l,u),(u=li(c,l.mode,m)).return=l),a(l=u)):n(l,u)}}var sl=so(!0),su=so(!1),sc={},sh=r0(sc),sd=r0(sc),sf=r0(sc);function sp(e){if(e===sc)throw Error(h(174));return e}function sm(e,t){switch(r2(sf,t),r2(sd,e),r2(sh,sc),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eS(null,"");break;default:t=eS(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}r1(sh),r2(sh,t)}function sg(){r1(sh),r1(sd),r1(sf)}function sv(e){sp(sf.current);var t=sp(sh.current),n=eS(t,e.type);t!==n&&(r2(sd,e),r2(sh,n))}function sy(e){sd.current===e&&(r1(sh),r1(sd))}var sw=r0(0);function sb(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var s_=[];function sE(){for(var e=0;e<s_.length;e++)s_[e]._workInProgressVersionPrimary=null;s_.length=0}var sx=C.ReactCurrentDispatcher,sS=C.ReactCurrentBatchConfig,sk=0,sT=null,sC=null,sI=null,sN=!1,sR=!1,sA=0,sD=0;function sP(){throw Error(h(321))}function sO(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nQ(e[n],t[n]))return!1;return!0}function sL(e,t,n,r,i,s){if(sk=s,sT=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sx.current=null===e||null===e.memoizedState?al:au,e=n(r,i),sR){s=0;do{if(sR=!1,sA=0,25<=s)throw Error(h(301));s+=1,sI=sC=null,t.updateQueue=null,sx.current=ac,e=n(r,i)}while(sR)}if(sx.current=ao,t=null!==sC&&null!==sC.next,sk=0,sI=sC=sT=null,sN=!1,t)throw Error(h(300));return e}function sM(){var e=0!==sA;return sA=0,e}function sj(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sI?sT.memoizedState=sI=e:sI=sI.next=e,sI}function sU(){if(null===sC){var e=sT.alternate;e=null!==e?e.memoizedState:null}else e=sC.next;var t=null===sI?sT.memoizedState:sI.next;if(null!==t)sI=t,sC=e;else{if(null===e)throw Error(h(310));e={memoizedState:(sC=e).memoizedState,baseState:sC.baseState,baseQueue:sC.baseQueue,queue:sC.queue,next:null},null===sI?sT.memoizedState=sI=e:sI=sI.next=e}return sI}function sF(e,t){return"function"==typeof t?t(e):t}function sV(e){var t=sU(),n=t.queue;if(null===n)throw Error(h(311));n.lastRenderedReducer=e;var r=sC,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((sk&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(o=l=d,a=r):l=l.next=d,sT.lanes|=c,og|=c}u=u.next}while(null!==u&&u!==s)null===l?a=r:l.next=o,nQ(r,t.memoizedState)||(a_=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do s=i.lane,sT.lanes|=s,og|=s,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sz(e){var t=sU(),n=t.queue;if(null===n)throw Error(h(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i)nQ(s,t.memoizedState)||(a_=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function sB(){}function s$(e,t){var n=sT,r=sU(),i=t(),s=!nQ(r.memoizedState,i);if(s&&(r.memoizedState=i,a_=!0),r=r.queue,s1(sW.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==sI&&1&sI.memoizedState.tag){if(n.flags|=2048,sX(9,sq.bind(null,n,r,i,t),void 0,null),null===ou)throw Error(h(349));0!=(30&sk)||sH(n,t,i)}return i}function sH(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sT.updateQueue)?(t={lastEffect:null,stores:null},sT.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function sq(e,t,n,r){t.value=n,t.getSnapshot=r,sK(t)&&sG(e)}function sW(e,t,n){return n(function(){sK(t)&&sG(e)})}function sK(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nQ(e,n)}catch(e){return!0}}function sG(e){var t=iY(e,1);null!==t&&oM(t,e,1,-1)}function sQ(e){var t=sj();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sF,lastRenderedState:e},t.queue=e,e=e.dispatch=ar.bind(null,sT,e),[t.memoizedState,e]}function sX(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sT.updateQueue)?(t={lastEffect:null,stores:null},sT.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function sY(){return sU().memoizedState}function sJ(e,t,n,r){var i=sj();sT.flags|=e,i.memoizedState=sX(1|t,n,void 0,void 0===r?null:r)}function sZ(e,t,n,r){var i=sU();r=void 0===r?null:r;var s=void 0;if(null!==sC){var a=sC.memoizedState;if(s=a.destroy,null!==r&&sO(r,a.deps)){i.memoizedState=sX(t,n,s,r);return}}sT.flags|=e,i.memoizedState=sX(1|t,n,s,r)}function s0(e,t){return sJ(8390656,8,e,t)}function s1(e,t){return sZ(2048,8,e,t)}function s2(e,t){return sZ(4,2,e,t)}function s4(e,t){return sZ(4,4,e,t)}function s3(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function s6(e,t,n){return n=null!=n?n.concat([e]):null,sZ(4,4,s3.bind(null,t,e),n)}function s9(){}function s5(e,t){var n=sU();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sO(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function s8(e,t){var n=sU();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sO(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function s7(e,t,n){return 0==(21&sk)?(e.baseState&&(e.baseState=!1,a_=!0),e.memoizedState=n):(nQ(n,t)||(n=tw(),sT.lanes|=n,og|=n,e.baseState=!0),t)}function ae(e,t){var n=tx;tx=0!==n&&4>n?n:4,e(!0);var r=sS.transition;sS.transition={};try{e(!1),t()}finally{tx=n,sS.transition=r}}function at(){return sU().memoizedState}function an(e,t,n){var r=oL(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ai(e)?as(t,n):null!==(n=iX(e,t,n,r))&&(oM(n,e,r,oO()),aa(n,t,r))}function ar(e,t,n){var r=oL(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ai(e))as(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,nQ(o,a)){var l=t.interleaved;null===l?(i.next=i,iQ(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch(e){}finally{}null!==(n=iX(e,t,i,r))&&(oM(n,e,r,i=oO()),aa(n,t,r))}}function ai(e){var t=e.alternate;return e===sT||null!==t&&t===sT}function as(e,t){sR=sN=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aa(e,t,n){if(0!=(4194240&n)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tE(e,n)}}var ao={readContext:iK,useCallback:sP,useContext:sP,useEffect:sP,useImperativeHandle:sP,useInsertionEffect:sP,useLayoutEffect:sP,useMemo:sP,useReducer:sP,useRef:sP,useState:sP,useDebugValue:sP,useDeferredValue:sP,useTransition:sP,useMutableSource:sP,useSyncExternalStore:sP,useId:sP,unstable_isNewReconciler:!1},al={readContext:iK,useCallback:function(e,t){return sj().memoizedState=[e,void 0===t?null:t],e},useContext:iK,useEffect:s0,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,sJ(4194308,4,s3.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sJ(4194308,4,e,t)},useInsertionEffect:function(e,t){return sJ(4,2,e,t)},useMemo:function(e,t){var n=sj();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sj();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=an.bind(null,sT,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},sj().memoizedState=e},useState:sQ,useDebugValue:s9,useDeferredValue:function(e){return sj().memoizedState=e},useTransition:function(){var e=sQ(!1),t=e[0];return e=ae.bind(null,e[1]),sj().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sT,i=sj();if(iT){if(void 0===n)throw Error(h(407));n=n()}else{if(n=t(),null===ou)throw Error(h(349));0!=(30&sk)||sH(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,s0(sW.bind(null,r,s,e),[e]),r.flags|=2048,sX(9,sq.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=sj(),t=ou.identifierPrefix;if(iT){var n=iw,r=iy;t=":"+t+"R"+(n=(r&~(1<<32-th(r)-1)).toString(32)+n),0<(n=sA++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=sD++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},au={readContext:iK,useCallback:s5,useContext:iK,useEffect:s1,useImperativeHandle:s6,useInsertionEffect:s2,useLayoutEffect:s4,useMemo:s8,useReducer:sV,useRef:sY,useState:function(){return sV(sF)},useDebugValue:s9,useDeferredValue:function(e){return s7(sU(),sC.memoizedState,e)},useTransition:function(){return[sV(sF)[0],sU().memoizedState]},useMutableSource:sB,useSyncExternalStore:s$,useId:at,unstable_isNewReconciler:!1},ac={readContext:iK,useCallback:s5,useContext:iK,useEffect:s1,useImperativeHandle:s6,useInsertionEffect:s2,useLayoutEffect:s4,useMemo:s8,useReducer:sz,useRef:sY,useState:function(){return sz(sF)},useDebugValue:s9,useDeferredValue:function(e){var t=sU();return null===sC?t.memoizedState=e:s7(t,sC.memoizedState,e)},useTransition:function(){return[sz(sF)[0],sU().memoizedState]},useMutableSource:sB,useSyncExternalStore:s$,useId:at,unstable_isNewReconciler:!1};function ah(e,t){try{var n="",r=t;do n+=function(e){switch(e.tag){case 5:return er(e.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return e=es(e.type,!1);case 11:return e=es(e.type.render,!1);case 1:return e=es(e.type,!0);default:return""}}(r),r=r.return;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function ad(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function af(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var ap="function"==typeof WeakMap?WeakMap:Map;function am(e,t,n){(n=i1(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oS||(oS=!0,ok=r),af(e,t)},n}function ag(e,t,n){(n=i1(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){af(e,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){af(e,t),"function"!=typeof r&&(null===oT?oT=new Set([this]):oT.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function av(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ap;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=o4.bind(null,e,t,n),t.then(e,e))}function ay(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e)return null}function aw(e,t,n,r,i){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=i1(-1,1)).tag=2,i2(n,t,1))),n.lanes|=1):(e.flags|=65536,e.lanes=i),e}var ab=C.ReactCurrentOwner,a_=!1;function aE(e,t,n,r){t.child=null===e?su(t,null,n,r):sl(t,e.child,n,r)}function ax(e,t,n,r,i){n=n.render;var s=t.ref;return(iW(t,i),r=sL(e,t,n,r,s,i),n=sM(),null===e||a_)?(iT&&n&&iE(t),t.flags|=1,aE(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aB(e,t,i))}function aS(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||o7(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=lt(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ak(e,t,s,r,i))}if(s=e.child,0==(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:nX)(a,r)&&e.ref===t.ref)return aB(e,t,i)}return t.flags|=1,(e=le(s,r)).ref=t.ref,e.return=t,t.child=e}function ak(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(nX(s,r)&&e.ref===t.ref){if(a_=!1,t.pendingProps=r=s,0==(e.lanes&i))return t.lanes=e.lanes,aB(e,t,i);0!=(131072&e.flags)&&(a_=!0)}}return aI(e,t,n,r,i)}function aT(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r2(of,od),od|=n;else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,r2(of,od),od|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,r2(of,od),od|=r}}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,r2(of,od),od|=r;return aE(e,t,i,n),t.child}function aC(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function aI(e,t,n,r,i){var s=r8(n)?r9:r3.current;return(s=r5(t,s),iW(t,i),n=sL(e,t,n,r,s,i),r=sM(),null===e||a_)?(iT&&r&&iE(t),t.flags|=1,aE(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aB(e,t,i))}function aN(e,t,n,r,i){if(r8(n)){var s=!0;ir(t)}else s=!1;if(iW(t,i),null===t.stateNode)az(e,t),st(t,n,r),sr(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?iK(u):r5(t,u=r8(n)?r9:r3.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||l!==u)&&sn(t,a,r,u),iJ=!1;var d=t.memoizedState;a.state=d,i6(t,r,a,i),l=t.memoizedState,o!==r||d!==l||r6.current||iJ?("function"==typeof c&&(i8(t,n,c,r),l=t.memoizedState),(o=iJ||se(t,n,o,r,d,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,i0(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:iU(t.type,o),a.props=u,h=t.pendingProps,d=a.context,l="object"==typeof(l=n.contextType)&&null!==l?iK(l):r5(t,l=r8(n)?r9:r3.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==h||d!==l)&&sn(t,a,r,l),iJ=!1,d=t.memoizedState,a.state=d,i6(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||r6.current||iJ?("function"==typeof f&&(i8(t,n,f,r),p=t.memoizedState),(u=iJ||se(t,n,u,r,d,p,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return aR(e,t,n,r,s,i)}function aR(e,t,n,r,i,s){aC(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&ii(t,n,!1),aB(e,t,s);r=t.stateNode,ab.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=sl(t,e.child,null,s),t.child=sl(t,null,o,s)):aE(e,t,o,s),t.memoizedState=r.state,i&&ii(t,n,!0),t.child}function aA(e){var t=e.stateNode;t.pendingContext?ie(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ie(e,t.context,!1),sm(e,t.containerInfo)}function aD(e,t,n,r,i){return iL(),iM(i),t.flags|=256,aE(e,t,n,r),t.child}var aP={dehydrated:null,treeContext:null,retryLane:0};function aO(e){return{baseLanes:e,cachePool:null,transitions:null}}function aL(e,t,n){var r,i=t.pendingProps,s=sw.current,a=!1,o=0!=(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(a=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(s|=1),r2(sw,1&s),null===e)return(iA(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,a?(i=t.mode,a=t.child,o={mode:"hidden",children:o},0==(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=o):a=lr(o,i,0,null),e=ln(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=aO(n),t.memoizedState=aP,e):aM(t,o));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,aj(e,t,a,r=ad(Error(h(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=lr({mode:"visible",children:r.children},i,0,null),s=ln(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!=(1&t.mode)&&sl(t,e.child,null,a),t.child.memoizedState=aO(a),t.memoizedState=aP,s);if(0==(1&t.mode))return aj(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var o=r.dgst;return r=o,aj(e,t,a,r=ad(s=Error(h(419)),r,void 0))}if(o=0!=(a&e.childLanes),a_||o){if(null!==(r=ou)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,iY(e,i),oM(r,e,i,-1))}return oQ(),aj(e,t,a,r=ad(Error(h(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=o6.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ik=rF(i.nextSibling),iS=t,iT=!0,iC=null,null!==e&&(im[ig++]=iy,im[ig++]=iw,im[ig++]=iv,iy=e.id,iw=e.overflow,iv=t),t=aM(t,r.children),t.flags|=4096,t)}(e,t,o,i,r,s,n);if(a){a=i.fallback,o=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&o)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=le(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=le(r,a):(a=ln(a,o,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,o=null===(o=e.child.memoizedState)?aO(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=aP,i}return e=(a=e.child).sibling,i=le(a,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function aM(e,t){return(t=lr({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function aj(e,t,n,r){return null!==r&&iM(r),sl(t,e.child,null,n),e=aM(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aU(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),iq(e.return,t,n)}function aF(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function aV(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(aE(e,t,r.children,n),0!=(2&(r=sw.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&aU(e,n,t);else if(19===e.tag)aU(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(r2(sw,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===sb(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),aF(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===sb(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}aF(t,!0,n,null,s);break;case"together":aF(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function az(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function aB(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),og|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(h(153));if(null!==t.child){for(n=le(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=le(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function a$(e,t){if(!iT)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aH(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}r=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},i=function(){},a=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,sp(sh.current);var s,a=null;switch(n){case"input":i=eh(e,i),r=eh(e,r),a=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),a=[];break;case"textarea":i=ew(e,i),r=ew(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=rN)}for(u in eO(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u]){if("style"===u){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(f.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null))}for(u in r){var l=r[u];if(o=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(null!=l||null!=o)){if("style"===u){if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l}else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(f.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&rm("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},o=function(e,t,n,r){n!==r&&(t.flags|=4)};var aq=!1,aW=!1,aK="function"==typeof WeakSet?WeakSet:Set,aG=null;function aQ(e,t){var n=e.ref;if(null!==n){if("function"==typeof n)try{n(null)}catch(n){o2(e,t,n)}else n.current=null}}function aX(e,t,n){try{n()}catch(n){o2(e,t,n)}}var aY=!1;function aJ(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&aX(t,n,s)}i=i.next}while(i!==r)}}function aZ(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function a0(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function a1(e){return 5===e.tag||3===e.tag||4===e.tag}function a2(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||a1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var a4=null,a3=!1;function a6(e,t,n){for(n=n.child;null!==n;)a9(e,t,n),n=n.sibling}function a9(e,t,n){if(tc&&"function"==typeof tc.onCommitFiberUnmount)try{tc.onCommitFiberUnmount(tu,n)}catch(e){}switch(n.tag){case 5:aW||aQ(n,t);case 6:var r=a4,i=a3;a4=null,a6(e,t,n),a4=r,a3=i,null!==a4&&(a3?(e=a4,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):a4.removeChild(n.stateNode));break;case 18:null!==a4&&(a3?(e=a4,n=n.stateNode,8===e.nodeType?rU(e.parentNode,n):1===e.nodeType&&rU(e,n),tW(e)):rU(a4,n.stateNode));break;case 4:r=a4,i=a3,a4=n.stateNode.containerInfo,a3=!0,a6(e,t,n),a4=r,a3=i;break;case 0:case 11:case 14:case 15:if(!aW&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!=(2&s)?aX(n,t,a):0!=(4&s)&&aX(n,t,a)),i=i.next}while(i!==r)}a6(e,t,n);break;case 1:if(!aW&&(aQ(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){o2(n,t,e)}a6(e,t,n);break;case 21:default:a6(e,t,n);break;case 22:1&n.mode?(aW=(r=aW)||null!==n.memoizedState,a6(e,t,n),aW=r):a6(e,t,n)}}function a5(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new aK),t.forEach(function(t){var r=o9.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function a8(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=s;e:for(;null!==a;){switch(a.tag){case 5:a4=a.stateNode,a3=!1;break e;case 3:case 4:a4=a.stateNode.containerInfo,a3=!0;break e}a=a.return}if(null===a4)throw Error(h(160));a9(e,s,i),a4=null,a3=!1;var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(e){o2(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)a7(t,e),t=t.sibling}function a7(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(a8(t,e),oe(e),4&r){try{aJ(3,e,e.return),aZ(3,e)}catch(t){o2(e,e.return,t)}try{aJ(5,e,e.return)}catch(t){o2(e,e.return,t)}}break;case 1:a8(t,e),oe(e),512&r&&null!==n&&aQ(n,n.return);break;case 5:if(a8(t,e),oe(e),512&r&&null!==n&&aQ(n,n.return),32&e.flags){var i=e.stateNode;try{eI(i,"")}catch(t){o2(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===s.type&&null!=s.name&&ef(i,s),eL(o,a);var u=eL(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];"style"===c?eD(i,d):"dangerouslySetInnerHTML"===c?eC(i,d):"children"===c?eI(i,d):T(i,c,d,u)}switch(o){case"input":ep(i,s);break;case"textarea":e_(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ey(i,!!s.multiple,p,!1):!!s.multiple!==f&&(null!=s.defaultValue?ey(i,!!s.multiple,s.defaultValue,!0):ey(i,!!s.multiple,s.multiple?[]:"",!1))}i[r$]=s}catch(t){o2(e,e.return,t)}}break;case 6:if(a8(t,e),oe(e),4&r){if(null===e.stateNode)throw Error(h(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(t){o2(e,e.return,t)}}break;case 3:if(a8(t,e),oe(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{tW(t.containerInfo)}catch(t){o2(e,e.return,t)}break;case 4:default:a8(t,e),oe(e);break;case 13:a8(t,e),oe(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,s&&(null===i.alternate||null===i.alternate.memoizedState)&&(o_=tn())),4&r&&a5(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(aW=(u=aW)||c,a8(t,e),aW=u):a8(t,e),oe(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&0!=(1&e.mode))for(aG=e,c=e.child;null!==c;){for(d=aG=c;null!==aG;){switch(p=(f=aG).child,f.tag){case 0:case 11:case 14:case 15:aJ(4,f,f.return);break;case 1:aQ(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){o2(r,n,e)}}break;case 5:aQ(f,f.return);break;case 22:if(null!==f.memoizedState){on(d);continue}}null!==p?(p.return=f,aG=p):on(d)}c=c.sibling}e:for(c=null,d=e;;){if(5===d.tag){if(null===c){c=d;try{i=d.stateNode,u?(s=i.style,"function"==typeof s.setProperty?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,a=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=eA("display",a))}catch(t){o2(e,e.return,t)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(t){o2(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:a8(t,e),oe(e),4&r&&a5(e);case 21:}}function oe(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(a1(n)){var r=n;break e}n=n.return}throw Error(h(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(eI(i,""),r.flags&=-33);var s=a2(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=a2(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=rN));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,o,a);break;default:throw Error(h(161))}}catch(t){o2(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ot(e){for(;null!==aG;){var t=aG;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:aW||aZ(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!aW){if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:iU(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}}var s=t.updateQueue;null!==s&&i9(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}i9(t,a,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&tW(d)}}}break;default:throw Error(h(163))}aW||512&t.flags&&a0(t)}catch(e){o2(t,t.return,e)}}if(t===e){aG=null;break}if(null!==(n=t.sibling)){n.return=t.return,aG=n;break}aG=t.return}}function on(e){for(;null!==aG;){var t=aG;if(t===e){aG=null;break}var n=t.sibling;if(null!==n){n.return=t.return,aG=n;break}aG=t.return}}function or(e){for(;null!==aG;){var t=aG;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{aZ(4,t)}catch(e){o2(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){o2(t,i,e)}}var s=t.return;try{a0(t)}catch(e){o2(t,s,e)}break;case 5:var a=t.return;try{a0(t)}catch(e){o2(t,a,e)}}}catch(e){o2(t,t.return,e)}if(t===e){aG=null;break}var o=t.sibling;if(null!==o){o.return=t.return,aG=o;break}aG=t.return}}var oi=Math.ceil,os=C.ReactCurrentDispatcher,oa=C.ReactCurrentOwner,oo=C.ReactCurrentBatchConfig,ol=0,ou=null,oc=null,oh=0,od=0,of=r0(0),op=0,om=null,og=0,ov=0,oy=0,ow=null,ob=null,o_=0,oE=1/0,ox=null,oS=!1,ok=null,oT=null,oC=!1,oI=null,oN=0,oR=0,oA=null,oD=-1,oP=0;function oO(){return 0!=(6&ol)?tn():-1!==oD?oD:oD=tn()}function oL(e){return 0==(1&e.mode)?1:0!=(2&ol)&&0!==oh?oh&-oh:null!==ij.transition?(0===oP&&(oP=tw()),oP):0!==(e=tx)?e:e=void 0===(e=window.event)?16:t0(e.type)}function oM(e,t,n,r){if(50<oR)throw oR=0,oA=null,Error(h(185));t_(e,n,r),(0==(2&ol)||e!==ou)&&(e===ou&&(0==(2&ol)&&(ov|=n),4===op&&oz(e,oh)),oj(e,r),1===n&&0===ol&&0==(1&t.mode)&&(oE=tn()+500,ia&&iu()))}function oj(e,t){var n,r=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-th(s),o=1<<a,l=i[a];-1===l?(0==(o&n)||0!=(o&r))&&(i[a]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var i=tv(e,e===ou?oh:0);if(0===i)null!==r&&e7(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=r&&e7(r),1===t)0===e.tag?(n=oB.bind(null,e),ia=!0,il(n)):il(oB.bind(null,e)),rM(function(){0==(6&ol)&&iu()}),r=null;else{switch(tS(i)){case 1:r=ti;break;case 4:r=ts;break;case 16:default:r=ta;break;case 536870912:r=tl}r=e8(r,oU.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oU(e,t){if(oD=-1,oP=0,0!=(6&ol))throw Error(h(327));var n=e.callbackNode;if(o0()&&e.callbackNode!==n)return null;var r=tv(e,e===ou?oh:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=oX(e,r);else{t=r;var i=ol;ol|=2;var s=oG();for((ou!==e||oh!==t)&&(ox=null,oE=tn()+500,oW(e,t));;)try{(function(){for(;null!==oc&&!te();)oY(oc)})();break}catch(t){oK(e,t)}i$(),os.current=s,ol=i,null!==oc?t=0:(ou=null,oh=0,t=op)}if(0!==t){if(2===t&&0!==(i=ty(e))&&(r=i,t=oF(e,i)),1===t)throw n=om,oW(e,0),oz(e,r),oj(e,tn()),n;if(6===t)oz(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nQ(s(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=oX(e,r))&&0!==(s=ty(e))&&(r=s,t=oF(e,s)),1===t))throw n=om,oW(e,0),oz(e,r),oj(e,tn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(h(345));case 2:case 5:oZ(e,ob,ox);break;case 3:if(oz(e,r),(130023424&r)===r&&10<(t=o_+500-tn())){if(0!==tv(e,0))break;if(((i=e.suspendedLanes)&r)!==r){oO(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rP(oZ.bind(null,e,ob,ox),t);break}oZ(e,ob,ox);break;case 4:if(oz(e,r),(4194240&r)===r)break;for(i=-1,t=e.eventTimes;0<r;){var a=31-th(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=tn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oi(r/1960))-r)){e.timeoutHandle=rP(oZ.bind(null,e,ob,ox),r);break}oZ(e,ob,ox);break;default:throw Error(h(329))}}}return oj(e,tn()),e.callbackNode===n?oU.bind(null,e):null}function oF(e,t){var n=ow;return e.current.memoizedState.isDehydrated&&(oW(e,t).flags|=256),2!==(e=oX(e,t))&&(t=ob,ob=n,null!==t&&oV(t)),e}function oV(e){null===ob?ob=e:ob.push.apply(ob,e)}function oz(e,t){for(t&=~oy,t&=~ov,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-th(t),r=1<<n;e[n]=-1,t&=~r}}function oB(e){if(0!=(6&ol))throw Error(h(327));o0();var t=tv(e,0);if(0==(1&t))return oj(e,tn()),null;var n=oX(e,t);if(0!==e.tag&&2===n){var r=ty(e);0!==r&&(t=r,n=oF(e,r))}if(1===n)throw n=om,oW(e,0),oz(e,t),oj(e,tn()),n;if(6===n)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oZ(e,ob,ox),oj(e,tn()),null}function o$(e,t){var n=ol;ol|=1;try{return e(t)}finally{0===(ol=n)&&(oE=tn()+500,ia&&iu())}}function oH(e){null!==oI&&0===oI.tag&&0==(6&ol)&&o0();var t=ol;ol|=1;var n=oo.transition,r=tx;try{if(oo.transition=null,tx=1,e)return e()}finally{tx=r,oo.transition=n,0==(6&(ol=t))&&iu()}}function oq(){od=of.current,r1(of)}function oW(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rO(n)),null!==oc)for(n=oc.return;null!==n;){var r=n;switch(ix(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&r7();break;case 3:sg(),r1(r6),r1(r3),sE();break;case 5:sy(r);break;case 4:sg();break;case 13:case 19:r1(sw);break;case 10:iH(r.type._context);break;case 22:case 23:oq()}n=n.return}if(ou=e,oc=e=le(e.current,null),oh=od=t,op=0,om=null,oy=ov=og=0,ob=ow=null,null!==iG){for(t=0;t<iG.length;t++)if(null!==(r=(n=iG[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}iG=null}return e}function oK(e,t){for(;;){var n=oc;try{if(i$(),sx.current=ao,sN){for(var r=sT.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}sN=!1}if(sk=0,sI=sC=sT=null,sR=!1,sA=0,oa.current=null,null===n||null===n.return){op=1,om=t,oc=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=oh,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=o,d=c.tag;if(0==(1&c.mode)&&(0===d||11===d||15===d)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=ay(a);if(null!==p){p.flags&=-257,aw(p,a,o,s,t),1&p.mode&&av(s,u,t),t=p,l=u;var m=t.updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0==(1&t)){av(s,u,t),oQ();break e}l=Error(h(426))}else if(iT&&1&o.mode){var v=ay(a);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),aw(v,a,o,s,t),iM(ah(l,o));break e}}s=l=ah(l,o),4!==op&&(op=2),null===ow?ow=[s]:ow.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=am(s,l,t);i3(s,y);break e;case 1:o=l;var w=s.type,b=s.stateNode;if(0==(128&s.flags)&&("function"==typeof w.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===oT||!oT.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=ag(s,o,t);i3(s,_);break e}}s=s.return}while(null!==s)}oJ(n)}catch(e){t=e,oc===n&&null!==n&&(oc=n=n.return);continue}break}}function oG(){var e=os.current;return os.current=ao,null===e?ao:e}function oQ(){(0===op||3===op||2===op)&&(op=4),null===ou||0==(268435455&og)&&0==(268435455&ov)||oz(ou,oh)}function oX(e,t){var n=ol;ol|=2;var r=oG();for((ou!==e||oh!==t)&&(ox=null,oW(e,t));;)try{(function(){for(;null!==oc;)oY(oc)})();break}catch(t){oK(e,t)}if(i$(),ol=n,os.current=r,null!==oc)throw Error(h(261));return ou=null,oh=0,op}function oY(e){var t=l(e.alternate,e,od);e.memoizedProps=e.pendingProps,null===t?oJ(e):oc=t,oa.current=null}function oJ(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var s=t.pendingProps;switch(ix(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return aH(t),null;case 1:case 17:return r8(t.type)&&r7(),aH(t),null;case 3:return s=t.stateNode,sg(),r1(r6),r1(r3),sE(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(null===e||null===e.child)&&(iP(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==iC&&(oV(iC),iC=null))),i(e,t),aH(t),null;case 5:sy(t);var l=sp(sf.current);if(n=t.type,null!==e&&null!=t.stateNode)a(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(h(166));return aH(t),null}if(e=sp(sh.current),iP(t)){s=t.stateNode,n=t.type;var u=t.memoizedProps;switch(s[rB]=t,s[r$]=u,e=0!=(1&t.mode),n){case"dialog":rm("cancel",s),rm("close",s);break;case"iframe":case"object":case"embed":rm("load",s);break;case"video":case"audio":for(l=0;l<rh.length;l++)rm(rh[l],s);break;case"source":rm("error",s);break;case"img":case"image":case"link":rm("error",s),rm("load",s);break;case"details":rm("toggle",s);break;case"input":ed(s,u),rm("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},rm("invalid",s);break;case"textarea":eb(s,u),rm("invalid",s)}for(var c in eO(n,u),l=null,u)if(u.hasOwnProperty(c)){var d=u[c];"children"===c?"string"==typeof d?s.textContent!==d&&(!0!==u.suppressHydrationWarning&&rI(s.textContent,d,e),l=["children",d]):"number"==typeof d&&s.textContent!==""+d&&(!0!==u.suppressHydrationWarning&&rI(s.textContent,d,e),l=["children",""+d]):f.hasOwnProperty(c)&&null!=d&&"onScroll"===c&&rm("scroll",s)}switch(n){case"input":el(s),em(s,u,!0);break;case"textarea":el(s),eE(s);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(s.onclick=rN)}s=l,t.updateQueue=s,null!==s&&(t.flags|=4)}else{c=9===l.nodeType?l:l.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ex(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):"string"==typeof s.is?e=c.createElement(n,{is:s.is}):(e=c.createElement(n),"select"===n&&(c=e,s.multiple?c.multiple=!0:s.size&&(c.size=s.size))):e=c.createElementNS(e,n),e[rB]=t,e[r$]=s,r(e,t,!1,!1),t.stateNode=e;e:{switch(c=eL(n,s),n){case"dialog":rm("cancel",e),rm("close",e),l=s;break;case"iframe":case"object":case"embed":rm("load",e),l=s;break;case"video":case"audio":for(l=0;l<rh.length;l++)rm(rh[l],e);l=s;break;case"source":rm("error",e),l=s;break;case"img":case"image":case"link":rm("error",e),rm("load",e),l=s;break;case"details":rm("toggle",e),l=s;break;case"input":ed(e,s),l=eh(e,s),rm("invalid",e);break;case"option":default:l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=en({},s,{value:void 0}),rm("invalid",e);break;case"textarea":eb(e,s),l=ew(e,s),rm("invalid",e)}for(u in eO(n,l),d=l)if(d.hasOwnProperty(u)){var p=d[u];"style"===u?eD(e,p):"dangerouslySetInnerHTML"===u?null!=(p=p?p.__html:void 0)&&eC(e,p):"children"===u?"string"==typeof p?("textarea"!==n||""!==p)&&eI(e,p):"number"==typeof p&&eI(e,""+p):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(f.hasOwnProperty(u)?null!=p&&"onScroll"===u&&rm("scroll",e):null!=p&&T(e,u,p,c))}switch(n){case"input":el(e),em(e,s,!1);break;case"textarea":el(e),eE(e);break;case"option":null!=s.value&&e.setAttribute("value",""+ea(s.value));break;case"select":e.multiple=!!s.multiple,null!=(u=s.value)?ey(e,!!s.multiple,u,!1):null!=s.defaultValue&&ey(e,!!s.multiple,s.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=rN)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return aH(t),null;case 6:if(e&&null!=t.stateNode)o(e,t,e.memoizedProps,s);else{if("string"!=typeof s&&null===t.stateNode)throw Error(h(166));if(n=sp(sf.current),sp(sh.current),iP(t)){if(s=t.stateNode,n=t.memoizedProps,s[rB]=t,(u=s.nodeValue!==n)&&null!==(e=iS))switch(e.tag){case 3:rI(s.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&rI(s.nodeValue,n,0!=(1&e.mode))}u&&(t.flags|=4)}else(s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[rB]=t,t.stateNode=s}return aH(t),null;case 13:if(r1(sw),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(iT&&null!==ik&&0!=(1&t.mode)&&0==(128&t.flags))iO(),iL(),t.flags|=98560,u=!1;else if(u=iP(t),null!==s&&null!==s.dehydrated){if(null===e){if(!u)throw Error(h(318));if(!(u=null!==(u=t.memoizedState)?u.dehydrated:null))throw Error(h(317));u[rB]=t}else iL(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;aH(t),u=!1}else null!==iC&&(oV(iC),iC=null),u=!0;if(!u)return 65536&t.flags?t:null}if(0!=(128&t.flags))return t.lanes=n,t;return(s=null!==s)!=(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&sw.current)?0===op&&(op=3):oQ())),null!==t.updateQueue&&(t.flags|=4),aH(t),null;case 4:return sg(),i(e,t),null===e&&ry(t.stateNode.containerInfo),aH(t),null;case 10:return iH(t.type._context),aH(t),null;case 19:if(r1(sw),null===(u=t.memoizedState))return aH(t),null;if(s=0!=(128&t.flags),null===(c=u.rendering)){if(s)a$(u,!1);else{if(0!==op||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=sb(e))){for(t.flags|=128,a$(u,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;null!==n;)u=n,e=s,u.flags&=14680066,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return r2(sw,1&sw.current|2),t.child}e=e.sibling}null!==u.tail&&tn()>oE&&(t.flags|=128,s=!0,a$(u,!1),t.lanes=4194304)}}else{if(!s){if(null!==(e=sb(c))){if(t.flags|=128,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),a$(u,!0),null===u.tail&&"hidden"===u.tailMode&&!c.alternate&&!iT)return aH(t),null}else 2*tn()-u.renderingStartTime>oE&&1073741824!==n&&(t.flags|=128,s=!0,a$(u,!1),t.lanes=4194304)}u.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=u.last)?n.sibling=c:t.child=c,u.last=c)}if(null!==u.tail)return t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=tn(),t.sibling=null,n=sw.current,r2(sw,s?1&n|2:1&n),t;return aH(t),null;case 22:case 23:return oq(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!=(1&t.mode)?0!=(1073741824&od)&&(aH(t),6&t.subtreeFlags&&(t.flags|=8192)):aH(t),null;case 24:case 25:return null}throw Error(h(156,t.tag))}(n,t,od))){oc=n;return}}else{if(null!==(n=function(e,t){switch(ix(t),t.tag){case 1:return r8(t.type)&&r7(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sg(),r1(r6),r1(r3),sE(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sy(t),null;case 13:if(r1(sw),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(h(340));iL()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return r1(sw),null;case 4:return sg(),null;case 10:return iH(t.type._context),null;case 22:case 23:return oq(),null;default:return null}}(n,t))){n.flags&=32767,oc=n;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{op=6,oc=null;return}}if(null!==(t=t.sibling)){oc=t;return}oc=t=e}while(null!==t)0===op&&(op=5)}function oZ(e,t,n){var r=tx,i=oo.transition;try{oo.transition=null,tx=1,function(e,t,n,r){do o0();while(null!==oI)if(0!=(6&ol))throw Error(h(327));n=e.finishedWork;var i=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-th(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,s),e===ou&&(oc=ou=null,oh=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||oC||(oC=!0,a=ta,o=function(){return o0(),null},e8(a,o)),s=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||s){s=oo.transition,oo.transition=null;var a,o,l,u,c,d=tx;tx=1;var f=ol;ol|=4,oa.current=null,function(e,t){if(rR=tG,n0(e=nZ())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i,s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(;f!==n||0!==s&&3!==f.nodeType||(l=o+s),f!==a||0!==r&&3!==f.nodeType||(u=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(i=f.firstChild);)p=f,f=i;for(;;){if(f===e)break t;if(p===n&&++c===s&&(l=o),p===a&&++d===r&&(u=o),null!==(i=f.nextSibling))break;p=(f=p).parentNode}f=i}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rA={focusedElem:e,selectionRange:n},tG=!1,aG=t;null!==aG;)if(e=(t=aG).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,aG=e;else for(;null!==aG;){t=aG;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:iU(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(h(163))}}catch(e){o2(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,aG=e;break}aG=t.return}m=aY,aY=!1}(e,n),a7(n,e),function(e){var t=nZ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&n0(n)){if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=nJ(n,s);var a=nJ(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(rA),tG=!!rR,rA=rR=null,e.current=n,l=n,u=e,c=i,aG=l,function e(t,n,r){for(var i=0!=(1&t.mode);null!==aG;){var s=aG,a=s.child;if(22===s.tag&&i){var o=null!==s.memoizedState||aq;if(!o){var l=s.alternate,u=null!==l&&null!==l.memoizedState||aW;l=aq;var c=aW;if(aq=o,(aW=u)&&!c)for(aG=s;null!==aG;)u=(o=aG).child,22===o.tag&&null!==o.memoizedState?or(s):null!==u?(u.return=o,aG=u):or(s);for(;null!==a;)aG=a,e(a,n,r),a=a.sibling;aG=s,aq=l,aW=c}ot(t,n,r)}else 0!=(8772&s.subtreeFlags)&&null!==a?(a.return=s,aG=a):ot(t,n,r)}}(l,u,c),tt(),ol=f,tx=d,oo.transition=s}else e.current=n;if(oC&&(oC=!1,oI=e,oN=i),0===(s=e.pendingLanes)&&(oT=null),function(e){if(tc&&"function"==typeof tc.onCommitFiberRoot)try{tc.onCommitFiberRoot(tu,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode,r),oj(e,tn()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(oS)throw oS=!1,e=ok,ok=null,e;0!=(1&oN)&&0!==e.tag&&o0(),0!=(1&(s=e.pendingLanes))?e===oA?oR++:(oR=0,oA=e):oR=0,iu()}}(e,t,n,r)}finally{oo.transition=i,tx=r}return null}function o0(){if(null!==oI){var e=tS(oN),t=oo.transition,n=tx;try{if(oo.transition=null,tx=16>e?16:e,null===oI)var r=!1;else{if(e=oI,oI=null,oN=0,0!=(6&ol))throw Error(h(331));var i=ol;for(ol|=4,aG=e.current;null!==aG;){var s=aG,a=s.child;if(0!=(16&aG.flags)){var o=s.deletions;if(null!==o){for(var l=0;l<o.length;l++){var u=o[l];for(aG=u;null!==aG;){var c=aG;switch(c.tag){case 0:case 11:case 15:aJ(8,c,s)}var d=c.child;if(null!==d)d.return=c,aG=d;else for(;null!==aG;){var f=(c=aG).sibling,p=c.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[rB],delete n[r$],delete n[rq],delete n[rW],delete n[rK]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(c),c===u){aG=null;break}if(null!==f){f.return=p,aG=f;break}aG=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}aG=s}}if(0!=(2064&s.subtreeFlags)&&null!==a)a.return=s,aG=a;else for(;null!==aG;){if(s=aG,0!=(2048&s.flags))switch(s.tag){case 0:case 11:case 15:aJ(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,aG=y;break}aG=s.return}}var w=e.current;for(aG=w;null!==aG;){var b=(a=aG).child;if(0!=(2064&a.subtreeFlags)&&null!==b)b.return=a,aG=b;else for(a=w;null!==aG;){if(o=aG,0!=(2048&o.flags))try{switch(o.tag){case 0:case 11:case 15:aZ(9,o)}}catch(e){o2(o,o.return,e)}if(o===a){aG=null;break}var _=o.sibling;if(null!==_){_.return=o.return,aG=_;break}aG=o.return}}if(ol=i,iu(),tc&&"function"==typeof tc.onPostCommitFiberRoot)try{tc.onPostCommitFiberRoot(tu,e)}catch(e){}r=!0}return r}finally{tx=n,oo.transition=t}}return!1}function o1(e,t,n){t=am(e,t=ah(n,t),1),e=i2(e,t,1),t=oO(),null!==e&&(t_(e,1,t),oj(e,t))}function o2(e,t,n){if(3===e.tag)o1(e,e,n);else for(;null!==t;){if(3===t.tag){o1(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===oT||!oT.has(r))){e=ag(t,e=ah(n,e),1),t=i2(t,e,1),e=oO(),null!==t&&(t_(t,1,e),oj(t,e));break}}t=t.return}}function o4(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=oO(),e.pingedLanes|=e.suspendedLanes&n,ou===e&&(oh&n)===n&&(4===op||3===op&&(130023424&oh)===oh&&500>tn()-o_?oW(e,0):oy|=n),oj(e,t)}function o3(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tm,0==(130023424&(tm<<=1))&&(tm=4194304)));var n=oO();null!==(e=iY(e,t))&&(t_(e,t,n),oj(e,n))}function o6(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),o3(e,n)}function o9(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(h(314))}null!==r&&r.delete(t),o3(e,n)}function o5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function o8(e,t,n,r){return new o5(e,t,n,r)}function o7(e){return!(!(e=e.prototype)||!e.isReactComponent)}function le(e,t){var n=e.alternate;return null===n?((n=o8(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lt(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)o7(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case R:return ln(n.children,i,s,t);case A:a=8,i|=8;break;case D:return(e=o8(12,n,t,2|i)).elementType=D,e.lanes=s,e;case M:return(e=o8(13,n,t,i)).elementType=M,e.lanes=s,e;case j:return(e=o8(19,n,t,i)).elementType=j,e.lanes=s,e;case V:return lr(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case P:a=10;break e;case O:a=9;break e;case L:a=11;break e;case U:a=14;break e;case F:a=16,r=null;break e}throw Error(h(130,null==e?e:typeof e,""))}return(t=o8(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function ln(e,t,n,r){return(e=o8(7,e,r,t)).lanes=n,e}function lr(e,t,n,r){return(e=o8(22,e,r,t)).elementType=V,e.lanes=n,e.stateNode={isHidden:!1},e}function li(e,t,n){return(e=o8(6,e,null,t)).lanes=n,e}function ls(e,t,n){return(t=o8(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function la(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tb(0),this.expirationTimes=tb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lo(e,t,n,r,i,s,a,o,l){return e=new la(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=o8(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iZ(s),e}function ll(e){if(!e)return r4;e=e._reactInternals;e:{if(e3(e)!==e||1!==e.tag)throw Error(h(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(r8(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t)throw Error(h(171))}if(1===e.tag){var n=e.type;if(r8(n))return it(e,n,t)}return t}function lu(e,t,n,r,i,s,a,o,l){return(e=lo(n,r,!0,e,i,s,a,o,l)).context=ll(null),n=e.current,(s=i1(r=oO(),i=oL(n))).callback=null!=t?t:null,i2(n,s,i),e.current.lanes=i,t_(e,i,r),oj(e,r),e}function lc(e,t,n,r){var i=t.current,s=oO(),a=oL(i);return n=ll(n),null===t.context?t.context=n:t.pendingContext=n,(t=i1(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=i2(i,t,a))&&(oM(e,i,a,s),i4(e,i,a)),a}function lh(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ld(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function lf(e,t){ld(e,t),(e=e.alternate)&&ld(e,t)}l=function(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps||r6.current)a_=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return a_=!1,function(e,t,n){switch(t.tag){case 3:aA(t),iL();break;case 5:sv(t);break;case 1:r8(t.type)&&ir(t);break;case 4:sm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;r2(iF,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState)){if(null!==r.dehydrated)return r2(sw,1&sw.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return aL(e,t,n);return r2(sw,1&sw.current),null!==(e=aB(e,t,n))?e.sibling:null}r2(sw,1&sw.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return aV(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),r2(sw,sw.current),!r)return null;break;case 22:case 23:return t.lanes=0,aT(e,t,n)}return aB(e,t,n)}(e,t,n);a_=0!=(131072&e.flags)}}else a_=!1,iT&&0!=(1048576&t.flags)&&i_(t,ip,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;az(e,t),e=t.pendingProps;var i=r5(t,r3.current);iW(t,n),i=sL(null,t,r,e,i,n);var s=sM();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,r8(r)?(s=!0,ir(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,iZ(t),i.updater=i7,t.stateNode=i,i._reactInternals=t,sr(t,r,e,n),t=aR(null,t,r,!0,s,n)):(t.tag=0,iT&&s&&iE(t),aE(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(az(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return o7(e)?1:0;if(null!=e){if((e=e.$$typeof)===L)return 11;if(e===U)return 14}return 2}(r),e=iU(r,e),i){case 0:t=aI(null,t,r,e,n);break e;case 1:t=aN(null,t,r,e,n);break e;case 11:t=ax(null,t,r,e,n);break e;case 14:t=aS(null,t,r,iU(r.type,e),n);break e}throw Error(h(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:iU(r,i),aI(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:iU(r,i),aN(e,t,r,i,n);case 3:e:{if(aA(t),null===e)throw Error(h(387));r=t.pendingProps,i=(s=t.memoizedState).element,i0(e,t),i6(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){i=ah(Error(h(423)),t),t=aD(e,t,r,n,i);break e}if(r!==i){i=ah(Error(h(424)),t),t=aD(e,t,r,n,i);break e}for(ik=rF(t.stateNode.containerInfo.firstChild),iS=t,iT=!0,iC=null,n=su(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(iL(),r===i){t=aB(e,t,n);break e}aE(e,t,r,n)}t=t.child}return t;case 5:return sv(t),null===e&&iA(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,rD(r,i)?a=null:null!==s&&rD(r,s)&&(t.flags|=32),aC(e,t),aE(e,t,a,n),t.child;case 6:return null===e&&iA(t),null;case 13:return aL(e,t,n);case 4:return sm(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=sl(t,null,r,n):aE(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:iU(r,i),ax(e,t,r,i,n);case 7:return aE(e,t,t.pendingProps,n),t.child;case 8:case 12:return aE(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,r2(iF,r._currentValue),r._currentValue=a,null!==s){if(nQ(s.value,a)){if(s.children===i.children&&!r6.current){t=aB(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){a=s.child;for(var l=o.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=i1(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),iq(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(h(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),iq(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}}aE(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,iW(t,n),r=r(i=iK(i)),t.flags|=1,aE(e,t,r,n),t.child;case 14:return i=iU(r=t.type,t.pendingProps),i=iU(r.type,i),aS(e,t,r,i,n);case 15:return ak(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:iU(r,i),az(e,t),t.tag=1,r8(r)?(e=!0,ir(t)):e=!1,iW(t,n),st(t,r,i),sr(t,r,i,n),aR(null,t,r,!0,e,n);case 19:return aV(e,t,n);case 22:return aT(e,t,n)}throw Error(h(156,t.tag))};var lp="function"==typeof reportError?reportError:function(e){console.error(e)};function lm(e){this._internalRoot=e}function lg(e){this._internalRoot=e}function lv(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ly(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lw(){}function lb(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"==typeof i){var o=i;i=function(){var e=lh(a);o.call(e)}}lc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var s=r;r=function(){var e=lh(a);s.call(e)}}var a=lu(t,r,e,0,null,!1,!1,"",lw);return e._reactRootContainer=a,e[rH]=a.current,ry(8===e.nodeType?e.parentNode:e),oH(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=lh(l);o.call(e)}}var l=lo(e,0,!1,null,null,!1,!1,"",lw);return e._reactRootContainer=l,e[rH]=l.current,ry(8===e.nodeType?e.parentNode:e),oH(function(){lc(t,l,n,r)}),l}(n,t,e,i,r);return lh(a)}lg.prototype.render=lm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(h(409));lc(e,t,null,null)},lg.prototype.unmount=lm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;oH(function(){lc(null,e,null,null)}),t[rH]=null}},lg.prototype.unstable_scheduleHydration=function(e){if(e){var t=tI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tj.length&&0!==t&&t<tj[n].priority;n++);tj.splice(n,0,e),0===n&&tz(e)}},tk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tg(t.pendingLanes);0!==n&&(tE(t,1|n),oj(t,tn()),0==(6&ol)&&(oE=tn()+500,iu()))}break;case 13:oH(function(){var t=iY(e,1);null!==t&&oM(t,e,1,oO())}),lf(e,1)}},tT=function(e){if(13===e.tag){var t=iY(e,134217728);null!==t&&oM(t,e,134217728,oO()),lf(e,134217728)}},tC=function(e){if(13===e.tag){var t=oL(e),n=iY(e,t);null!==n&&oM(n,e,t,oO()),lf(e,t)}},tI=function(){return tx},tN=function(e,t){var n=tx;try{return tx=e,t()}finally{tx=n}},eU=function(e,t,n){switch(t){case"input":if(ep(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=rY(r);if(!i)throw Error(h(90));eu(r),ep(r,i)}}}break;case"textarea":e_(e,n);break;case"select":null!=(t=n.value)&&ey(e,!!n.multiple,t,!1)}},eH=o$,eq=oH;var l_={findFiberByHostInstance:rG,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lE={bundleType:l_.bundleType,version:l_.version,rendererPackageName:l_.rendererPackageName,rendererConfig:l_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e5(e))?null:e.stateNode},findFiberByHostInstance:l_.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lx.isDisabled&&lx.supportsFiber)try{tu=lx.inject(lE),tc=lx}catch(e){}}$={usingClientEntryPoint:!1,Events:[rQ,rX,rY,eB,e$,o$]},H=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lv(t))throw Error(h(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},q=function(e,t){if(!lv(e))throw Error(h(299));var n=!1,r="",i=lp;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=lo(e,1,!1,null,null,n,!1,r,i),e[rH]=t.current,ry(8===e.nodeType?e.parentNode:e),new lm(t)},W=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(h(188));throw Error(h(268,e=Object.keys(e).join(",")))}return e=null===(e=e5(t))?null:e.stateNode},K=function(e){return oH(e)},G=function(e,t,n){if(!ly(t))throw Error(h(200));return lb(null,e,t,!0,n)},Q=function(e,t,n){if(!lv(e))throw Error(h(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=lp;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=lu(t,null,e,1,null!=n?n:null,i,!1,s,a),e[rH]=t.current,ry(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new lg(t)},X=function(e,t,n){if(!ly(t))throw Error(h(200));return lb(null,e,t,!1,n)},Y=function(e){if(!ly(e))throw Error(h(40));return!!e._reactRootContainer&&(oH(function(){lb(null,null,e,!1,function(){e._reactRootContainer=null,e[rH]=null})}),!0)},J=o$,Z=function(e,t,n,r){if(!ly(n))throw Error(h(200));if(null==e||void 0===e._reactInternals)throw Error(h(38));return lb(e,t,n,!1,r)},ee="18.2.0-next-9e3b772b8-20220608"}),k("fO90s",function(e,t){e.exports=S("gcnCG")}),k("gcnCG",function(e,t){function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<a(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else if(u<i&&0>a(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(s(e.exports,"unstable_now",()=>o,e=>o=e),s(e.exports,"unstable_IdlePriority",()=>l,e=>l=e),s(e.exports,"unstable_ImmediatePriority",()=>u,e=>u=e),s(e.exports,"unstable_LowPriority",()=>c,e=>c=e),s(e.exports,"unstable_NormalPriority",()=>h,e=>h=e),s(e.exports,"unstable_Profiling",()=>d,e=>d=e),s(e.exports,"unstable_UserBlockingPriority",()=>f,e=>f=e),s(e.exports,"unstable_cancelCallback",()=>p,e=>p=e),s(e.exports,"unstable_continueExecution",()=>m,e=>m=e),s(e.exports,"unstable_forceFrameRate",()=>g,e=>g=e),s(e.exports,"unstable_getCurrentPriorityLevel",()=>v,e=>v=e),s(e.exports,"unstable_getFirstCallbackNode",()=>y,e=>y=e),s(e.exports,"unstable_next",()=>w,e=>w=e),s(e.exports,"unstable_pauseExecution",()=>b,e=>b=e),s(e.exports,"unstable_requestPaint",()=>_,e=>_=e),s(e.exports,"unstable_runWithPriority",()=>E,e=>E=e),s(e.exports,"unstable_scheduleCallback",()=>x,e=>x=e),s(e.exports,"unstable_shouldYield",()=>S,e=>S=e),s(e.exports,"unstable_wrapCallback",()=>k,e=>k=e),"object"==typeof performance&&"function"==typeof performance.now){var o,l,u,c,h,d,f,p,m,g,v,y,w,b,_,E,x,S,k,T,C=performance;o=function(){return C.now()}}else{var I=Date,N=I.now();o=function(){return I.now()-N}}var R=[],A=[],D=1,P=null,O=3,L=!1,M=!1,j=!1,U="function"==typeof setTimeout?setTimeout:null,F="function"==typeof clearTimeout?clearTimeout:null,V="undefined"!=typeof setImmediate?setImmediate:null;function z(e){for(var t=r(A);null!==t;){if(null===t.callback)i(A);else if(t.startTime<=e)i(A),t.sortIndex=t.expirationTime,n(R,t);else break;t=r(A)}}function B(e){if(j=!1,z(e),!M){if(null!==r(R))M=!0,Z($);else{var t=r(A);null!==t&&ee(B,t.startTime-e)}}}function $(e,t){M=!1,j&&(j=!1,F(W),W=-1),L=!0;var n=O;try{for(z(t),P=r(R);null!==P&&(!(P.expirationTime>t)||e&&!Q());){var s=P.callback;if("function"==typeof s){P.callback=null,O=P.priorityLevel;var a=s(P.expirationTime<=t);t=o(),"function"==typeof a?P.callback=a:P===r(R)&&i(R),z(t)}else i(R);P=r(R)}if(null!==P)var l=!0;else{var u=r(A);null!==u&&ee(B,u.startTime-t),l=!1}return l}finally{P=null,O=n,L=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var H=!1,q=null,W=-1,K=5,G=-1;function Q(){return!(o()-G<K)}function X(){if(null!==q){var e=o();G=e;var t=!0;try{t=q(!0,e)}finally{t?T():(H=!1,q=null)}}else H=!1}if("function"==typeof V)T=function(){V(X)};else if("undefined"!=typeof MessageChannel){var Y=new MessageChannel,J=Y.port2;Y.port1.onmessage=X,T=function(){J.postMessage(null)}}else T=function(){U(X,0)};function Z(e){q=e,H||(H=!0,T())}function ee(e,t){W=U(function(){e(o())},t)}l=5,u=1,c=4,h=3,d=null,f=2,p=function(e){e.callback=null},m=function(){M||L||(M=!0,Z($))},g=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<e?Math.floor(1e3/e):5},v=function(){return O},y=function(){return r(R)},w=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},b=function(){},_=function(){},E=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},x=function(e,t,i){var s=o();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return a=i+a,e={id:D++,callback:t,priorityLevel:e,startTime:i,expirationTime:a,sortIndex:-1},i>s?(e.sortIndex=i,n(A,e),null===r(R)&&e===r(A)&&(j?(F(W),W=-1):j=!0,ee(B,i-s))):(e.sortIndex=a,n(R,e),M||L||(M=!0,Z($))),e},S=Q,k=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}});var T={};T=S("1b2ls"),S("acw62");var C={};s(C,"createRoot",()=>nJ,e=>nJ=e),s(C,"hydrateRoot",()=>nZ,e=>nZ=e);var I={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),nJ=(I=S("Xw6Mv")).createRoot,nZ=I.hydrateRoot;var N=S("acw62"),R={};R=new URL("hambuger.ab6c8f9b.png",import.meta.url).toString();/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N=S("acw62");/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A(){return(A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}(nH=n0||(n0={})).Pop="POP",nH.Push="PUSH",nH.Replace="REPLACE";const D="popstate";function P(e,t){if(!1===e||null==e)throw Error(t)}function O(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw Error(t)}catch(e){}}}function L(e,t){return{usr:e.state,key:e.key,idx:t}}function M(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?U(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function j(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function U(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}(nq=n1||(n1={})).data="data",nq.deferred="deferred",nq.redirect="redirect",nq.error="error";const F=new Set(["lazy","caseSensitive","path","id","index","children"]);function V(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map((e,i)=>{let s=[...n,i],a="string"==typeof e.id?e.id:s.join("-");if(P(!0!==e.index||!e.children,"Cannot specify children on an index route"),P(!r[a],'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),!0===e.index){let n=A({},e,t(e),{id:a});return r[a]=n,n}{let n=A({},e,t(e),{id:a,children:void 0});return r[a]=n,e.children&&(n.children=V(e.children,t,s,r)),n}})}function z(e,t,n){void 0===n&&(n="/");let r=H(("string"==typeof t?U(t):t).pathname||"/",n);if(null==r)return null;let i=function e(t,n,r,i){void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i="");let s=(t,s,a)=>{var o;let l,u,c={relativePath:void 0===a?t.path||"":a,caseSensitive:!0===t.caseSensitive,childrenIndex:s,route:t};c.relativePath.startsWith("/")&&(P(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),c.relativePath=c.relativePath.slice(i.length));let h=Q([i,c.relativePath]),d=r.concat(c);t.children&&t.children.length>0&&(P(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+h+'".'),e(t.children,n,d,h)),(null!=t.path||t.index)&&n.push({path:h,score:(o=t.index,u=(l=h.split("/")).length,l.some($)&&(u+=-2),o&&(u+=2),l.filter(e=>!$(e)).reduce((e,t)=>e+(B.test(t)?3:""===t?1:10),u)),routesMeta:d})};return t.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of function e(t){let n=t.split("/");if(0===n.length)return[];let[r,...i]=n,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===i.length)return s?[a,""]:[a];let o=e(i.join("/")),l=[];return l.push(...o.map(e=>""===e?a:[a,e].join("/"))),s&&l.push(...o),l.map(e=>t.startsWith("/")&&""===e?"/":e)}(e.path))s(e,t,n);else s(e,t)}),n}(e);!function(e){e.sort((e,t)=>{var n,r;return e.score!==t.score?t.score-e.score:(n=e.routesMeta.map(e=>e.childrenIndex),r=t.routesMeta.map(e=>e.childrenIndex),n.length===r.length&&n.slice(0,-1).every((e,t)=>e===r[t])?n[n.length-1]-r[r.length-1]:0)})}(i);let s=null;for(let e=0;null==s&&e<i.length;++e){let t=function(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return O(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}(r);s=function(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let e=0;e<n.length;++e){let a=n[e],o=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=function(e,t){var n,r,i;let s,a;"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[o,l]=(n=e.path,r=e.caseSensitive,i=e.end,void 0===r&&(r=!1),void 0===i&&(i=!0),O("*"===n||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".'),s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(s.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")),n.endsWith("*")?(s.push({paramName:"*"}),a+="*"===n||"/*"===n?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":""!==n&&"/"!==n&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),s]),u=t.match(o);if(!u)return null;let c=u[0],h=c.replace(/(.)\/+$/,"$1"),d=u.slice(1);return{params:l.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=d[n]||"";h=c.slice(0,c.length-e.length).replace(/(.)\/+$/,"$1")}let s=d[n];return i&&!s?e[r]=void 0:e[r]=(s||"").replace(/%2F/g,"/"),e},{}),pathname:c,pathnameBase:h,pattern:e}}({path:a.relativePath,caseSensitive:a.caseSensitive,end:o},l);if(!u)return null;Object.assign(r,u.params);let c=a.route;s.push({params:r,pathname:Q([i,u.pathname]),pathnameBase:X(Q([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=Q([i,u.pathnameBase]))}return s}(i[e],t)}return s}const B=/^:[\w-]+$/,$=e=>"*"===e;function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function q(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t)+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function W(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function K(e,t){let n=W(e);return t?n.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase):n.map(e=>e.pathnameBase)}function G(e,t,n,r){let i,s;void 0===r&&(r=!1),"string"==typeof e?i=U(e):(P(!(i=A({},e)).pathname||!i.pathname.includes("?"),q("?","pathname","search",i)),P(!i.pathname||!i.pathname.includes("#"),q("#","pathname","hash",i)),P(!i.search||!i.search.includes("#"),q("#","search","hash",i)));let a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){let n;void 0===t&&(t="/");let{pathname:r,search:i="",hash:s=""}="string"==typeof e?U(e):e;return{pathname:r?r.startsWith("/")?r:(n=t.replace(/\/+$/,"").split("/"),r.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"):t,search:Y(i),hash:J(s)}}(i,s),u=o&&"/"!==o&&o.endsWith("/"),c=(a||"."===o)&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Q=e=>e.join("/").replace(/\/\/+/g,"/"),X=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class Z{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function ee(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const et=["post","put","patch","delete"],en=new Set(et),er=new Set(["get",...et]),ei=new Set([301,302,303,307,308]),es=new Set([307,308]),ea={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eo={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},el={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},eu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ec=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),eh="remix-router-transitions";function ed(e,t,n,r,i,s,a,o){let l,u;if(a){for(let e of(l=[],t))if(l.push(e),e.route.id===a){u=e;break}}else l=t,u=t[t.length-1];let c=G(i||".",K(l,s),H(e.pathname,n)||e.pathname,"path"===o);return null==i&&(c.search=e.search,c.hash=e.hash),(null==i||""===i||"."===i)&&u&&u.route.index&&!eL(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(c.pathname="/"===c.pathname?n:Q([n,c.pathname])),j(c)}function ef(e,t,n,r){var i;let s,a;if(!r||!(null!=r&&("formData"in r&&null!=r.formData||"body"in r&&void 0!==r.body)))return{path:n};if(r.formMethod&&(i=r.formMethod,!er.has(i.toLowerCase())))return{path:n,error:eT(405,{method:r.formMethod})};let o=()=>({path:n,error:eT(400,{type:"invalid-body"})}),l=r.formMethod||"get",u=e?l.toUpperCase():l.toLowerCase(),c=eI(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!eD(u))return o();let e="string"==typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"},""):String(r.body);return{path:n,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!eD(u))return o();try{let e="string"==typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:u,formAction:c,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(e){return o()}}}if(P("function"==typeof FormData,"FormData is not available in this environment"),r.formData)s=eb(r.formData),a=r.formData;else if(r.body instanceof FormData)s=eb(r.body),a=r.body;else if(r.body instanceof URLSearchParams)a=e_(s=r.body);else if(null==r.body)s=new URLSearchParams,a=new FormData;else try{s=new URLSearchParams(r.body),a=e_(s)}catch(e){return o()}let h={formMethod:u,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(eD(h.formMethod))return{path:n,submission:h};let d=U(n);return t&&d.search&&eL(d.search)&&s.append("index",""),d.search="?"+s,{path:j(d),submission:h}}function ep(e,t,n,r,i,s,a,o,l,u,c,h,d,f,p,m){let g=m?Object.values(m)[0]:p?Object.values(p)[0]:void 0,v=e.createURL(t.location),y=e.createURL(i),w=(function(e,t){let n=e;if(t){let r=e.findIndex(e=>e.route.id===t);r>=0&&(n=e.slice(0,r))}return n})(n,m?Object.keys(m)[0]:void 0).filter((e,n)=>{var i,l;let u,c,{route:h}=e;if(h.lazy)return!0;if(null==h.loader)return!1;if(s)return!!h.loader.hydrate||void 0===t.loaderData[h.id]&&(!t.errors||void 0===t.errors[h.id]);if(i=t.loaderData,u=!(l=t.matches[n])||e.route.id!==l.route.id,c=void 0===i[e.route.id],u||c||o.some(t=>t===e.route.id))return!0;let d=t.matches[n];return eg(e,A({currentUrl:v,currentParams:d.params,nextUrl:y,nextParams:e.params},r,{actionResult:g,defaultShouldRevalidate:a||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||em(d,e)}))}),b=[];return c.forEach((e,i)=>{if(s||!n.some(t=>t.route.id===e.routeId)||u.has(i))return;let o=z(d,e.path,f);if(!o){b.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});return}let c=t.fetchers.get(i),p=eM(o,e.path);!h.has(i)&&(l.includes(i)||(c&&"idle"!==c.state&&void 0===c.data?a:eg(p,A({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:a}))))&&b.push({key:i,routeId:e.routeId,path:e.path,matches:o,match:p,controller:new AbortController})}),[w,b]}function em(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function eg(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}async function ev(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];P(i,"No route found in manifest");let s={};for(let e in r){let t=void 0!==i[e]&&"hasErrorBoundary"!==e;O(!t,'Route "'+i.id+'" has a static property "'+e+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+e+'" will be ignored.'),t||F.has(e)||(s[e]=r[e])}Object.assign(i,s),Object.assign(i,A({},t(i),{lazy:void 0}))}async function ey(e,t,n,r,i,s,a,o,l){var u,c,h,d;let f,p,m;void 0===l&&(l={});let g=e=>{let r;let i=new Promise((e,t)=>r=t);return m=()=>r(),t.signal.addEventListener("abort",m),Promise.race([e({request:t,params:n.params,context:l.requestContext}),i])};try{let r=n.route[e];if(n.route.lazy){if(r){let e;let t=await Promise.all([g(r).catch(t=>{e=t}),ev(n.route,s,i)]);if(e)throw e;p=t[0]}else if(await ev(n.route,s,i),r=n.route[e])p=await g(r);else{if("action"!==e)return{type:n1.data,data:void 0};let r=new URL(t.url),i=r.pathname+r.search;throw eT(405,{method:t.method,pathname:i,routeId:n.route.id})}}else if(r)p=await g(r);else{let e=new URL(t.url),n=e.pathname+e.search;throw eT(404,{pathname:n})}P(void 0!==p,"You defined "+("action"===e?"an action":"a loader")+" for route "+('"'+n.route.id)+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){f=n1.error,p=e}finally{m&&t.signal.removeEventListener("abort",m)}if(null!=(u=p)&&"number"==typeof u.status&&"string"==typeof u.statusText&&"object"==typeof u.headers&&void 0!==u.body){let e,i=p.status;if(ei.has(i)){let e=p.headers.get("Location");if(P(e,"Redirects returned/thrown from loaders/actions must have a Location header"),eu.test(e)){if(!l.isStaticRequest){let n=new URL(t.url),r=new URL(e.startsWith("//")?n.protocol+e:e),i=null!=H(r.pathname,a);r.origin===n.origin&&i&&(e=r.pathname+r.search+r.hash)}}else e=ed(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,e,o);if(l.isStaticRequest)throw p.headers.set("Location",e),p;return{type:n1.redirect,status:i,location:e,revalidate:null!==p.headers.get("X-Remix-Revalidate"),reloadDocument:null!==p.headers.get("X-Remix-Reload-Document")}}if(l.isRouteRequest)throw{type:f===n1.error?n1.error:n1.data,response:p};try{let t=p.headers.get("Content-Type");e=t&&/\bapplication\/json\b/.test(t)?null==p.body?null:await p.json():await p.text()}catch(e){return{type:n1.error,error:e}}return f===n1.error?{type:f,error:new Z(i,p.statusText,e),headers:p.headers}:{type:n1.data,data:e,statusCode:p.status,headers:p.headers}}return f===n1.error?{type:f,error:p}:(c=p)&&"object"==typeof c&&"object"==typeof c.data&&"function"==typeof c.subscribe&&"function"==typeof c.cancel&&"function"==typeof c.resolveData?{type:n1.deferred,deferredData:p,statusCode:null==(h=p.init)?void 0:h.status,headers:(null==(d=p.init)?void 0:d.headers)&&new Headers(p.init.headers)}:{type:n1.data,data:p}}function ew(e,t,n,r){let i=e.createURL(eI(t)).toString(),s={signal:n};if(r&&eD(r.formMethod)){let{formMethod:e,formEncType:t}=r;s.method=e.toUpperCase(),"application/json"===t?(s.headers=new Headers({"Content-Type":t}),s.body=JSON.stringify(r.json)):"text/plain"===t?s.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?s.body=eb(r.formData):s.body=r.formData}return new Request(i,s)}function eb(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"==typeof r?r:r.name);return t}function e_(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function eE(e,t,n,r,i,s,a,o){var l;let u,c,h,d,f;let{loaderData:p,errors:m}=(l=i,c={},h=null,d=!1,f={},r.forEach((e,r)=>{let i=n[r].route.id;if(P(!eA(e),"Cannot handle redirect results in processLoaderData"),eR(e)){let n=eS(t,i),r=e.error;l&&(r=Object.values(l)[0],l=void 0),null==(h=h||{})[n.route.id]&&(h[n.route.id]=r),c[i]=void 0,d||(d=!0,u=ee(e.error)?e.error.status:500),e.headers&&(f[i]=e.headers)}else eN(e)?(o.set(i,e.deferredData),c[i]=e.deferredData.data):c[i]=e.data,null==e.statusCode||200===e.statusCode||d||(u=e.statusCode),e.headers&&(f[i]=e.headers)}),l&&(h=l,c[Object.keys(l)[0]]=void 0),{loaderData:c,errors:h,statusCode:u||200,loaderHeaders:f});for(let t=0;t<s.length;t++){let{key:n,match:r,controller:i}=s[t];P(void 0!==a&&void 0!==a[t],"Did not find corresponding fetcher result");let o=a[t];if(!i||!i.signal.aborted){if(eR(o)){let t=eS(e.matches,null==r?void 0:r.route.id);m&&m[t.route.id]||(m=A({},m,{[t.route.id]:o.error})),e.fetchers.delete(n)}else if(eA(o))P(!1,"Unhandled fetcher revalidation redirect");else if(eN(o))P(!1,"Unhandled fetcher deferred data");else{let t=eV(o.data);e.fetchers.set(n,t)}}}return{loaderData:p,errors:m}}function ex(e,t,n,r){let i=A({},t);for(let s of n){let n=s.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&s.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function eS(e,t){return(t?e.slice(0,e.findIndex(e=>e.route.id===t)+1):[...e]).reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function ek(e){let t=1===e.length?e[0]:e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function eT(e,t){let{pathname:n,routeId:r,method:i,type:s}=void 0===t?{}:t,a="Unknown Server Error",o="Unknown @remix-run/router error";return 400===e?(a="Bad Request",i&&n&&r?o="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===s?o="defer() is not supported in actions":"invalid-body"===s&&(o="Unable to encode submission body")):403===e?(a="Forbidden",o='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",o='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",i&&n&&r?o="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new Z(e||500,a,Error(o),!0)}function eC(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(eA(n))return{result:n,idx:t}}}function eI(e){let t="string"==typeof e?U(e):e;return j(A({},t,{hash:""}))}function eN(e){return e.type===n1.deferred}function eR(e){return e.type===n1.error}function eA(e){return(e&&e.type)===n1.redirect}function eD(e){return en.has(e.toLowerCase())}async function eP(e,t,n,r,i,s){for(let a=0;a<n.length;a++){let o=n[a],l=t[a];if(!l)continue;let u=e.find(e=>e.route.id===l.route.id),c=null!=u&&!em(u,l)&&(s&&s[l.route.id])!==void 0;if(eN(o)&&(i||c)){let e=r[a];P(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await eO(o,e,i).then(e=>{e&&(n[a]=e||n[a])})}}}async function eO(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:n1.data,data:e.deferredData.unwrappedData}}catch(e){return{type:n1.error,error:e}}return{type:n1.data,data:e.deferredData.data}}}function eL(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function eM(e,t){let n="string"==typeof t?U(t).search:t.search;if(e[e.length-1].route.index&&eL(n||""))return e[e.length-1];let r=W(e);return r[r.length-1]}function ej(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:a}=e;if(t&&n&&r){if(null!=i)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(null!=s)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(void 0!==a)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function eU(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function eF(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function eV(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}Symbol("deferred");/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N=S("acw62");function ez(){return(ez=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const eB=N.createContext(null),e$=N.createContext(null),eH=N.createContext(null),eq=N.createContext(null),eW=N.createContext({outlet:null,matches:[],isDataRoute:!1}),eK=N.createContext(null);function eG(){return null!=N.useContext(eq)}function eQ(){return eG()||P(!1),N.useContext(eq).location}function eX(e){N.useContext(eH).static||N.useLayoutEffect(e)}const eY=N.createContext(null);function eJ(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=N.useContext(eH),{matches:i}=N.useContext(eW),{pathname:s}=eQ(),a=JSON.stringify(K(i,r.v7_relativeSplatPath));return N.useMemo(()=>G(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}const eZ=N.createElement(function(){var e;let t,n,r,i;let s=(n=N.useContext(eK),e4.UseRouteError,(t=N.useContext(e$))||P(!1),r=t,i=e3(e4.UseRouteError),void 0!==n?n:null==(e=r.errors)?void 0:e[i]),a=ee(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),o=s instanceof Error?s.stack:null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},a),o?N.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},o):null,null)},null);class e0 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?N.createElement(eW.Provider,{value:this.props.routeContext},N.createElement(eK.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function e1(e){let{routeContext:t,match:n,children:r}=e,i=N.useContext(eB);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(eW.Provider,{value:t},r)}var e2=((nW=e2||{}).UseBlocker="useBlocker",nW.UseRevalidator="useRevalidator",nW.UseNavigateStable="useNavigate",nW),e4=((nK=e4||{}).UseBlocker="useBlocker",nK.UseLoaderData="useLoaderData",nK.UseActionData="useActionData",nK.UseRouteError="useRouteError",nK.UseNavigation="useNavigation",nK.UseRouteLoaderData="useRouteLoaderData",nK.UseMatches="useMatches",nK.UseRevalidator="useRevalidator",nK.UseNavigateStable="useNavigate",nK.UseRouteId="useRouteId",nK);function e3(e){let t;let n=((t=N.useContext(eW))||P(!1),t),r=n.matches[n.matches.length-1];return r.route.id||P(!1),r.route.id}const e6={};function e9(e){var t;let n;return t=e.context,(n=N.useContext(eW).outlet)?N.createElement(eY.Provider,{value:t},n):n}function e5(e){let{basename:t="/",children:n=null,location:r,navigationType:i=n0.Pop,navigator:s,static:a=!1,future:o}=e;eG()&&P(!1);let l=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:s,static:a,future:ez({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);"string"==typeof r&&(r=U(r));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,m=N.useMemo(()=>{let e=H(c,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:i}},[l,c,h,d,f,p,i]);return null==m?null:N.createElement(eH.Provider,{value:u},N.createElement(eq.Provider,{children:n,value:m}))}N.startTransition;var e8=((nG=e8||{})[nG.pending=0]="pending",nG[nG.success=1]="success",nG[nG.error=2]="error",nG);function e7(){return(e7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}new Promise(()=>{});const te=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(e){}const tt=N.createContext({isTransitioning:!1}),tn=N.createContext(new Map),tr=N.startTransition,ti=I.flushSync;function ts(e){ti?ti(e):e()}N.useId;class ta{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}})}}function to(e){let{routes:t,future:n,state:r}=e;return function(e,t,n,r){let i;eG()||P(!1);let{navigator:s}=N.useContext(eH),{matches:a}=N.useContext(eW),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=eQ();if(t){var h;let e="string"==typeof t?U(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||P(!1),i=e}else i=c;let d=i.pathname||"/",f=d;if("/"!==u){let e=u.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(e.length).join("/")}let p=z(e,{pathname:f}),m=function(e,t,n,r){var i,s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){if(null==(s=n)||!s.errors)return null;e=n.matches}let a=e,o=null==(i=n)?void 0:i.errors;if(null!=o){let e=a.findIndex(e=>e.route.id&&(null==o?void 0:o[e.route.id]));e>=0||P(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){l=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight((e,r,i)=>{var s;let c;let h=!1,d=null,f=null;n&&(c=o&&r.route.id?o[r.route.id]:void 0,d=r.route.errorElement||eZ,l&&(u<0&&0===i?(e6[s="route-fallback"]||(e6[s]=!0),h=!0,f=null):u===i&&(h=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,i+1)),m=()=>{let t;return t=c?d:h?f:r.route.Component?N.createElement(r.route.Component,null):r.route.element?r.route.element:e,N.createElement(e1,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?N.createElement(e0,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}(p&&p.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Q([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Q([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,r);return t&&m?N.createElement(eq.Provider,{value:{location:ez({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:n0.Pop}},m):m}(t,void 0,r,n)}const tl="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,tu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tc=N.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,d=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,te),{basename:f}=N.useContext(eH),p=!1;if("string"==typeof u&&tu.test(u)&&(n=u,tl))try{let e=new URL(window.location.href),t=new URL(u.startsWith("//")?e.protocol+u:u),n=H(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:p=!0}catch(e){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;eG()||P(!1);let{basename:r,navigator:i}=N.useContext(eH),{hash:s,pathname:a,search:o}=eJ(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:Q([r,a])),i.createHref({pathname:l,search:o,hash:s})}(u,{relative:i}),g=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o}=void 0===t?{}:t,l=function(){let{isDataRoute:e}=N.useContext(eW);return e?function(){let e;let{router:t}=(e2.UseNavigateStable,(e=N.useContext(eB))||P(!1),e),n=e3(e4.UseNavigateStable),r=N.useRef(!1);return eX(()=>{r.current=!0}),N.useCallback(function(e,i){void 0===i&&(i={}),r.current&&("number"==typeof e?t.navigate(e):t.navigate(e,ez({fromRouteId:n},i)))},[t,n])}():function(){eG()||P(!1);let e=N.useContext(eB),{basename:t,future:n,navigator:r}=N.useContext(eH),{matches:i}=N.useContext(eW),{pathname:s}=eQ(),a=JSON.stringify(K(i,n.v7_relativeSplatPath)),o=N.useRef(!1);return eX(()=>{o.current=!0}),N.useCallback(function(n,i){if(void 0===i&&(i={}),!o.current)return;if("number"==typeof n){r.go(n);return}let l=G(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Q([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,a,s,e])}()}(),u=eQ(),c=eJ(e,{relative:a});return N.useCallback(t=>{0!==t.button||n&&"_self"!==n||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||(t.preventDefault(),l(e,{replace:void 0!==r?r:j(u)===j(c),state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o}))},[u,l,c,r,i,n,e,s,a,o])}(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});return N.createElement("a",e7({},d,{href:n||m,onClick:p||s?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))});(nQ=n2||(n2={})).UseScrollRestoration="useScrollRestoration",nQ.UseSubmit="useSubmit",nQ.UseSubmitFetcher="useSubmitFetcher",nQ.UseFetcher="useFetcher",nQ.useViewTransitionState="useViewTransitionState",(nX=n4||(n4={})).UseFetcher="useFetcher",nX.UseFetchers="useFetchers",nX.UseScrollRestoration="useScrollRestoration";var th={};th=new URL("bookCon.1dd58e7c.png",import.meta.url).toString();var td=()=>{let[e,t]=(0,N.useState)("hidden");return console.log(e),(0,T.jsxs)("div",{className:"drop-shadow-md sticky top-0",children:[(0,T.jsxs)("nav",{className:"flex bg-blue-300 justify-between lg:px-36 px-9 font-sans font-semibold ",children:[(0,T.jsx)("div",{className:"left flex py-2 m-1",children:(0,T.jsx)("div",{className:"  mx-0",children:(0,T.jsx)("img",{className:"w-10",src:a(th)})})}),(0,T.jsx)("div",{children:(0,T.jsxs)("ul",{className:"right lg:flex p-2 m-1 hidden",children:[(0,T.jsx)(tc,{to:"/",children:(0,T.jsx)("li",{className:"p-2 my-1 mx-6 hover:bg-white rounded-2xl",children:"Home"})}),(0,T.jsx)(tc,{to:"/about",children:(0,T.jsx)("li",{className:"p-2 my-1 mx-6  hover:bg-white rounded-2xl",children:"About"})}),(0,T.jsx)(tc,{to:"/library",children:(0,T.jsx)("li",{className:"p-2 my-1 mx-6  hover:bg-white rounded-2xl",children:"Library"})}),(0,T.jsx)("a",{href:"https://readconnect-bookrecommendation-com.onrender.com/",children:(0,T.jsx)("li",{className:"p-2 my-1 mx-6  hover:bg-white rounded-2xl",children:"Recommended"})})]})}),(0,T.jsxs)("div",{className:"flex",children:[(0,T.jsx)(tc,{to:"/signIn",children:(0,T.jsx)("div",{className:"py-2 my-4 mx-3 px-1 hover:bg-white rounded-2xl",children:"Post your books"})}),(0,T.jsx)("button",{className:"lg:hidden block hover:cursor-pointer",onClick:()=>{"hidden"==e?t("block"):t("hidden")},children:(0,T.jsx)("img",{className:"w-6",src:a(R)})})]})]}),(0,T.jsx)("div",{className:`hamburger ${e} bg-blue-100 flex-col justify-center`,children:(0,T.jsxs)("ul",{className:"flex flex-col w-1/2",children:[(0,T.jsx)(tc,{to:"/",children:(0,T.jsx)("li",{className:"p-2 my-1 mx-6  hover:bg-white rounded-2xl",children:"Home"})}),(0,T.jsx)(tc,{to:"/about",children:(0,T.jsx)("li",{className:"p-2 my-1 mx-6  hover:bg-white rounded-2xl",children:"About"})}),(0,T.jsx)(tc,{to:"/library",children:(0,T.jsx)("li",{className:"p-2 my-1 mx-6  hover:bg-white rounded-2xl",children:"Library"})}),(0,T.jsx)(tc,{to:"/recommended",children:(0,T.jsx)("li",{className:"p-2 my-1 mx-6  hover:bg-white rounded-2xl",children:"Recommended"})})]})})]})},tf={};tf=new URL("banner.fd3eb61c.png",import.meta.url).toString();var tp=()=>(0,T.jsxs)("div",{className:" h-full lg:w-full w-screen flex justify-center text-[1.1rem]   flex-wrap lg:flex-nowrap",children:[(0,T.jsxs)("div",{className:"lg:w-4/6 px-8 text-gray-800 w-full",children:[(0,T.jsxs)("h1",{className:"lg:pl-32 pl-1 mt-16 font-bold text-6xl",children:["Welcome to our"," ",(0,T.jsx)("span",{id:"element",className:"text-blue-400",children:"Virtual Library"})]}),(0,T.jsxs)("p",{className:"lg:pl-32 pl-1 py-5",children:[" ","We are connecting readers through this virtual library , fostering a vibrant online community centered around the love for books . Users can create personalized bookshelf and connect to like minded individual. Providing a system to encourage communication between users fostering discussion recommendations, and the exchange of literary insights."]}),(0,T.jsx)("button",{className:"lg:mx-32 mx-1 my-5 bg-blue-300 border p-2 rounded-lg hover:bg-slate-300 hover:cursor-pointer font-semibold",children:(0,T.jsx)("a",{href:"https://discord.com/invite/ddYnn3cB",children:"Join our Dicord Community"})})]}),(0,T.jsx)("div",{className:"lg:pr-32 pr-1 w-4/6",children:(0,T.jsx)("img",{className:"",src:a(tf)})})]}),N=S("acw62");const tm="https://firebasestorage.googleapis.com/v0/b/d-str-a8356.appspot.com/o/files%2F";var tg=({details:e})=>{console.log(e);let{Author:t,Category:n,Discription:r,ImgVal:i,TitleOfBook:s,userId:a,Rating:o}=e;return(0,T.jsxs)("div",{className:"shadow-lg w-[195px] m-5 rounded-md ",children:[(0,T.jsx)("div",{className:"w-[195px] h-[200px] bg-blue-100 bg-cover",style:{backgroundImage:`url(${tm}${i.stringValue}?alt=media&token)`}}),(0,T.jsxs)("div",{className:"p-3",children:[(0,T.jsx)("h3",{className:"font-semibold",children:s.stringValue}),(0,T.jsx)("div",{className:"text-[0.8rem] py-1",children:t.stringValue}),(0,T.jsxs)("div",{className:"text-[0.8rem]",children:["Rating: ",o.stringValue,"/5"]})]})]})},tv={},ty=tv={};function tw(){throw Error("setTimeout has not been defined")}function tb(){throw Error("clearTimeout has not been defined")}function t_(e){if(n3===setTimeout)return setTimeout(e,0);if((n3===tw||!n3)&&setTimeout)return n3=setTimeout,setTimeout(e,0);try{return n3(e,0)}catch(t){try{return n3.call(null,e,0)}catch(t){return n3.call(this,e,0)}}}!function(){try{n3="function"==typeof setTimeout?setTimeout:tw}catch(e){n3=tw}try{n6="function"==typeof clearTimeout?clearTimeout:tb}catch(e){n6=tb}}();var tE=[],tx=!1,tS=-1;function tk(){tx&&n9&&(tx=!1,n9.length?tE=n9.concat(tE):tS=-1,tE.length&&tT())}function tT(){if(!tx){var e=t_(tk);tx=!0;for(var t=tE.length;t;){for(n9=tE,tE=[];++tS<t;)n9&&n9[tS].run();tS=-1,t=tE.length}n9=null,tx=!1,function(e){if(n6===clearTimeout)return clearTimeout(e);if((n6===tb||!n6)&&clearTimeout)return n6=clearTimeout,clearTimeout(e);try{n6(e)}catch(t){try{return n6.call(null,e)}catch(t){return n6.call(this,e)}}}(e)}}function tC(e,t){this.fun=e,this.array=t}function tI(){}ty.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];tE.push(new tC(e,t)),1!==tE.length||tx||t_(tT)},tC.prototype.run=function(){this.fun.apply(null,this.array)},ty.title="browser",ty.browser=!0,ty.env={},ty.argv=[],ty.version="",ty.versions={},ty.on=tI,ty.addListener=tI,ty.once=tI,ty.off=tI,ty.removeListener=tI,ty.removeAllListeners=tI,ty.emit=tI,ty.prependListener=tI,ty.prependOnceListener=tI,ty.listeners=function(e){return[]},ty.binding=function(e){throw Error("process.binding is not supported")},ty.cwd=function(){return"/"},ty.chdir=function(e){throw Error("process.chdir is not supported")},ty.umask=function(){return 0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},tR=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{let s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")},tA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4,h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tN(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tR(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0,a=++t<e.length?n[e.charAt(t)]:64,o=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==a||null==o)throw new tD;let l=i<<2|s>>4;if(r.push(l),64!==a){let e=s<<4&240|a>>2;if(r.push(e),64!==o){let e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class tD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tP=function(e){let t=tN(e);return tA.encodeByteArray(t,!0)},tO=function(e){return tP(e).replace(/\./g,"")},tL=function(e){try{return tA.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},tM=()=>/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==_)return _;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,tj=()=>{if(void 0===tv||void 0===tv.env)return;let e=void 0;if(e)return JSON.parse(e)},tU=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&tL(e[1]);return t&&JSON.parse(t)},tF=()=>{try{return tM()||tj()||tU()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tV=e=>{var t,n;return null===(n=null===(t=tF())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},tz=e=>{let t=tV(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},tB=()=>{var e;return null===(e=tF())||void 0===e?void 0:e.config},t$=e=>{var t;return null===(t=tF())||void 0===t?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[tO(JSON.stringify({alg:"none",type:"JWT"})),tO(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tK(){try{return"object"==typeof indexedDB}catch(e){return!1}}class tG extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tG.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tQ.prototype.create)}}class tQ{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?i.replace(tX,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`}):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new tG(r,a,n)}}const tX=/\{\$([^}]+)}/g;function tY(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],s=t[i];if(tJ(n)&&tJ(s)){if(!tY(n,s))return!1}else if(n!==s)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function tJ(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tZ(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function t0(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function t1(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class t2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=t4),void 0===r.error&&(r.error=t4),void 0===r.complete&&(r.complete=t4);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t4(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(e){return e&&e._delegate?e._delegate:e}class t6{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new tH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:t9})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=t9){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=t9){return this.instances.has(e)}getOptions(e=t9){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e===t9?void 0:e,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e=t9){return this.component?this.component.multipleInstances?e:t9:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new t5(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=[];(nY=n5||(n5={}))[nY.DEBUG=0]="DEBUG",nY[nY.VERBOSE=1]="VERBOSE",nY[nY.INFO=2]="INFO",nY[nY.WARN=3]="WARN",nY[nY.ERROR=4]="ERROR",nY[nY.SILENT=5]="SILENT";const ne={debug:n5.DEBUG,verbose:n5.VERBOSE,info:n5.INFO,warn:n5.WARN,error:n5.ERROR,silent:n5.SILENT},nt=n5.INFO,nn={[n5.DEBUG]:"log",[n5.VERBOSE]:"log",[n5.INFO]:"info",[n5.WARN]:"warn",[n5.ERROR]:"error"},nr=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=nn[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ni{constructor(e){this.name=e,this._logLevel=nt,this._logHandler=nr,this._userLogHandler=null,t7.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in n5))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ne[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,n5.DEBUG,...e),this._logHandler(this,n5.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,n5.VERBOSE,...e),this._logHandler(this,n5.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,n5.INFO,...e),this._logHandler(this,n5.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,n5.WARN,...e),this._logHandler(this,n5.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,n5.ERROR,...e),this._logHandler(this,n5.ERROR,...e)}}const ns=(e,t)=>t.some(t=>e instanceof t),na=new WeakMap,no=new WeakMap,nl=new WeakMap,nu=new WeakMap,nc=new WeakMap;let nh={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return no.get(e);if("objectStoreNames"===t)return e.objectStoreNames||nl.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nd(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function nd(n){var r;if(n instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(nd(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&na.set(t,e)}).catch(()=>{}),nc.set(t,e),t}(n);if(nu.has(n))return nu.get(n);let i="function"==typeof(r=n)?r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(r)?function(...e){return r.apply(nf(this),e),nd(na.get(this))}:function(...e){return nd(r.apply(nf(this),e))}:function(e,...t){let n=r.call(nf(this),e,...t);return nl.set(n,e.sort?e.sort():[e]),nd(n)}:(r instanceof IDBTransaction&&function(e){if(no.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});no.set(e,t)}(r),ns(r,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(r,nh):r;return i!==n&&(nu.set(n,i),nc.set(i,n)),i}const nf=e=>nc.get(e),np=["get","getKey","getAll","getAllKeys","count"],nm=["put","add","delete","clear"],ng=new Map;function nv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(ng.get(t))return ng.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=nm.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||np.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return ng.set(t,s),s}nh={...r=nh,get:(e,t,n)=>nv(e,t)||r.get(e,t,n),has:(e,t)=>!!nv(e,t)||r.has(e,t)};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}const nw="@firebase/app",nb="0.9.27",n_=new ni("@firebase/app"),nE="[DEFAULT]",nx={[nw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nS=new Map,nk=new Map;function nT(e){let t=e.name;if(nk.has(t))return n_.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(nk.set(t,e),nS.values()))!function(e,t){try{e.container.addComponent(t)}catch(n){n_.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}(n,e);return!0}function nC(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const nI=new tQ("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new t6("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nI.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="10.8.0";function nA(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r=Object.assign({name:nE,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw nI.create("bad-app-name",{appName:String(i)});if(n||(n=tB()),!n)throw nI.create("no-options");let s=nS.get(i);if(s){if(tY(n,s.options)&&tY(r,s.config))return s;throw nI.create("duplicate-app",{appName:i})}let a=new t8(i);for(let e of nk.values())a.addComponent(e);let o=new nN(n,r,a);return nS.set(i,o),o}function nD(e=nE){let t=nS.get(e);if(!t&&e===nE&&tB())return nA();if(!t)throw nI.create("no-app",{appName:e});return t}function nP(e,t,n){var r;let i=null!==(r=nx[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);let s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){let e=[`Unable to register library "${i}" with version "${t}":`];s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),n_.warn(e.join(" "));return}nT(new t6(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const nO="firebase-heartbeat-store";let nL=null;function nM(){return nL||(nL=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(e,1),o=nd(a);return r&&a.addEventListener("upgradeneeded",e=>{r(nd(a.result),e.oldVersion,e.newVersion,nd(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(nO)}catch(e){console.warn(e)}}}).catch(e=>{throw nI.create("idb-open",{originalErrorMessage:e.message})})),nL}async function nj(e){try{let t=(await nM()).transaction(nO),n=await t.objectStore(nO).get(nF(e));return await t.done,n}catch(e){if(e instanceof tG)n_.warn(e.message);else{let t=nI.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});n_.warn(t.message)}}}async function nU(e,t){try{let n=(await nM()).transaction(nO,"readwrite"),r=n.objectStore(nO);await r.put(t,nF(e)),await n.done}catch(e){if(e instanceof tG)n_.warn(e.message);else{let t=nI.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});n_.warn(t.message)}}}function nF(e){return`${e.name}!${e.options.appId}`}class nV{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new nB(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nz();return(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)?void 0:this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=nz(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),n$(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),n$(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=tO(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function nz(){return new Date().toISOString().substring(0,10)}class nB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!tK()&&new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await nj(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return nU(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return nU(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function n$(e){return tO(JSON.stringify({version:2,heartbeats:e})).length}nT(new t6("platform-logger",e=>new ny(e),"PRIVATE")),nT(new t6("heartbeat",e=>new nV(e),"PRIVATE")),nP(nw,nb,""),nP(nw,nb,"esm2017"),nP("fire-js","");var nH,nq,nW,nK,nG,nQ,nX,nY,nJ,nZ,n0,n1,n2,n4,n3,n6,n9,n5,n8,n7={},re=re||{},rt=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==_?_:"undefined"!=typeof self?self:{})||self;function rn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function ri(e,t,n){return e.call.apply(e.bind,arguments)}function rs(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ra(e,t,n){return(ra=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ri:rs).apply(null,arguments)}function ro(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function rl(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function ru(){this.s=this.s,this.o=this.o}ru.prototype.s=!1,ru.prototype.sa=function(){this.s||(this.s=!0,this.N())},ru.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return -1};function rh(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function rd(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];if(rn(n)){let t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function rf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}rf.prototype.h=function(){this.defaultPrevented=!0};var rp=function(){if(!rt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};rt.addEventListener("test",e,t),rt.removeEventListener("test",e,t)}catch(e){}return e}();function rm(e){return/^[\s\xa0]*$/.test(e)}function rg(){var e=rt.navigator;return e&&(e=e.userAgent)?e:""}function rv(e){return -1!=rg().indexOf(e)}function ry(e){return ry[" "](e),e}ry[" "]=function(){};var rw=rv("Opera"),rb=rv("Trident")||rv("MSIE"),r_=rv("Edge"),rE=r_||rb,rx=rv("Gecko")&&!(-1!=rg().toLowerCase().indexOf("webkit")&&!rv("Edge"))&&!(rv("Trident")||rv("MSIE"))&&!rv("Edge"),rS=-1!=rg().toLowerCase().indexOf("webkit")&&!rv("Edge");function rk(){var e=rt.document;return e?e.documentMode:void 0}e:{var rT,rC="",rI=(rT=rg(),rx?/rv:([^\);]+)(\)|;)/.exec(rT):r_?/Edge\/([\d\.]+)/.exec(rT):rb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(rT):rS?/WebKit\/(\S+)/.exec(rT):rw?/(?:Version)[ \/]?(\S+)/.exec(rT):void 0);if(rI&&(rC=rI?rI[1]:""),rb){var rN=rk();if(null!=rN&&rN>parseFloat(rC)){p=String(rN);break e}}p=rC}var rR=rt.document&&rb&&(rk()||parseInt(p,10))||void 0;function rA(e,t){if(rf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(rx){e:{try{ry(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:rD[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&rA.$.h.call(this)}}rl(rA,rf);var rD={2:"touch",3:"pen",4:"mouse"};rA.prototype.h=function(){rA.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var rP="closure_listenable_"+(1e6*Math.random()|0),rO=0;function rL(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++rO,this.fa=this.ia=!1}function rM(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function rj(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function rU(e){let t={};for(let n in e)t[n]=e[n];return t}const rF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rV(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t])e[n]=r[n];for(let t=0;t<rF.length;t++)n=rF[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function rz(e){this.src=e,this.g={},this.h=0}function rB(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=rc(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(rM(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function r$(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&!!n==s.capture&&s.la==r)return i}return -1}rz.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=r$(e,t,r,i);return -1<a?(t=e[a],n||(t.ia=!1)):((t=new rL(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var rH="closure_lm_"+(1e6*Math.random()|0),rq={};function rW(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=rr(i)?!!i.capture:!!i,o=rX(e);if(o||(e[rH]=o=new rz(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function e(t){return rQ.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)rp||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(rG(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function rK(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[rP])rB(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(rG(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=rX(t))?(rB(n,e),0==n.h&&(n.src=null,t[rH]=null)):rM(e)}}}function rG(e){return e in rq?rq[e]:rq[e]="on"+e}function rQ(e,t){if(e.fa)e=!0;else{t=new rA(t,this);var n=e.listener,r=e.la||e.src;e.ia&&rK(e),e=n.call(r,t)}return e}function rX(e){return(e=e[rH])instanceof rz?e:null}var rY="__closure_events_fn_"+(1e9*Math.random()>>>0);function rJ(e){return"function"==typeof e?e:(e[rY]||(e[rY]=function(t){return e.handleEvent(t)}),e[rY])}function rZ(){ru.call(this),this.i=new rz(this),this.S=this,this.J=null}function r0(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new rf(t,e);else if(t instanceof rf)t.target=t.target||e;else{var i=t;rV(t=new rf(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=r1(a,r,!0,t)&&i}if(i=r1(a=t.g=e,r,!0,t)&&i,i=r1(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=r1(a=t.g=n[s],r,!1,t)&&i}function r1(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&rB(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}rl(rZ,ru),rZ.prototype[rP]=!0,rZ.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,s){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);else(i=rr(i)?!!i.capture:!!i,r=rJ(r),t&&t[rP])?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=r$(a=t.g[n],r,i,s))&&(rM(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):t&&(t=rX(t))&&(n=t.g[n.toString()],t=-1,n&&(t=r$(n,r,i,s)),(r=-1<t?n[t]:null)&&rK(r))}(this,e,t,n,r)},rZ.prototype.N=function(){if(rZ.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rM(n[r]);delete t.g[e],t.h--}}this.J=null},rZ.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},rZ.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var r2=rt.JSON.stringify,r4=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new r3,e=>e.reset());class r3{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let r6,r9=!1,r5=new class{constructor(){this.h=this.g=null}add(e,t){let n=r4.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},r8=()=>{let e=rt.Promise.resolve(void 0);r6=()=>{e.then(r7)}};var r7=()=>{let e;for(var t;e=null,r5.g&&(e=r5.g,r5.g=r5.g.next,r5.g||(r5.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){rt.setTimeout(()=>{throw e},0)}(e)}r4.j(t),100>r4.h&&(r4.h++,t.next=r4.g,r4.g=t)}r9=!1};function ie(e,t){rZ.call(this),this.h=e||1,this.g=t||rt,this.j=ra(this.qb,this),this.l=Date.now()}function it(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ir(e,t,n){if("function"==typeof e)n&&(e=ra(e,n));else if(e&&"function"==typeof e.handleEvent)e=ra(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:rt.setTimeout(e,t||0)}rl(ie,rZ),(n8=ie.prototype).ga=!1,n8.T=null,n8.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),r0(this,"tick"),this.ga&&(it(this),this.start()))}},n8.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},n8.N=function(){ie.$.N.call(this),it(this),delete this.g};class ii extends ru{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=ir(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);let n=t.h;t.h=null,t.m.apply(null,n)}(this)}N(){super.N(),this.g&&(rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(e){ru.call(this),this.h=e,this.g={}}rl(is,ru);var ia=[];function io(e,t,n,r){Array.isArray(n)||(n&&(ia[0]=n.toString()),n=ia);for(var i=0;i<n.length;i++){var s=function e(t,n,r,i,s){if(i&&i.once)return function e(t,n,r,i,s){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);return null}return r=rJ(r),t&&t[rP]?t.P(n,r,rr(i)?!!i.capture:!!i,s):rW(t,n,r,!0,i,s)}(t,n,r,i,s);if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);return null}return r=rJ(r),t&&t[rP]?t.O(n,r,rr(i)?!!i.capture:!!i,s):rW(t,n,r,!1,i,s)}(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function il(e){rj(e.g,function(e,t){this.g.hasOwnProperty(t)&&rK(e)},e),e.g={}}function iu(){this.g=!0}function ic(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}}return r2(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}is.prototype.N=function(){is.$.N.call(this),il(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},iu.prototype.Ea=function(){this.g=!1},iu.prototype.info=function(){};var ih={},id=null;function ip(){return id=id||new rZ}function im(e){rf.call(this,ih.Ta,e)}function ig(e){let t=ip();r0(t,new im(t))}function iv(e,t){rf.call(this,ih.STAT_EVENT,e),this.stat=t}function iy(e){let t=ip();r0(t,new iv(t,e))}function iw(e,t){rf.call(this,ih.Ua,e),this.size=t}function ib(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return rt.setTimeout(function(){e()},t)}ih.Ta="serverreachability",rl(im,rf),ih.STAT_EVENT="statevent",rl(iv,rf),ih.Ua="timingevent",rl(iw,rf);var i_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},iE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ix(){}function iS(e){return e.h||(e.h=e.i())}function ik(){}ix.prototype.h=null;var iT={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function iC(){rf.call(this,"d")}function iI(){rf.call(this,"c")}function iN(){}function iR(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new is(this),this.P=iD,e=rE?125:void 0,this.V=new ie(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new iA}function iA(){this.i=null,this.g="",this.h=!1}rl(iC,rf),rl(iI,rf),rl(iN,ix),iN.prototype.g=function(){return new XMLHttpRequest},iN.prototype.i=function(){return{}},g=new iN;var iD=45e3,iP={},iO={};function iL(e,t,n){e.L=1,e.A=iZ(iG(t)),e.u=n,e.S=!0,iM(e,null)}function iM(e,t){e.G=Date.now(),iF(e),e.B=iG(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),sn(n.i,"t",r),e.o=0,n=e.l.J,e.h=new iA,e.g=s1(e.l,n?t:null,!e.u),0<e.O&&(e.M=new ii(ra(e.Pa,e,e.g),e.O)),io(e.U,e.g,"readystatechange",e.nb),t=e.I?rU(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),ig(),function(e,t,n,r,i,s){e.info(function(){if(e.g){if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null}else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.v,e.B,e.m,e.W,e.u)}function ij(e){return!!e.g&&"GET"==e.v&&2!=e.L&&e.l.Ha}function iU(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if((i=function(e,t){var n=e.o,r=t.indexOf("\n",n);return -1==r?iO:isNaN(n=Number(t.substring(n,r)))?iP:(r+=1)+n>t.length?iO:(t=t.slice(r,r+n),e.o=r+n,t)}(e,n))==iO){4==t&&(e.s=4,iy(14),r=!1),ic(e.j,e.m,null,"[Incomplete Response]");break}else if(i==iP){e.s=4,iy(15),ic(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ic(e.j,e.m,i,null),iH(e,i);ij(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,iy(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),sK(t),t.M=!0,iy(11))):(ic(e.j,e.m,n,"[Invalid Chunked Response]"),i$(e),iB(e))}function iF(e){e.Y=Date.now()+e.P,iV(e,e.P)}function iV(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=ib(ra(e.lb,e),t)}function iz(e){e.C&&(rt.clearTimeout(e.C),e.C=null)}function iB(e){0==e.l.H||e.J||sX(e.l,e)}function i$(e){iz(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,it(e.V),il(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function iH(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||su(n.i,e))){if(!e.K&&su(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(n.g.G+3e3<e.G)sQ(n),sF(n);else break e}sW(n),iy(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ib(ra(n.ib,n),6e3));if(1>=sl(n.i)&&n.oa){try{n.oa()}catch(e){}n.oa=void 0}}else sJ(n,11)}else if((e.K||n.g==e)&&sQ(n),!rm(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let o=i[t];if(n.V=o[0],o=o[1],2==n.H){if("c"==o[0]){n.K=o[1],n.pa=o[2];let t=o[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));let i=o[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));let l=o[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(sc(s,s.h),s.h=null))}if(r.F){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,iJ(r.I,r.F,e))}}if(n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),(r=n).wa=s0(r,r.J?r.pa:null,r.Y),e.K){sh(r.i,e);var a=r.L;a&&e.setTimeout(a),e.C&&(iz(e),iF(e)),r.g=e}else sq(r);0<n.j.length&&sz(n)}else"stop"!=o[0]&&"close"!=o[0]||sJ(n,7)}else 3==n.H&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?sJ(n,7):sU(n):"noop"!=o[0]&&n.h&&n.h.Aa(o),n.A=0)}}ig(4)}catch(e){}}function iq(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(rn(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(rn(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(let r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(rn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(n8=iR.prototype).setTimeout=function(e){this.P=e},n8.nb=function(e){e=e.target;let t=this.M;t&&3==sD(e)?t.l():this.Pa(e)},n8.Pa=function(e){try{if(e==this.g)e:{let c=sD(this.g);var t=this.g.Ia();let h=this.g.da();if(!(3>c)&&(3!=c||rE||this.g&&(this.h.h||this.g.ja()||sP(this.g)))){this.J||4!=c||7==t||(8==t||0>=h?ig(3):ig(2)),iz(this);var n=this.g.da();this.ca=n;t:if(ij(this)){var r=sP(this.g);e="";var i=r.length,s=4==sD(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){i$(this),iB(this);var a="";break t}this.h.i=new rt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rm(o)){var u=o;break t}}u=null}if(n=u)ic(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iH(this,n);else{this.i=!1,this.s=3,iy(12),i$(this),iB(this);break e}}this.S?(iU(this,c,a),rE&&this.i&&3==c&&(io(this.U,this.V,"tick",this.mb),this.V.start())):(ic(this.j,this.m,a,null),iH(this,a)),4==c&&i$(this),this.i&&!this.J&&(4==c?sX(this.l,this):(this.i=!1,iF(this)))}else(function(e){let t={};e=(e.g&&2<=sD(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(rm(e[r]))continue;var n=function(e){var t=1;e=e.split(":");let n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}(e[r]);let i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();let s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(let n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,iy(12)):(this.s=0,iy(13)),i$(this),iB(this)}}}catch(e){}finally{}},n8.mb=function(){if(this.g){var e=sD(this.g),t=this.g.ja();this.o<t.length&&(iz(this),iU(this,e,t),this.i&&4!=e&&iF(this))}},n8.cancel=function(){this.J=!0,i$(this)},n8.lb=function(){this.C=null;let e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.B),2!=this.L&&(ig(),iy(17)),i$(this),this.s=2,iB(this)):iV(this,this.Y-e)};var iW=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iK(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof iK){this.h=e.h,iQ(this,e.j),this.s=e.s,this.g=e.g,iX(this,e.m),this.l=e.l;var t=e.i,n=new i8;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),iY(this,n),this.o=e.o}else e&&(t=String(e).match(iW))?(this.h=!1,iQ(this,t[1]||"",!0),this.s=i0(t[2]||""),this.g=i0(t[3]||"",!0),iX(this,t[4]),this.l=i0(t[5]||"",!0),iY(this,t[6]||"",!0),this.o=i0(t[7]||"")):(this.h=!1,this.i=new i8(null,this.h))}function iG(e){return new iK(e)}function iQ(e,t,n){e.j=n?i0(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function iX(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function iY(e,t,n){var r,i;t instanceof i8?(e.i=t,r=e.i,(i=e.h)&&!r.j&&(i7(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(se(this,t),sn(this,n,e))},r)),r.j=i):(n||(t=i1(t,i9)),e.i=new i8(t,e.h))}function iJ(e,t,n){e.i.set(t,n)}function iZ(e){return iJ(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function i0(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function i1(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,i2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function i2(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}iK.prototype.toString=function(){var e=[],t=this.j;t&&e.push(i1(t,i4,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(i1(t,i4,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(i1(n,"/"==n.charAt(0)?i6:i3,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",i1(n,i5)),e.join("")};var i4=/[#\/\?@]/g,i3=/[#\?:]/g,i6=/[#\?]/g,i9=/[#\?@]/g,i5=/#/g;function i8(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function i7(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function se(e,t){i7(e),t=sr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function st(e,t){return i7(e),t=sr(e,t),e.g.has(t)}function sn(e,t,n){se(e,t),0<n.length&&(e.i=null,e.g.set(sr(e,t),rh(n)),e.h+=n.length)}function sr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(n8=i8.prototype).add=function(e,t){i7(this),this.i=null,e=sr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},n8.forEach=function(e,t){i7(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},n8.ta=function(){i7(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},n8.Z=function(e){i7(this);let t=[];if("string"==typeof e)st(this,e)&&(t=t.concat(this.g.get(sr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},n8.set=function(e,t){return i7(this),this.i=null,st(this,e=sr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},n8.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},n8.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var si=class{constructor(e,t){this.g=e,this.map=t}};function ss(e){this.l=e||sa,e=rt.PerformanceNavigationTiming?0<(e=rt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(rt.g&&rt.g.Ka&&rt.g.Ka()&&rt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sa=10;function so(e){return!!e.h||!!e.g&&e.g.size>=e.j}function sl(e){return e.h?1:e.g?e.g.size:0}function su(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function sc(e,t){e.g?e.g.add(t):e.h=t}function sh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function sd(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let n of e.g.values())t=t.concat(n.F);return t}return rh(e.i)}ss.prototype.cancel=function(){if(this.i=sd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var sf=class{stringify(e){return rt.JSON.stringify(e,void 0)}parse(e){return rt.JSON.parse(e,void 0)}};function sp(){this.g=new sf}function sm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function sg(e){this.l=e.ec||null,this.j=e.ob||!1}function sv(e,t){rZ.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=sy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rl(sg,ix),sg.prototype.g=function(){return new sv(this.l,this.j)},sg.prototype.i=(l={},function(){return l}),rl(sv,rZ);var sy=0;function sw(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function sb(e){e.readyState=4,e.l=null,e.j=null,e.A=null,s_(e)}function s_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(n8=sv.prototype).open=function(e,t){if(this.readyState!=sy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,s_(this)},n8.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||rt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},n8.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sb(this)),this.readyState=sy},n8.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,s_(this)),this.g&&(this.readyState=3,s_(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==rt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sw(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))}},n8.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?sb(this):s_(this),3==this.readyState&&sw(this)}},n8.Za=function(e){this.g&&(this.response=this.responseText=e,sb(this))},n8.Ya=function(e){this.g&&(this.response=e,sb(this))},n8.ka=function(){this.g&&sb(this)},n8.setRequestHeader=function(e,t){this.v.append(e,t)},n8.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},n8.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var sE=rt.JSON.parse;function sx(e){rZ.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sS,this.L=this.M=!1}rl(sx,rZ);var sS="",sk=/^https?$/i,sT=["POST","PUT"];function sC(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,sI(e),sR(e)}function sI(e){e.F||(e.F=!0,r0(e,"complete"),r0(e,"error"))}function sN(e){if(e.h&&void 0!==re&&(!e.C[1]||4!=sD(e)||2!=e.da())){if(e.v&&4==sD(e))ir(e.La,0,e);else if(r0(e,"readystatechange"),4==sD(e)){e.h=!1;try{let a=e.da();switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,n,r=!0;break;default:r=!1}if(!(t=r)){if(n=0===a){var i=String(e.I).match(iW)[1]||null;!i&&rt.self&&rt.self.location&&(i=rt.self.location.protocol.slice(0,-1)),n=!sk.test(i?i.toLowerCase():"")}t=n}if(t)r0(e,"complete"),r0(e,"success");else{e.m=6;try{var s=2<sD(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.da()+"]",sI(e)}}finally{sR(e)}}}}function sR(e,t){if(e.g){sA(e);let n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||r0(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function sA(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(rt.clearTimeout(e.A),e.A=null)}function sD(e){return e.g?e.g.readyState:0}function sP(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case sS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function sO(e){let t="";return rj(e,function(e,n){t+=n+":"+e+"\r\n"}),t}function sL(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sO(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):iJ(e,t,n))}function sM(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sj(e){this.Ga=0,this.j=[],this.l=new iu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sM("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sM("baseRetryDelayMs",5e3,e),this.hb=sM("retryDelaySeedMs",1e4,e),this.eb=sM("forwardChannelMaxRetries",2,e),this.xa=sM("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ss(e&&e.concurrentRequestLimit),this.Ja=new sp,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function sU(e){if(sV(e),3==e.H){var t=e.W++,n=iG(e.I);if(iJ(n,"SID",e.K),iJ(n,"RID",t),iJ(n,"TYPE","terminate"),s$(e,n),(t=new iR(e,e.l,t)).L=2,t.A=iZ(iG(n)),n=!1,rt.navigator&&rt.navigator.sendBeacon)try{n=rt.navigator.sendBeacon(t.A.toString(),"")}catch(e){}!n&&rt.Image&&((new Image).src=t.A,n=!0),n||(t.g=s1(t.l,null),t.g.ha(t.A)),t.G=Date.now(),iF(t)}sZ(e)}function sF(e){e.g&&(sK(e),e.g.cancel(),e.g=null)}function sV(e){sF(e),e.u&&(rt.clearTimeout(e.u),e.u=null),sQ(e),e.i.cancel(),e.m&&("number"==typeof e.m&&rt.clearTimeout(e.m),e.m=null)}function sz(e){if(!so(e.i)&&!e.m){e.m=!0;var t=e.Na;r6||r8(),r9||(r6(),r9=!0),r5.add(t,e),e.C=0}}function sB(e,t){var n;n=t?t.m:e.W++;let r=iG(e.I);iJ(r,"SID",e.K),iJ(r,"RID",n),iJ(r,"AID",e.V),s$(e,r),e.o&&e.s&&sL(r,e.o,e.s),n=new iR(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=sH(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),sc(e.i,n),iL(n,r,t)}function s$(e,t){e.na&&rj(e.na,function(e,n){iJ(t,n,e)}),e.h&&iq({},function(e,n){iJ(t,n,e)})}function sH(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ra(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){let e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g,o=i[a].map;if(0>(n-=t))t=Math.max(0,i[a].g-100),s=!1;else try{!function(e,t,n){let r=n||"";try{iq(e,function(e,n){let i=e;rr(e)&&(i=r2(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(o,e,"req"+n+"_")}catch(e){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function sq(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;r6||r8(),r9||(r6(),r9=!0),r5.add(t,e),e.A=0}}function sW(e){return!e.g&&!e.u&&!(3<=e.A)&&(e.ba++,e.u=ib(ra(e.Ma,e),sY(e,e.A)),e.A++,!0)}function sK(e){null!=e.B&&(rt.clearTimeout(e.B),e.B=null)}function sG(e){e.g=new iR(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=iG(e.wa);iJ(t,"RID","rpc"),iJ(t,"SID",e.K),iJ(t,"AID",e.V),iJ(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&iJ(t,"TO",e.qa),iJ(t,"TYPE","xmlhttp"),s$(e,t),e.o&&e.s&&sL(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=iZ(iG(t)),n.u=null,n.S=!0,iM(n,e)}function sQ(e){null!=e.v&&(rt.clearTimeout(e.v),e.v=null)}function sX(e,t){var n=null;if(e.g==t){sQ(e),sK(e),e.g=null;var r=2}else{if(!su(e.i,t))return;n=t.F,sh(e.i,t),r=1}if(0!=e.H){if(t.i){if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i,s=e.C;r0(r=ip(),new iw(r,n)),sz(e)}else sq(e)}else if(3==(s=t.s)||0==s&&0<t.ca||!(1==r&&(i=t,!(sl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=i.F.concat(e.j),!0):1!=e.H&&2!=e.H&&!(e.C>=(e.cb?0:e.eb))&&(e.m=ib(ra(e.Na,e,i),sY(e,e.C)),e.C++,!0)))||2==r&&sW(e)))switch(n&&0<n.length&&((t=e.i).i=t.i.concat(n)),s){case 1:sJ(e,5);break;case 4:sJ(e,10);break;case 3:sJ(e,6);break;default:sJ(e,2)}}}function sY(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function sJ(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ra(e.pb,e);n||(n=new iK("//www.google.com/images/cleardot.gif"),rt.location&&"http"==rt.location.protocol||iQ(n,"https"),iZ(n)),function(e,t){let n=new iu;if(rt.Image){let r=new Image;r.onload=ro(sm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ro(sm,n,r,"TestLoadImage: error",!1,t),r.onabort=ro(sm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ro(sm,n,r,"TestLoadImage: timeout",!1,t),rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else iy(2);e.H=0,e.h&&e.h.za(t),sZ(e),sV(e)}function sZ(e){if(e.H=0,e.ma=[],e.h){let t=sd(e.i);(0!=t.length||0!=e.j.length)&&(rd(e.ma,t),rd(e.ma,e.j),e.i.i.length=0,rh(e.j),e.j.length=0),e.h.ya()}}function s0(e,t,n){var r=n instanceof iK?iG(n):new iK(n);if(""!=r.g)t&&(r.g=t+"."+r.g),iX(r,r.m);else{var i=rt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new iK(null);r&&iQ(s,r),t&&(s.g=t),i&&iX(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&iJ(r,n,t),iJ(r,"VER",e.ra),s$(e,r),r}function s1(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new sx(e.Ha&&!e.va?new sg({ob:n}):e.va)).Oa(e.J),t}function s2(){}function s4(){if(rb&&!(10<=Number(rR)))throw Error("Environmental error: no available transport.")}function s3(e,t){rZ.call(this),this.g=new sj(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!rm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rm(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new s5(this)}function s6(e){iC.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function s9(){iI.call(this),this.status=1}function s5(e){this.g=e}function s8(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function s7(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[1]+3905402710&4294967295,a=i+(n^(s=t+(a<<12&4294967295|a>>>20))&(t^n))+r[2]+606105819&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[3]+3250441966&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[4]+4118548399&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[5]+1200080426&4294967295,a=i+(n^(s=t+(a<<12&4294967295|a>>>20))&(t^n))+r[6]+2821735955&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[7]+4249261313&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[8]+1770035416&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[9]+2336552879&4294967295,a=i+(n^(s=t+(a<<12&4294967295|a>>>20))&(t^n))+r[10]+4294925233&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[11]+2304563134&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[12]+1804603682&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[13]+4254626195&4294967295,a=i+(n^(s=t+(a<<12&4294967295|a>>>20))&(t^n))+r[14]+2792965006&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(i^s))+r[12]+2368359562&4294967295,a=t+((n=i+(a<<20&4294967295|a>>>12))^i^s)+r[5]+4294588738&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[8]+2272392833&4294967295,a=i+((s=t+(a<<11&4294967295|a>>>21))^t^n)+r[11]+1839030562&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[14]+4259657740&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[1]+2763975236&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[4]+1272893353&4294967295,a=i+((s=t+(a<<11&4294967295|a>>>21))^t^n)+r[7]+4139469664&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[10]+3200236656&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[13]+681279174&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[0]+3936430074&4294967295,a=i+((s=t+(a<<11&4294967295|a>>>21))^t^n)+r[3]+3572445317&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[6]+76029189&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[9]+3654602809&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[12]+3873151461&4294967295,a=i+((s=t+(a<<11&4294967295|a>>>21))^t^n)+r[15]+530742520&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function ae(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(n8=sx.prototype).Oa=function(e){this.M=e},n8.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():g.g(),this.C=this.u?iS(this.u):iS(g),this.g.onreadystatechange=ra(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){sC(this,e);return}if(e=n||"",n=new Map(this.headers),r){if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if("function"==typeof r.keys&&"function"==typeof r.get)for(let e of r.keys())n.set(e,r.get(e));else throw Error("Unknown input type for opt_headers: "+String(r))}for(let[s,a]of(r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=rt.FormData&&e instanceof rt.FormData,!(0<=rc(sT,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n))this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{var s;sA(this),0<this.B&&((this.L=(s=this.g,rb&&"number"==typeof s.timeout&&void 0!==s.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=ra(this.ua,this)):this.A=ir(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){sC(this,e)}},n8.ua=function(){void 0!==re&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,r0(this,"timeout"),this.abort(8))},n8.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,r0(this,"complete"),r0(this,"abort"),sR(this))},n8.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sR(this,!0)),sx.$.N.call(this)},n8.La=function(){this.s||(this.G||this.v||this.l?sN(this):this.kb())},n8.kb=function(){sN(this)},n8.isActive=function(){return!!this.g},n8.da=function(){try{return 2<sD(this)?this.g.status:-1}catch(e){return -1}},n8.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},n8.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),sE(t)}},n8.Ia=function(){return this.m},n8.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(n8=sj.prototype).ra=8,n8.H=1,n8.Na=function(e){if(this.m){if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;let i=new iR(this,this.l,e),s=this.s;if(this.U&&(s?rV(s=rU(s),this.U):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&"string"==typeof(r=r.map.__data__)){r=r.length;break t}r=void 0}if(void 0===r)break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=sH(this,i,t),iJ(n=iG(this.I),"RID",e),iJ(n,"CVER",22),this.F&&iJ(n,"X-HTTP-Session-Id",this.F),s$(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(sO(s)))+"&"+t:this.o&&sL(n,this.o,s)),sc(this.i,i),this.bb&&iJ(n,"TYPE","init"),this.P?(iJ(n,"$req",t),iJ(n,"SID","null"),i.aa=!0,iL(i,n,null)):iL(i,n,t),this.H=2}}else 3==this.H&&(e?sB(this,e):0==this.j.length||so(this.i)||sB(this))}},n8.Ma=function(){if(this.u=null,sG(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ib(ra(this.jb,this),e)}},n8.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,iy(10),sF(this),sG(this))},n8.ib=function(){null!=this.v&&(this.v=null,sF(this),sW(this),iy(19))},n8.pb=function(e){e?(this.l.info("Successfully pinged google.com"),iy(2)):(this.l.info("Failed to ping google.com"),iy(1))},n8.isActive=function(){return!!this.h&&this.h.isActive(this)},(n8=s2.prototype).Ba=function(){},n8.Aa=function(){},n8.za=function(){},n8.ya=function(){},n8.isActive=function(){return!0},n8.Va=function(){},s4.prototype.g=function(e,t){return new s3(e,t)},rl(s3,rZ),s3.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;iy(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=s0(e,null,e.Y),sz(e)},s3.prototype.close=function(){sU(this.g)},s3.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=r2(e),e=n);t.j.push(new si(t.fb++,e)),3==t.H&&sz(t)},s3.prototype.N=function(){this.g.h=null,delete this.j,sU(this.g),delete this.g,s3.$.N.call(this)},rl(s6,iC),rl(s9,iI),rl(s5,s2),s5.prototype.Ba=function(){r0(this.g,"a")},s5.prototype.Aa=function(e){r0(this.g,new s6(e))},s5.prototype.za=function(e){r0(this.g,new s9)},s5.prototype.ya=function(){r0(this.g,"b")},rl(s8,function(){this.blockSize=-1}),s8.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},s8.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)s7(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){s7(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){s7(this,r),i=0;break}}this.h=i,this.i+=t},s8.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var at={};function an(e){var t;return -128<=e&&128>e?(t=function(e){return new ae([0|e],0>e?-1:0)},Object.prototype.hasOwnProperty.call(at,e)?at[e]:at[e]=t(e)):new ae([0|e],0>e?-1:0)}function ar(e){if(isNaN(e)||!isFinite(e))return as;if(0>e)return ac(ar(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ai;return new ae(t,0)}var ai=4294967296,as=an(0),aa=an(1),ao=an(16777216);function al(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function au(e){return -1==e.h}function ac(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ae(n,~e.h).add(aa)}function ah(e,t){return e.add(ac(t))}function ad(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function af(e,t){this.g=e,this.h=t}function ap(e,t){if(al(t))throw Error("division by zero");if(al(e))return new af(as,as);if(au(e))return t=ap(ac(e),t),new af(ac(t.g),ac(t.h));if(au(t))return t=ap(e,ac(t)),new af(ac(t.g),t.h);if(30<e.g.length){if(au(e)||au(t))throw Error("slowDivide_ only works with positive integers.");for(var n=aa,r=t;0>=r.X(e);)n=am(n),r=am(r);var i=ag(n,1),s=ag(r,1);for(r=ag(r,2),n=ag(n,2);!al(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=ag(r,1),n=ag(n,1)}return t=ah(e,i.R(t)),new af(i,t)}for(i=as;0<=e.X(t);){for(r=48>=(r=Math.ceil(Math.log(n=Math.max(1,Math.floor(e.ea()/t.ea())))/Math.LN2))?1:Math.pow(2,r-48),a=(s=ar(n)).R(t);au(a)||0<a.X(e);)n-=r,a=(s=ar(n)).R(t);al(s)&&(s=aa),i=i.add(s),e=ah(e,a)}return new af(i,e)}function am(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ae(n,e.h)}function ag(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new ae(i,e.h)}(n8=ae.prototype).ea=function(){if(au(this))return-ac(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ai+r)*t,t*=ai}return e},n8.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(al(this))return"0";if(au(this))return"-"+ac(this).toString(e);for(var t=ar(Math.pow(e,6)),n=this,r="";;){var i=ap(n,t).g,s=((0<(n=ah(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(al(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},n8.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},n8.X=function(e){return au(e=ah(this,e))?-1:al(e)?0:1},n8.abs=function(){return au(this)?ac(this):this},n8.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new ae(n,-2147483648&n[n.length-1]?-1:0)},n8.R=function(e){if(al(this)||al(e))return as;if(au(this))return au(e)?ac(this).R(ac(e)):ac(ac(this).R(e));if(au(e))return ac(this.R(ac(e)));if(0>this.X(ao)&&0>e.X(ao))return ar(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,ad(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ad(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,ad(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,ad(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ae(n,0)},n8.gb=function(e){return ap(this,e).h},n8.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ae(n,this.h&e.h)},n8.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ae(n,this.h|e.h)},n8.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ae(n,this.h^e.h)},s4.prototype.createWebChannel=s4.prototype.g,s3.prototype.send=s3.prototype.u,s3.prototype.open=s3.prototype.m,s3.prototype.close=s3.prototype.close,i_.NO_ERROR=0,i_.TIMEOUT=8,i_.HTTP_ERROR=6,iE.COMPLETE="complete",ik.EventType=iT,iT.OPEN="a",iT.CLOSE="b",iT.ERROR="c",iT.MESSAGE="d",rZ.prototype.listen=rZ.prototype.O,sx.prototype.listenOnce=sx.prototype.P,sx.prototype.getLastError=sx.prototype.Sa,sx.prototype.getLastErrorCode=sx.prototype.Ia,sx.prototype.getStatus=sx.prototype.da,sx.prototype.getResponseJson=sx.prototype.Wa,sx.prototype.getResponseText=sx.prototype.ja,sx.prototype.send=sx.prototype.ha,sx.prototype.setWithCredentials=sx.prototype.Oa,s8.prototype.digest=s8.prototype.l,s8.prototype.reset=s8.prototype.reset,s8.prototype.update=s8.prototype.j,ae.prototype.add=ae.prototype.add,ae.prototype.multiply=ae.prototype.R,ae.prototype.modulo=ae.prototype.gb,ae.prototype.compare=ae.prototype.X,ae.prototype.toNumber=ae.prototype.ea,ae.prototype.toString=ae.prototype.toString,ae.prototype.getBits=ae.prototype.D,ae.fromNumber=ar,ae.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ac(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ar(Math.pow(n,8)),i=as,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=ar(Math.pow(n,a)),i=i.R(a).add(ar(o))):i=(i=i.R(r)).add(ar(o))}return i};var av=n7.createWebChannelTransport=function(){return new s4},ay=n7.getStatEventTarget=function(){return ip()},aw=n7.ErrorCode=i_,ab=n7.EventType=iE,a_=n7.Event=ih,aE=n7.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20};n7.FetchXmlHttpFactory=sg;var ax=n7.WebChannel=ik,aS=n7.XhrIo=sx,ak=n7.Md5=s8,aT=n7.Integer=ae;const aC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}aI.UNAUTHENTICATED=new aI(null),aI.GOOGLE_CREDENTIALS=new aI("google-credentials-uid"),aI.FIRST_PARTY=new aI("first-party-uid"),aI.MOCK_USER=new aI("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aN="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new ni("@firebase/firestore");function aA(){return aR.logLevel}function aD(e,...t){if(aR.logLevel<=n5.DEBUG){let n=t.map(aL);aR.debug(`Firestore (${aN}): ${e}`,...n)}}function aP(e,...t){if(aR.logLevel<=n5.ERROR){let n=t.map(aL);aR.error(`Firestore (${aN}): ${e}`,...n)}}function aO(e,...t){if(aR.logLevel<=n5.WARN){let n=t.map(aL);aR.warn(`Firestore (${aN}): ${e}`,...n)}}function aL(e){if("string"==typeof e)return e;try{/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return JSON.stringify(e)}catch(t){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(e="Unexpected state"){let t=`FIRESTORE (${aN}) INTERNAL ASSERTION FAILED: `+e;throw aP(t),Error(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class aU extends tG{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class az{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(aI.UNAUTHENTICATED))}shutdown(){}}class aB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class a${constructor(e){this.t=e,this.currentUser=aI.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i,r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve(),i=new aF;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new aF,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{aD("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?a(e):(aD("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new aF)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(aD("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?("string"==typeof t.accessToken||aM(),new aV(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||aM(),new aI(e)}}class aH{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=aI.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class aq{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new aH(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(aI.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aK{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let n=e=>{null!=e.error&&aD("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.R;return this.R=e.token,aD("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};let r=e=>{aD("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){let e=this.A.getImmediate({optional:!0});e?r(e):aD("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?("string"==typeof e.token||aM(),this.R=e.token,new aW(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let r=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let e=0;e<40;e++)n[e]=Math.floor(256*Math.random());return n}(0);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function aQ(e,t){return e<t?-1:e>t?1:0}function aX(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new aU(aj.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800||e>=253402300800)throw new aU(aj.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return aY.fromMillis(Date.now())}static fromDate(e){return aY.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3);return new aY(t,Math.floor(1e6*(e-1e3*t)))}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?aQ(this.nanoseconds,e.nanoseconds):aQ(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aJ{constructor(e){this.timestamp=e}static fromTimestamp(e){return new aJ(e)}static min(){return new aJ(new aY(0,0))}static max(){return new aJ(new aY(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(e,t,n){void 0===t?t=0:t>e.length&&aM(),void 0===n?n=e.length-t:n>e.length-t&&aM(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===aZ.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof aZ?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.get(r),i=t.get(r);if(n<i)return -1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class a0 extends aZ{construct(e,t,n){return new a0(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new aU(aj.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new a0(t)}static emptyPath(){return new a0([])}}const a1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class a2 extends aZ{construct(e,t,n){return new a2(e,t,n)}static isValidIdentifier(e){return a1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),a2.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new a2(["__name__"])}static fromServerFormat(e){let t=[],n="",r=0,i=()=>{if(0===n.length)throw new aU(aj.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},s=!1;for(;r<e.length;){let t=e[r];if("\\"===t){if(r+1===e.length)throw new aU(aj.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new aU(aj.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?s=!s:"."!==t||s?n+=t:i(),r++}if(i(),s)throw new aU(aj.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new a2(t)}static emptyPath(){return new a2([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.path=e}static fromPath(e){return new a4(a0.fromString(e))}static fromName(e){return new a4(a0.fromString(e).popFirst(5))}static empty(){return new a4(a0.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===a0.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return a0.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new a4(new a0(e.slice()))}}class a3{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new a3(aJ.min(),a4.empty(),-1)}static max(){return new a3(aJ.max(),a4.empty(),-1)}}class a6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a9(e){if(e.code!==aj.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;aD("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&aM(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new a5((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof a5?t:a5.resolve(t)}catch(e){return a5.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):a5.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):a5.reject(t)}static resolve(e){return new a5((t,n)=>{t(e)})}static reject(e){return new a5((t,n)=>{n(e)})}static waitFor(e){return new a5((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=a5.resolve(!1);for(let n of e)t=t.next(e=>e?a5.resolve(e):n());return t}static forEach(e,t){let n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new a5((n,r)=>{let i=e.length,s=Array(i),a=0;for(let o=0;o<i;o++){let l=o;t(e[l]).next(e=>{s[l]=e,++a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new a5((n,r)=>{let i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new aF,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ot(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{let n=oa(t.target.error);this.V.reject(new ot(e,n))}}static open(e,t,n,r){try{return new a8(t,e.transaction(r,n))}catch(e){throw new ot(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(aD("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){return new or(this.transaction.objectStore(e))}}class a7{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===a7.S(tW())&&aP("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return aD("SimpleDb","Removing database:",e),oi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!tK())return!1;if(a7.C())return!0;let e=tW(),t=a7.S(e),n=a7.v(e);return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||0<t&&t<10||0<n&&n<4.5)}static C(){var e;return void 0!==tv&&"YES"===(null===(e=tv.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(t?t[1].split("_").slice(0,2).join("."):"-1")}static v(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}async O(e){return this.db||(aD("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{t(e.target.result)},r.onblocked=()=>{n(new ot(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{let r=t.target.error;"VersionError"===r.name?n(new aU(aj.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new aU(aj.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ot(e,r))},r.onupgradeneeded=e=>{aD("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);let t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next(()=>{aD("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){let i="readonly"===t,s=0;for(;;){++s;try{this.db=await this.O(e);let t=a8.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next(e=>(t.g(),e)).catch(e=>(t.abort(e),a5.reject(e))).toPromise();return s.catch(()=>{}),await t.m,s}catch(t){let e="FirebaseError"!==t.name&&s<3;if(aD("SimpleDb","Transaction failed with error:",t.message,"Retrying:",e),this.close(),!e)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class oe{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return oi(this.k.delete())}}class ot extends aU{constructor(e,t){super(aj.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function on(e){return"IndexedDbTransactionError"===e.name}class or{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(aD("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(aD("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),oi(n)}add(e){return aD("SimpleDb","ADD",this.store.name,e,e),oi(this.store.add(e))}get(e){return oi(this.store.get(e)).next(t=>(void 0===t&&(t=null),aD("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return aD("SimpleDb","DELETE",this.store.name,e),oi(this.store.delete(e))}count(){return aD("SimpleDb","COUNT",this.store.name),oi(this.store.count())}W(e,t){let n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){let e=r.getAll(n.range);return new a5((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{let e=this.cursor(n),t=[];return this.G(e,(e,n)=>{t.push(n)}).next(()=>t)}}j(e,t){let n=this.store.getAll(e,null===t?void 0:t);return new a5((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}H(e,t){aD("SimpleDb","DELETE ALL",this.store.name);let n=this.options(e,t);n.J=!1;let r=this.cursor(n);return this.G(r,(e,t,n)=>n.delete())}Y(e,t){let n;t?n=e:(n={},t=e);let r=this.cursor(n);return this.G(r,t)}Z(e){let t=this.cursor({});return new a5((n,r)=>{t.onerror=e=>{r(oa(e.target.error))},t.onsuccess=t=>{let r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}G(e,t){let n=[];return new a5((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{let i=e.target.result;if(!i)return void r();let s=new oe(i),a=t(i.primaryKey,i.value,s);if(a instanceof a5){let e=a.catch(e=>(s.done(),a5.reject(e)));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}}).next(()=>a5.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function oi(e){return new a5((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{n(oa(e.target.error))}})}let os=!1;function oa(e){let t=a7.S(tW());if(t>=12.2&&t<13){let t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){let e=new aU("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return os||(os=!0,setTimeout(()=>{throw e},0)),e}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.oe&&this.oe(e),e}}function ol(e){return 0===e&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function oc(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function oh(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}oo._e=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t){this.comparator=e,this.root=t||op.EMPTY}insert(e,t){return new od(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,op.BLACK,null,null))}remove(e){return new od(this.comparator,this.root.remove(e,this.comparator).copy(null,null,op.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new of(this.root,e,this.comparator,!1)}getReverseIterator(){return new of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new of(this.root,e,this.comparator,!0)}}class of{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class op{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:op.RED,this.left=null!=r?r:op.EMPTY,this.right=null!=i?i:op.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new op(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return op.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return op.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,op.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,op.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw aM();let e=this.left.check();if(e!==this.right.check())throw aM();return e+(this.isRed()?0:1)}}op.EMPTY=null,op.RED=!0,op.BLACK=!1,op.EMPTY=new class{constructor(){this.size=0}get key(){throw aM()}get value(){throw aM()}get color(){throw aM()}get left(){throw aM()}get right(){throw aM()}copy(e,t,n,r,i){return this}insert(e,t,n){return new op(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.comparator=e,this.data=new od(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new og(this.data.getIterator())}getIteratorFrom(e){return new og(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof om)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new om(this.comparator);return t.data=e,t}}class og{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this.fields=e,e.sort(a2.comparator)}static empty(){return new ov([])}unionWith(e){let t=new om(a2.comparator);for(let e of this.fields)t=t.add(e);for(let n of e)t=t.add(n);return new ov(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return aX(this.fields,e.fields,(e,t)=>e.isEqual(t))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.binaryString=e}static fromBase64String(e){return new ow(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oy("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new ow(function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return aQ(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ow.EMPTY_BYTE_STRING=new ow("");const ob=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function o_(e){if(e||aM(),"string"==typeof e){let t=0,n=ob.exec(e);if(n||aM(),n[1]){let e=n[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:oE(e.seconds),nanos:oE(e.nanos)}}function oE(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ox(e){return"string"==typeof e?ow.fromBase64String(e):ow.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ok(e){let t=e.mapValue.fields.__previous_value__;return oS(t)?ok(t):t}function oT(e){let t=o_(e.mapValue.fields.__local_write_time__.timestampValue);return new aY(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class oI{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oI("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oI&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oR(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oS(e)?4:oB(e)?9007199254740991:10:aM()}function oA(e,t){if(e===t)return!0;let n=oR(e);if(n!==oR(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oT(e).isEqual(oT(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=o_(e.timestampValue),r=o_(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return ox(e.bytesValue).isEqual(ox(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return oE(e.geoPointValue.latitude)===oE(t.geoPointValue.latitude)&&oE(e.geoPointValue.longitude)===oE(t.geoPointValue.longitude);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return oE(e.integerValue)===oE(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let n=oE(e.doubleValue),r=oE(t.doubleValue);return n===r?ol(n)===ol(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return aX(e.arrayValue.values||[],t.arrayValue.values||[],oA);case 10:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ou(n)!==ou(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!oA(n[e],r[e])))return!1;return!0}(e,t);default:return aM()}}function oD(e,t){return void 0!==(e.values||[]).find(e=>oA(e,t))}function oP(e,t){if(e===t)return 0;let n=oR(e),r=oR(t);if(n!==r)return aQ(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return aQ(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=oE(e.integerValue||e.doubleValue),r=oE(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return oO(e.timestampValue,t.timestampValue);case 4:return oO(oT(e),oT(t));case 5:return aQ(e.stringValue,t.stringValue);case 6:return function(e,t){let n=ox(e),r=ox(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){let t=aQ(n[e],r[e]);if(0!==t)return t}return aQ(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=aQ(oE(e.latitude),oE(t.latitude));return 0!==n?n:aQ(oE(e.longitude),oE(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=oP(n[e],r[e]);if(t)return t}return aQ(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===oN.mapValue&&t===oN.mapValue)return 0;if(e===oN.mapValue)return 1;if(t===oN.mapValue)return -1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){let t=aQ(r[e],s[e]);if(0!==t)return t;let a=oP(n[r[e]],i[s[e]]);if(0!==a)return a}return aQ(r.length,s.length)}(e.mapValue,t.mapValue);default:throw aM()}}function oO(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return aQ(e,t);let n=o_(e),r=o_(t),i=aQ(n.seconds,r.seconds);return 0!==i?i:aQ(n.nanos,r.nanos)}function oL(e){var t,n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let t=o_(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ox(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,a4.fromName(t).toString()):"geoPointValue"in e?(n=e.geoPointValue,`geo(${n.latitude},${n.longitude})`):"arrayValue"in e?function(e){let t="[",n=!0;for(let r of e.values||[])n?n=!1:t+=",",t+=oL(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),n="{",r=!0;for(let i of t)r?r=!1:n+=",",n+=`${i}:${oL(e.fields[i])}`;return n+"}"}(e.mapValue):aM()}function oM(e){return!!e&&"integerValue"in e}function oj(e){return!!e&&"arrayValue"in e}function oU(e){return!!e&&"nullValue"in e}function oF(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function oV(e){return!!e&&"mapValue"in e}function oz(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return oc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=oz(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=oz(e.arrayValue.values[n]);return t}return Object.assign({},e)}function oB(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e){this.value=e}static empty(){return new o$({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(!oV(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oz(t)}setAll(e){let t=a2.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=oz(e):r.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());oV(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oA(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];oV(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){for(let r of(oc(t,(t,n)=>e[t]=n),n))delete e[r]}clone(){return new o$(oz(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new oH(e,0,aJ.min(),aJ.min(),aJ.min(),o$.empty(),0)}static newFoundDocument(e,t,n,r){return new oH(e,1,t,aJ.min(),n,r,0)}static newNoDocument(e,t){return new oH(e,2,t,aJ.min(),aJ.min(),o$.empty(),0)}static newUnknownDocument(e,t){return new oH(e,3,t,aJ.min(),aJ.min(),o$.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(aJ.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=o$.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=o$.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=aJ.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof oH&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oH(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,t){this.position=e,this.inclusive=t}}function oW(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let s=t[i],a=e.position[i];if(r=s.field.isKeyField()?a4.comparator(a4.fromName(a.referenceValue),n.key):oP(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function oK(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!oA(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e,t="asc"){this.field=e,this.dir=t}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{}class oX extends oQ{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new o0(e,t,n):"array-contains"===t?new o3(e,n):"in"===t?new o6(e,n):"not-in"===t?new o9(e,n):"array-contains-any"===t?new o5(e,n):new oX(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new o1(e,n):new o2(e,n)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(oP(t,this.value)):null!==t&&oR(this.value)===oR(t)&&this.matchesComparison(oP(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return aM()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oY extends oQ{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new oY(e,t)}matches(e){return oJ(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function oJ(e){return"and"===e.op}function oZ(e){for(let t of e.filters)if(t instanceof oY)return!1;return!0}class o0 extends oX{constructor(e,t,n){super(e,t,n),this.key=a4.fromName(n.referenceValue)}matches(e){let t=a4.comparator(e.key,this.key);return this.matchesComparison(t)}}class o1 extends oX{constructor(e,t){super(e,"in",t),this.keys=o4("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class o2 extends oX{constructor(e,t){super(e,"not-in",t),this.keys=o4("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function o4(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>a4.fromName(e.referenceValue))}class o3 extends oX{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return oj(t)&&oD(t.arrayValue,this.value)}}class o6 extends oX{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&oD(this.value.arrayValue,t)}}class o9 extends oX{constructor(e,t){super(e,"not-in",t)}matches(e){if(oD(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!oD(this.value.arrayValue,t)}}class o5 extends oX{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!oj(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>oD(this.value.arrayValue,e))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ce=null}}function o7(e,t=null,n=[],r=[],i=null,s=null,a=null){return new o8(e,t,n,r,i,s,a)}function le(e){if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:"+e.filters.map(e=>(function e(t){if(t instanceof oX)return t.field.canonicalString()+t.op.toString()+oL(t.value);if(oZ(t)&&oJ(t))return t.filters.map(t=>e(t)).join(",");{let n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}})(e)).join(",")+"|ob:"+e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==e.limit||(t+="|l:"+e.limit),e.startAt&&(t+="|lb:"+(e.startAt.inclusive?"b:":"a:")+e.startAt.position.map(e=>oL(e)).join(",")),e.endAt&&(t+="|ub:"+(e.endAt.inclusive?"a:":"b:")+e.endAt.position.map(e=>oL(e)).join(",")),e.ce=t}return e.ce}function lt(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var n,r;if(n=e.orderBy[i],r=t.orderBy[i],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!function e(t,n){return t instanceof oX?n instanceof oX&&t.op===n.op&&t.field.isEqual(n.field)&&oA(t.value,n.value):t instanceof oY?n instanceof oY&&t.op===n.op&&t.filters.length===n.filters.length&&t.filters.reduce((t,r,i)=>t&&e(r,n.filters[i]),!0):void aM()}(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!oK(e.startAt,t.startAt)&&oK(e.endAt,t.endAt)}function ln(e){return a4.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function li(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ls(e){if(null===e.le){let t;e.le=[];let n=new Set;for(let t of e.explicitOrderBy)e.le.push(t),n.add(t.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(t=new om(a2.comparator),e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t).forEach(t=>{n.has(t.canonicalString())||t.isKeyField()||e.le.push(new oG(t,r))}),n.has(a2.keyField().canonicalString())||e.le.push(new oG(a2.keyField(),r))}return e.le}function la(e){return e.he||(e.he=function(e,t){if("F"===e.limitType)return o7(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new oG(e.field,t)});let n=e.endAt?new oq(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new oq(e.startAt.position,e.startAt.inclusive):null;return o7(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(e,ls(e))),e.he}function lo(e,t,n){return new lr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ll(e,t){return lt(la(e),la(t))&&e.limitType===t.limitType}function lu(e){return`${le(la(e))}|lt:${e.limitType}`}function lc(e){var t;let n;return`Query(target=${n=(t=la(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof oX?`${t.field.canonicalString()} ${t.op} ${oL(t.value)}`:t instanceof oY?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),null==t.limit||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(n+=", startAt: "+(t.startAt.inclusive?"b:":"a:")+t.startAt.position.map(e=>oL(e)).join(",")),t.endAt&&(n+=", endAt: "+(t.endAt.inclusive?"a:":"b:")+t.endAt.position.map(e=>oL(e)).join(",")),`Target(${n})`}; limitType=${e.limitType})`}function lh(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):a4.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(let n of ls(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(!e.startAt||!!function(e,t,n){let r=oW(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ls(e),t))&&(!e.endAt||!!function(e,t,n){let r=oW(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ls(e),t))}function ld(e){return(t,n)=>{let r=!1;for(let i of ls(e)){let e=function(e,t,n){let r=e.field.isKeyField()?a4.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?oP(r,i):aM()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return -1*r;default:return aM()}}(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return void 0!==this.get(e)}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){oc(this.inner,(t,n)=>{for(let[t,r]of n)e(t,r)})}isEmpty(){return oh(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new od(a4.comparator),lm=new od(a4.comparator);function lg(...e){let t=lm;for(let n of e)t=t.insert(n.key,n);return t}function lv(e){let t=lm;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ly(){return new lf(e=>e.toString(),(e,t)=>e.isEqual(t))}const lw=new od(a4.comparator),lb=new om(a4.comparator);function l_(...e){let t=lb;for(let n of e)t=t.add(n);return t}const lE=new om(aQ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ol(t)?"-0":t}}function lS(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this._=void 0}}function lT(e,t){return e instanceof lD?oM(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class lC extends lk{}class lI extends lk{constructor(e){super(),this.elements=e}}function lN(e,t){let n=lO(t);for(let t of e.elements)n.some(e=>oA(e,t))||n.push(t);return{arrayValue:{values:n}}}class lR extends lk{constructor(e){super(),this.elements=e}}function lA(e,t){let n=lO(t);for(let t of e.elements)n=n.filter(e=>!oA(e,t));return{arrayValue:{values:n}}}class lD extends lk{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function lP(e){return oE(e.integerValue||e.doubleValue)}function lO(e){return oj(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class lL{constructor(e,t){this.version=e,this.transformResults=t}}class lM{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lM}static exists(e){return new lM(void 0,e)}static updateTime(e){return new lM(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lj(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class lU{}function lF(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new lK(e.key,lM.none()):new lB(e.key,e.data,lM.none());{let n=e.data,r=o$.empty(),i=new om(a2.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new l$(e.key,r,new ov(i.toArray()),lM.none())}}function lV(e,t,n,r){return e instanceof lB?function(e,t,n,r){if(!lj(e.precondition,t))return n;let i=e.value.clone(),s=lW(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof l$?function(e,t,n,r){if(!lj(e.precondition,t))return n;let i=lW(e.fieldTransforms,r,t),s=t.data;return(s.setAll(lH(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n)?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):lj(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}function lz(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&aX(n,r,(e,t)=>{var n,r;return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof lI&&r instanceof lI||n instanceof lR&&r instanceof lR?aX(n.elements,r.elements,oA):n instanceof lD&&r instanceof lD?oA(n.Ie,r.Ie):n instanceof lC&&r instanceof lC)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class lB extends lU{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class l$ extends lU{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lH(e){let t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}}),t}function lq(e,t,n){var r;let i=new Map;e.length===n.length||aM();for(let s=0;s<n.length;s++){let a=e[s],o=a.transform,l=t.data.field(a.field);i.set(a.field,(r=n[s],o instanceof lI?lN(o,l):o instanceof lR?lA(o,l):r))}return i}function lW(e,t,n){let r=new Map;for(let i of e){let e=i.transform,s=n.data.field(i.field);r.set(i.field,e instanceof lC?function(e,t){let n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&oS(t)&&(t=ok(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(t,s):e instanceof lI?lN(e,s):e instanceof lR?lA(e,s):function(e,t){let n=lT(e,t),r=lP(n)+lP(e.Ie);return oM(n)&&oM(e.Ie)?lS(r):lx(e.serializer,r)}(e,s))}return r}class lK extends lU{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lG extends lU{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let i=this.mutations[t];if(i.key.isEqual(e.key)){var r;r=n[t],i instanceof lB?function(e,t,n){let r=e.value.clone(),i=lq(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(i,e,r):i instanceof l$?function(e,t,n){if(!lj(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=lq(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(lH(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(i,e,r):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,r)}}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=lV(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=lV(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=ly();return this.mutations.forEach(r=>{let i=e.get(r.key),s=i.overlayedDocument,a=this.applyToLocalView(s,i.mutatedFields),o=lF(s,a=t.has(r.key)?null:a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(aJ.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),l_())}isEqual(e){return this.batchId===e.batchId&&aX(this.mutations,e.mutations,(e,t)=>lz(e,t))&&aX(this.baseMutations,e.baseMutations,(e,t)=>lz(e,t))}}class lX{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){e.mutations.length===n.length||aM();let r=lw,i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new lX(e,t,n,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJ{constructor(e,t){this.count=e,this.unchangedNames=t}}function lZ(e){if(void 0===e)return aP("GRPC error has no .code"),aj.UNKNOWN;switch(e){case v.OK:return aj.OK;case v.CANCELLED:return aj.CANCELLED;case v.UNKNOWN:return aj.UNKNOWN;case v.DEADLINE_EXCEEDED:return aj.DEADLINE_EXCEEDED;case v.RESOURCE_EXHAUSTED:return aj.RESOURCE_EXHAUSTED;case v.INTERNAL:return aj.INTERNAL;case v.UNAVAILABLE:return aj.UNAVAILABLE;case v.UNAUTHENTICATED:return aj.UNAUTHENTICATED;case v.INVALID_ARGUMENT:return aj.INVALID_ARGUMENT;case v.NOT_FOUND:return aj.NOT_FOUND;case v.ALREADY_EXISTS:return aj.ALREADY_EXISTS;case v.PERMISSION_DENIED:return aj.PERMISSION_DENIED;case v.FAILED_PRECONDITION:return aj.FAILED_PRECONDITION;case v.ABORTED:return aj.ABORTED;case v.OUT_OF_RANGE:return aj.OUT_OF_RANGE;case v.UNIMPLEMENTED:return aj.UNIMPLEMENTED;case v.DATA_LOSS:return aj.DATA_LOSS;default:return aM()}}(y=v||(v={}))[y.OK=0]="OK",y[y.CANCELLED=1]="CANCELLED",y[y.UNKNOWN=2]="UNKNOWN",y[y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",y[y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",y[y.NOT_FOUND=5]="NOT_FOUND",y[y.ALREADY_EXISTS=6]="ALREADY_EXISTS",y[y.PERMISSION_DENIED=7]="PERMISSION_DENIED",y[y.UNAUTHENTICATED=16]="UNAUTHENTICATED",y[y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",y[y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",y[y.ABORTED=10]="ABORTED",y[y.OUT_OF_RANGE=11]="OUT_OF_RANGE",y[y.UNIMPLEMENTED=12]="UNIMPLEMENTED",y[y.INTERNAL=13]="INTERNAL",y[y.UNAVAILABLE=14]="UNAVAILABLE",y[y.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new aT([4294967295,4294967295],0);function l1(e){let t=(new TextEncoder).encode(e),n=new ak;return n.update(t),new Uint8Array(n.digest())}function l2(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new aT([n,r],0),new aT([i,s],0)]}class l4{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new l3(`Invalid padding: ${t}`);if(n<0||e.length>0&&0===this.hashCount)throw new l3(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new l3(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=aT.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(aT.fromNumber(n)));return 1===r.compare(l0)&&(r=new aT([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;let[t,n]=l2(l1(e));for(let e=0;e<this.hashCount;e++){let r=this.de(t,n,e);if(!this.Ae(r))return!1}return!0}static create(e,t,n){let r=new l4(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return n.forEach(e=>r.insert(e)),r}insert(e){if(0===this.Te)return;let[t,n]=l2(l1(e));for(let e=0;e<this.hashCount;e++){let r=this.de(t,n,e);this.Re(r)}}Re(e){this.bitmap[Math.floor(e/8)]|=1<<e%8}}class l3 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){let r=new Map;return r.set(e,l9.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new l6(aJ.min(),r,new od(aQ),lp,l_())}}class l9{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new l9(n,t,l_(),l_(),l_())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class l8{constructor(e,t){this.targetId=e,this.fe=t}}class l7{constructor(e,t,n=ow.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ue{constructor(){this.ge=0,this.pe=ur(),this.ye=ow.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=l_(),t=l_(),n=l_();return this.pe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:aM()}}),new l9(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=ur()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,this.ge>=0||aM()}Be(){this.Se=!0,this.we=!0}}class ut{constructor(e){this.Le=e,this.ke=new Map,this.qe=lp,this.Qe=un(),this.Ke=new od(aQ)}$e(e){for(let t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(let t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{let n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:aM()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((e,n)=>{this.je(n)&&t(n)})}Je(e){let t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){let i=r.target;if(ln(i)){if(0===n){let e=new a4(i.path);this.We(t,e,oH.newNoDocument(e,aJ.min()))}else 1===n||aM()}else{let r=this.Ze(t);if(r!==n){let n=this.Xe(e),i=n?this.et(n,e,r):1;0!==i&&(this.He(t),this.Ke=this.Ke.insert(t,2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){let t,n;let r=e.fe.unchangedNames;if(!r||!r.bits)return null;let{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=r;try{t=ox(i).toUint8Array()}catch(e){if(e instanceof oy)return aO("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{n=new l4(t,s,a)}catch(e){return aO(e instanceof l3?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===n.Te?null:n}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){let n=this.Le.getRemoteKeysForTarget(t),r=0;return n.forEach(n=>{let i=this.Le.nt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.We(t,n,null),r++)}),r}it(e){let t=new Map;this.ke.forEach((n,r)=>{let i=this.Ye(r);if(i){if(n.current&&ln(i.target)){let t=new a4(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,oH.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}});let n=l_();this.Qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{let t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.qe.forEach((t,n)=>n.setReadTime(e));let r=new l6(e,t,this.Ke,this.qe,n);return this.qe=lp,this.Qe=un(),this.Ke=new od(aQ),r}Ue(e,t){if(!this.je(e))return;let n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;let r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){let t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new ue,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new om(aQ),this.Qe=this.Qe.insert(e,t)),t}je(e){let t=null!==this.Ye(e);return t||aD("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){let t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ue),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function un(){return new od(a4.comparator)}function ur(){return new od(a4.comparator)}const ui={asc:"ASCENDING",desc:"DESCENDING"},us={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ua={and:"AND",or:"OR"};class uo{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ul(e,t){return e.useProto3Json||null==t?t:{value:t}}function uu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uh(e){return e||aM(),aJ.fromTimestamp(function(e){let t=o_(e);return new aY(t.seconds,t.nanos)}(e))}function ud(e,t){return uf(e,t).canonicalString()}function uf(e,t){let n=new a0(["projects",e.projectId,"databases",e.database]).child("documents");return void 0===t?n:n.child(t)}function up(e){let t=a0.fromString(e);return ux(t)||aM(),t}function um(e,t){return ud(e.databaseId,t.path)}function ug(e,t){let n=up(t);if(n.get(1)!==e.databaseId.projectId)throw new aU(aj.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new aU(aj.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new a4(uw(n))}function uv(e,t){return ud(e.databaseId,t)}function uy(e){return new a0(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uw(e){return e.length>4&&"documents"===e.get(4)||aM(),e.popFirst(5)}function ub(e,t,n){return{name:um(e,t),fields:n.value.mapValue.fields}}function u_(e){return{fieldPath:e.canonicalString()}}function uE(e){return a2.fromServerFormat(e.fieldPath)}function ux(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,t,n,r,i=aJ.min(),s=aJ.min(),a=ow.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new uS(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new uS(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uS(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uS(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.ct=e}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(oE(e.integerValue));else if("doubleValue"in e){let n=oE(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),ol(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At(`${n.seconds||""}`),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ox(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?oB(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):aM()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){let n=e.fields||{};for(let e of(this.Et(t,55),Object.keys(n)))this.Rt(e,t),this.It(n[e],t)}wt(e,t){let n=e.values||[];for(let e of(this.Et(t,50),n))this.It(e,t)}gt(e,t){this.Et(t,37),a4.fromName(e).path.forEach(e=>{this.Et(t,60),this.St(e,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}uT.bt=new uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this._n=new uI}addToCollectionParentIndex(e,t){return this._n.add(t),a5.resolve()}getCollectionParents(e,t){return a5.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return a5.resolve()}deleteFieldIndex(e,t){return a5.resolve()}deleteAllFieldIndexes(e){return a5.resolve()}createTargetIndexes(e,t){return a5.resolve()}getDocumentsMatchingTarget(e,t){return a5.resolve(null)}getIndexType(e,t){return a5.resolve(0)}getFieldIndexes(e,t){return a5.resolve([])}getNextCollectionGroupToUpdate(e){return a5.resolve(null)}getMinOffset(e,t){return a5.resolve(a3.min())}getMinOffsetFromCollectionGroup(e,t){return a5.resolve(a3.min())}updateCollectionGroup(e,t,n){return a5.resolve()}updateIndexEntries(e,t){return a5.resolve()}}class uI{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new om(a0.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new om(a0.comparator)).toArray()}}new Uint8Array(0);class uN{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new uN(e,uN.DEFAULT_COLLECTION_PERCENTILE,uN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uN.DEFAULT_COLLECTION_PERCENTILE=10,uN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uN.DEFAULT=new uN(41943040,uN.DEFAULT_COLLECTION_PERCENTILE,uN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uN.DISABLED=new uN(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new uR(0)}static Bn(){return new uR(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.changes=new lf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,oH.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return void 0!==n?a5.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&lV(n.mutation,e,ov.empty(),aY.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,l_()).next(()=>t))}getLocalViewOfDocuments(e,t,n=l_()){let r=ly();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=lg();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let n=ly();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,l_()))}populateOverlays(e,t,n){let r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=lp,s=ly(),a=ly();return t.forEach((e,t)=>{let a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof l$)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),lV(a.mutation,t,a.mutation.getFieldMask(),aY.now())):s.set(t.key,ov.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new uD(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){let n=ly(),r=new od((e,t)=>e-t),i=l_();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let s=t.get(e);if(null===s)return;let a=n.get(e)||ov.empty();a=i.applyToLocalView(s,a),n.set(e,a);let o=(r.get(i.batchId)||l_()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let r=a.getNext(),o=r.key,l=r.value,u=ly();l.forEach(e=>{if(!i.has(e)){let r=lF(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,u))}return a5.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return a4.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):null!==t.collectionGroup?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{let s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):a5.resolve(ly()),a=-1,o=i;return s.next(t=>a5.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?a5.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,l_())).next(e=>({batchId:a,changes:lv(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new a4(t)).next(e=>{let t=lg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,s=lg();return this.indexManager.getCollectionParents(e,i).next(a=>a5.forEach(a,a=>{let o=new lr(a.child(i),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{let r=n.getKey();null===e.get(r)&&(e=e.insert(r,oH.newInvalidDocument(r)))});let n=lg();return e.forEach((e,r)=>{let s=i.get(e);void 0!==s&&lV(s.mutation,r,ov.empty(),aY.now()),lh(t,r)&&(n=n.insert(e,r))}),n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return a5.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,{id:t.id,version:t.version,createTime:uh(t.createTime)}),a5.resolve()}getNamedQuery(e,t){return a5.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,{name:t.name,query:function(e){let t=function(e){var t;let n,r=function(e){let t=up(e);return 4===t.length?a0.emptyPath():uw(t)}(e.parent),i=e.structuredQuery,s=i.from?i.from.length:0,a=null;if(s>0){1===s||aM();let e=i.from[0];e.allDescendants?a=e.collectionId:r=r.child(e.collectionId)}let o=[];i.where&&(o=function(e){var t;let n=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=uE(e.unaryFilter.field);return oX.create(t,"==",{doubleValue:NaN});case"IS_NULL":let n=uE(e.unaryFilter.field);return oX.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=uE(e.unaryFilter.field);return oX.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=uE(e.unaryFilter.field);return oX.create(i,"!=",{nullValue:"NULL_VALUE"});default:return aM()}}(t):void 0!==t.fieldFilter?oX.create(uE(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return aM()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?oY.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return aM()}}(t.compositeFilter.op)):aM()}(e);return n instanceof oY&&oZ(t=n)&&oJ(t)?n.getFilters():[n]}(i.where));let l=[];i.orderBy&&(l=i.orderBy.map(e=>new oG(uE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let u=null;i.limit&&(u=null==(n="object"==typeof(t=i.limit)?t.value:t)?null:n);let c=null;i.startAt&&(c=function(e){let t=!!e.before;return new oq(e.values||[],t)}(i.startAt));let h=null;return i.endAt&&(h=function(e){let t=!e.before;return new oq(e.values||[],t)}(i.endAt)),new lr(r,a,l,o,u,"F",c,h)}({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lo(t,t.limit,"L"):t}(t.bundledQuery),readTime:uh(t.readTime)}),a5.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(){this.overlays=new od(a4.comparator),this.hr=new Map}getOverlay(e,t){return a5.resolve(this.overlays.get(t))}getOverlays(e,t){let n=ly();return a5.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),a5.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.hr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.hr.delete(n)),a5.resolve()}getOverlaysForCollection(e,t,n){let r=ly(),i=t.length+1,s=new a4(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return a5.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new od((e,t)=>e-t),s=this.overlays.getIterator();for(;s.hasNext();){let e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ly(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let a=ly(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return a5.resolve(a)}ht(e,t,n){let r=this.overlays.get(n.key);if(null!==r){let e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new lY(t,n));let i=this.hr.get(t);void 0===i&&(i=l_(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.Pr=new om(uj.Ir),this.Tr=new om(uj.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){let n=new uj(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Ar(new uj(e,t))}Rr(e,t){e.forEach(e=>this.removeReference(e,t))}Vr(e){let t=new a4(new a0([])),n=new uj(t,e),r=new uj(t,e+1),i=[];return this.Tr.forEachInRange([n,r],e=>{this.Ar(e),i.push(e.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let t=new a4(new a0([])),n=new uj(t,e),r=new uj(t,e+1),i=l_();return this.Tr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new uj(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class uj{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return a4.comparator(e.key,t.key)||aQ(e.pr,t.pr)}static Er(e,t){return aQ(e.pr,t.pr)||a4.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new om(uj.Ir)}checkEmpty(e){return a5.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){let i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new lQ(i,t,n,r);for(let t of(this.mutationQueue.push(s),r))this.wr=this.wr.add(new uj(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return a5.resolve(s)}lookupMutationBatch(e,t){return a5.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){let n=this.br(t+1),r=n<0?0:n;return a5.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return a5.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return a5.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new uj(t,0),r=new uj(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],e=>{let t=this.Sr(e.pr);i.push(t)}),a5.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new om(aQ);return t.forEach(e=>{let t=new uj(e,0),r=new uj(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],e=>{n=n.add(e.pr)})}),a5.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;a4.isDocumentKey(i)||(i=i.child(""));let s=new uj(new a4(i),0),a=new om(aQ);return this.wr.forEachWhile(e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)},s),a5.resolve(this.Dr(a))}Dr(e){let t=[];return e.forEach(e=>{let n=this.Sr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){0===this.Cr(t.batchId,"removed")||aM(),this.mutationQueue.shift();let n=this.wr;return a5.forEach(t.mutations,r=>{let i=new uj(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=n})}Mn(e){}containsKey(e,t){let n=new uj(t,0),r=this.wr.firstAfterOrEqual(n);return a5.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,a5.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){let t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this.vr=e,this.docs=new od(a4.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return a5.resolve(n?n.document.mutableCopy():oH.newInvalidDocument(t))}getEntries(e,t){let n=lp;return t.forEach(e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():oH.newInvalidDocument(e))}),a5.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=lp,s=t.path,a=new a4(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){let{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||0>=function(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=a4.comparator(e.documentKey,t.documentKey))?n:aQ(e.largestBatchId,t.largestBatchId)}(new a3(a.readTime,a.key,-1),n)||(r.has(a.key)||lh(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return a5.resolve(i)}getAllFromCollectionGroup(e,t,n,r){aM()}Fr(e,t){return a5.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new uV(this)}getSize(e){return a5.resolve(this.size)}}class uV extends uA{constructor(e){super(),this.ar=e}applyChanges(e){let t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)}),a5.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e){this.persistence=e,this.Mr=new lf(e=>le(e),lt),this.lastRemoteSnapshotVersion=aJ.min(),this.highestTargetId=0,this.Or=0,this.Nr=new uM,this.targetCount=0,this.Br=uR.Nn()}forEachTarget(e,t){return this.Mr.forEach((e,n)=>t(n)),a5.resolve()}getLastRemoteSnapshotVersion(e){return a5.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return a5.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),a5.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),a5.resolve()}qn(e){this.Mr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Br=new uR(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,a5.resolve()}updateTargetData(e,t){return this.qn(t),a5.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,a5.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),a5.waitFor(i).next(()=>r)}getTargetCount(e){return a5.resolve(this.targetCount)}getTargetData(e,t){let n=this.Mr.get(t)||null;return a5.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),a5.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),a5.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),a5.resolve()}getMatchingKeysForTargetId(e,t){let n=this.Nr.gr(t);return a5.resolve(n)}containsKey(e,t){return a5.resolve(this.Nr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,t){this.Lr={},this.overlays={},this.kr=new oo(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new uz(this),this.indexManager=new uC,this.remoteDocumentCache=new uF(e=>this.referenceDelegate.Kr(e)),this.serializer=new uk(t),this.$r=new uO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new uU(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){aD("MemoryPersistence","Starting transaction:",e);let r=new u$(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(e=>this.referenceDelegate.Wr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gr(e,t){return a5.or(Object.values(this.Lr).map(n=>()=>n.containsKey(e,t)))}}class u$ extends a6{constructor(e){super(),this.currentSequenceNumber=e}}class uH{constructor(e){this.persistence=e,this.zr=new uM,this.jr=null}static Hr(e){return new uH(e)}get Jr(){if(this.jr)return this.jr;throw aM()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),a5.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),a5.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),a5.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(e=>this.Jr.add(e.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Jr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return a5.forEach(this.Jr,n=>{let r=a4.fromPath(n);return this.Yr(e,r).next(e=>{e||t.removeEntry(r,aJ.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return a5.or([()=>a5.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=l_(),r=l_();for(let e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new uq(e,t.fromCache,n,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=!function(){var e;let t=null===(e=tF())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(_.process)}catch(e){return!1}}()&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?8:a7.v(tW())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.ji(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Hi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let n=new uW;return this.Ji(e,t,n).next(r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)})}).next(()=>i.result)}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(aA()<=n5.DEBUG&&aD("QueryEngine","SDK will not create cache indexes for query:",lc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),a5.resolve()):(aA()<=n5.DEBUG&&aD("QueryEngine","Query:",lc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(aA()<=n5.DEBUG&&aD("QueryEngine","The SDK decides to create cache indexes for query:",lc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,la(t))):a5.resolve())}ji(e,t){if(li(t))return a5.resolve(null);let n=la(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(n=la(t=lo(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{let i=l_(...r);return this.zi.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{let s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,lo(t,null,"F")):this.es(e,s,t,n)}))})))}Hi(e,t,n,r){return li(t)||r.isEqual(aJ.min())?a5.resolve(null):this.zi.getDocuments(e,n).next(i=>{let s=this.Zi(t,i);return this.Xi(t,s,n,r)?a5.resolve(null):(aA()<=n5.DEBUG&&aD("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lc(t)),this.es(e,s,t,function(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new a3(aJ.fromTimestamp(1e9===r?new aY(n+1,0):new aY(n,r)),a4.empty(),-1)}(r,0)).next(e=>e))})}Zi(e,t){let n=new om(ld(e));return t.forEach((t,r)=>{lh(e,r)&&(n=n.add(r))}),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return aA()<=n5.DEBUG&&aD("QueryEngine","Using full collection scan to execute query:",lc(t)),this.zi.getDocumentsMatchingQuery(e,t,a3.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new od(aQ),this.rs=new lf(e=>le(e),lt),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uP(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}async function uQ(e,t){return await e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,e._s(t),e.mutationQueue.getAllMutationBatches(n))).next(t=>{let i=[],s=[],a=l_();for(let e of r)for(let t of(i.push(e.batchId),e.mutations))a=a.add(t.key);for(let e of t)for(let t of(s.push(e.batchId),e.mutations))a=a.add(t.key);return e.localDocuments.getDocuments(n,a).next(e=>({us:e,removedBatchIds:i,addedBatchIds:s}))})})}function uX(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}async function uY(e,t,n){let r=e.ns.get(t);try{n||await e.persistence.runTransaction("Release target",n?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,r))}catch(e){if(!on(e))throw e;aD("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}e.ns=e.ns.remove(t),e.rs.delete(r.target)}function uJ(e,t,n){let r=aJ.min(),i=l_();return e.persistence.runTransaction("Execute query","readwrite",s=>(function(e,t,n){let r=e.rs.get(n);return void 0!==r?a5.resolve(e.ns.get(r)):e.Qr.getTargetData(t,n)})(e,s,la(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,e.Qr.getMatchingKeysForTargetId(s,t.targetId).next(e=>{i=e})}).next(()=>e.ts.getDocumentsMatchingQuery(s,t,n?r:aJ.min(),n?i:l_())).next(n=>{var r;let s;return r=t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2)),s=e.ss.get(r)||aJ.min(),n.forEach((e,t)=>{t.readTime.compareTo(s)>0&&(s=t.readTime)}),e.ss.set(r,s),{documents:n,hs:i}}))}class uZ{constructor(){this.activeTargetIds=lE}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class u0{constructor(){this.no=new uZ,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new uZ,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){for(let e of(aD("ConnectivityMonitor","Network connectivity changed: AVAILABLE"),this.uo))e(0)}ao(){for(let e of(aD("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE"),this.uo))e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u4=null;function u3(){return null===u4?u4=268435456+Math.round(2147483648*Math.random()):u4++,"0x"+u4.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="WebChannelConnection";class u8 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po=`projects/${n}/databases/${r}`,this.yo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get wo(){return!1}So(e,t,n,r,i){let s=u3(),a=this.bo(e,t.toUriEncodedString());aD("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);let o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,r,i),this.Co(e,a,o,n).then(t=>(aD("RestConnection",`Received RPC '${e}' ${s}: `,t),t),t=>{throw aO("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aN}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}bo(e,t){let n=u6[e];return`${this.fo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){let i=u3();return new Promise((s,a)=>{let o=new aS;o.setWithCredentials(!0),o.listenOnce(ab.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case aw.NO_ERROR:let t=o.getResponseJson();aD(u5,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case aw.TIMEOUT:aD(u5,`RPC '${e}' ${i} timed out`),a(new aU(aj.DEADLINE_EXCEEDED,"Request time out"));break;case aw.HTTP_ERROR:let n=o.getStatus();if(aD(u5,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=null==e?void 0:e.error;if(t&&t.status&&t.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,"-");return Object.values(aj).indexOf(t)>=0?t:aj.UNKNOWN}(t.status);a(new aU(e,t.message))}else a(new aU(aj.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new aU(aj.UNAVAILABLE,"Connection failed."));break;default:aM()}}finally{aD(u5,`RPC '${e}' ${i} completed.`)}});let l=JSON.stringify(r);aD(u5,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}Fo(e,t,n){let r=u3(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=av(),a=ay(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;let u=i.join("");aD(u5,`Creating RPC '${e}' stream ${r}: ${u}`,o);let c=s.createWebChannel(u,o),h=!1,d=!1,f=new u9({lo:t=>{d?aD(u5,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(aD(u5,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),aD(u5,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},ho:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,ax.EventType.OPEN,()=>{d||aD(u5,`RPC '${e}' stream ${r} transport opened.`)}),p(c,ax.EventType.CLOSE,()=>{d||(d=!0,aD(u5,`RPC '${e}' stream ${r} transport closed`),f.Vo())}),p(c,ax.EventType.ERROR,t=>{d||(d=!0,aO(u5,`RPC '${e}' stream ${r} transport errored:`,t),f.Vo(new aU(aj.UNAVAILABLE,"The operation could not be completed")))}),p(c,ax.EventType.MESSAGE,t=>{var n;if(!d){let i=t.data[0];i||aM();let s=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){aD(u5,`RPC '${e}' stream ${r} received error:`,s);let t=s.status,n=function(e){let t=v[e];if(void 0!==t)return lZ(t)}(t),i=s.message;void 0===n&&(n=aj.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Vo(new aU(n,i)),c.close()}else aD(u5,`RPC '${e}' stream ${r} received:`,i),f.mo(i)}}),p(a,a_.STAT_EVENT,t=>{t.stat===aE.PROXY?aD(u5,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===aE.NOPROXY&&aD(u5,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.Ro()},0),f}}function u7(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(e){return new uo(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t,n=1e3,r=1.5,i=6e4){this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&aD("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,n,r,i,s,a,o){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new ct(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===aj.RESOURCE_EXHAUSTED?(aP(t.toString()),aP("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===aj.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Wo===t&&this.o_(e,n)},t=>{e(()=>{let e=new aU(aj.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)})})}o_(e,t){let n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po(()=>{n(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(e=>{n(()=>this.__(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return aD("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget(()=>this.Wo===e?t():(aD("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cr extends cn{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();let t=function(e,t){let n;if("targetChange"in t){var r,i;t.targetChange;let s="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:aM(),a=t.targetChange.targetIds||[],o=(i=t.targetChange.resumeToken,e.useProto3Json?(void 0===i||"string"==typeof i||aM(),ow.fromBase64String(i||"")):(void 0===i||i instanceof Uint8Array||aM(),ow.fromUint8Array(i||new Uint8Array))),l=t.targetChange.cause;n=new l7(s,a,o,l&&new aU(void 0===l.code?aj.UNKNOWN:lZ(l.code),l.message||"")||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=ug(e,r.document.name),s=uh(r.document.updateTime),a=r.document.createTime?uh(r.document.createTime):aJ.min(),o=new o$({mapValue:{fields:r.document.fields}}),l=oH.newFoundDocument(i,s,a,o);n=new l5(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=ug(e,r.document),s=r.readTime?uh(r.readTime):aJ.min(),a=oH.newNoDocument(i,s);n=new l5([],r.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=ug(e,r.document);n=new l5([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return aM();{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,s=new lJ(r,i);n=new l8(e.targetId,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return aJ.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?aJ.min():t.readTime?uh(t.readTime):aJ.min()}(e);return this.listener.u_(t,n)}c_(e){let t={};t.database=uy(this.serializer),t.addTarget=function(e,t){let n;let r=t.target;if((n=ln(r)?{documents:{documents:[uv(e,r.path)]}}:{query:function(e,t){var n,r;let i;let s={structuredQuery:{}},a=t.path;null!==t.collectionGroup?(i=a,s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=uv(e,i);let o=function(e){if(0!==e.length)return function e(t){return t instanceof oX?function(e){if("=="===e.op){if(oF(e.value))return{unaryFilter:{field:u_(e.field),op:"IS_NAN"}};if(oU(e.value))return{unaryFilter:{field:u_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(oF(e.value))return{unaryFilter:{field:u_(e.field),op:"IS_NOT_NAN"}};if(oU(e.value))return{unaryFilter:{field:u_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:u_(e.field),op:us[e.op],value:e.value}}}(t):t instanceof oY?function(t){let n=t.getFilters().map(t=>e(t));return 1===n.length?n[0]:{compositeFilter:{op:ua[t.op],filters:n}}}(t):aM()}(oY.create(e,"and"))}(t.filters);o&&(s.structuredQuery.where=o);let l=function(e){if(0!==e.length)return e.map(e=>({field:u_(e.field),direction:ui[e.dir]}))}(t.orderBy);l&&(s.structuredQuery.orderBy=l);let u=ul(e,t.limit);return null!==u&&(s.structuredQuery.limit=u),t.startAt&&(s.structuredQuery.startAt={before:(n=t.startAt).inclusive,values:n.position}),t.endAt&&(s.structuredQuery.endAt={before:!(r=t.endAt).inclusive,values:r.position}),{ut:s,parent:i}}(e,r).ut}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=uc(e,t.resumeToken);let r=ul(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(aJ.min())>0){n.readTime=uu(e,t.snapshotVersion.toTimestamp());let r=ul(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);let n=function(e,t){let n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return aM()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){let t={};t.database=uy(this.serializer),t.removeTarget=e,this.t_(t)}}class ci extends cn{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){var t,n;if(e.streamToken||aM(),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let r=(t=e.writeResults,n=e.commitTime,t&&t.length>0?(void 0!==n||aM(),t.map(e=>{let t;return(t=e.updateTime?uh(e.updateTime):uh(n)).isEqual(aJ.min())&&(t=uh(n)),new lL(t,e.transformResults||[])})):[]),i=uh(e.commitTime);return this.listener.T_(i,r)}return e.writeResults&&0!==e.writeResults.length&&aM(),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=uy(this.serializer),this.t_(e)}I_(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>(function(e,t){var n;let r;if(t instanceof lB)r={update:ub(e,t.key,t.value)};else if(t instanceof lK)r={delete:um(e,t.key)};else if(t instanceof l$)r={update:ub(e,t.key,t.data),updateMask:function(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof lG))return aM();r={verify:um(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let n=t.transform;if(n instanceof lC)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lI)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lR)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lD)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw aM()})(0,e))),t.precondition.isNone||(r.currentDocument=void 0!==(n=t.precondition).updateTime?{updateTime:uu(e,n.updateTime.toTimestamp())}:void 0!==n.exists?{exists:n.exists}:aM()),r})(this.serializer,e))};this.t_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new aU(aj.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,uf(t,n),r,i,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===aj.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new aU(aj.UNKNOWN,e.toString())})}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,uf(t,n),r,s,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===aj.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new aU(aj.UNKNOWN,e.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class ca{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(aP(t),this.g_=!1):aD("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(e=>{n.enqueueAndForget(async()=>{cg(this)&&(aD("RemoteStore","Restarting streams for network reachability change."),await async function(e){e.v_.add(4),await cu(e),e.x_.set("Unknown"),e.v_.delete(4),await cl(e)}(this))})}),this.x_=new ca(n,r)}}async function cl(e){if(cg(e))for(let t of e.F_)await t(!0)}async function cu(e){for(let t of e.F_)await t(!1)}function cc(e,t){e.C_.has(t.targetId)||(e.C_.set(t.targetId,t),cm(e)?cp(e):cA(e).Jo()&&cd(e,t))}function ch(e,t){let n=cA(e);e.C_.delete(t),n.Jo()&&cf(e,t),0===e.C_.size&&(n.Jo()?n.Xo():cg(e)&&e.x_.set("Unknown"))}function cd(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(aJ.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}cA(e).c_(t)}function cf(e,t){e.O_.Oe(t),cA(e).l_(t)}function cp(e){e.O_=new ut({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),cA(e).start(),e.x_.p_()}function cm(e){return cg(e)&&!cA(e).Ho()&&e.C_.size>0}function cg(e){return 0===e.v_.size}async function cv(e){e.C_.forEach((t,n)=>{cd(e,t)})}async function cy(e,t){e.O_=void 0,cm(e)?(e.x_.S_(t),cp(e)):e.x_.set("Unknown")}async function cw(e,t,n){if(e.x_.set("Online"),t instanceof l7&&2===t.state&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){aD("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await cb(e,n)}else if(t instanceof l5?e.O_.$e(t):t instanceof l8?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(aJ.min()))try{let t=await uX(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.O_.it(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{let r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(ow.EMPTY_BYTE_STRING,r.snapshotVersion)),cf(e,t);let i=new uS(r.target,t,n,r.sequenceNumber);cd(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){aD("RemoteStore","Failed to raise snapshot:",t),await cb(e,t)}}async function cb(e,t,n){if(!on(t))throw t;e.v_.add(1),await cu(e),e.x_.set("Offline"),n||(n=()=>uX(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{aD("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await cl(e)})}function c_(e,t){return t().catch(n=>cb(e,n,t))}async function cE(e){let t=cD(e),n=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;cg(e)&&e.D_.length<10;)try{let r=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}(e.localStore,n);if(null===r){0===e.D_.length&&t.Xo();break}n=r.batchId,function(e,t){e.D_.push(t);let n=cD(e);n.Jo()&&n.P_&&n.I_(t.mutations)}(e,r)}catch(t){await cb(e,t)}cx(e)&&cS(e)}function cx(e){return cg(e)&&!cD(e).Ho()&&e.D_.length>0}function cS(e){cD(e).start()}async function ck(e){cD(e).d_()}async function cT(e){let t=cD(e);for(let n of e.D_)t.I_(n.mutations)}async function cC(e,t,n){let r=e.D_.shift(),i=lX.from(r,t,n);await c_(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await cE(e)}async function cI(e,t){t&&cD(e).P_&&await async function(e,t){var n;if(function(e){switch(e){default:return aM();case aj.CANCELLED:case aj.UNKNOWN:case aj.DEADLINE_EXCEEDED:case aj.RESOURCE_EXHAUSTED:case aj.INTERNAL:case aj.UNAVAILABLE:case aj.UNAUTHENTICATED:return!1;case aj.INVALID_ARGUMENT:case aj.NOT_FOUND:case aj.ALREADY_EXISTS:case aj.PERMISSION_DENIED:case aj.FAILED_PRECONDITION:case aj.ABORTED:case aj.OUT_OF_RANGE:case aj.UNIMPLEMENTED:case aj.DATA_LOSS:return!0}}(n=t.code)&&n!==aj.ABORTED){let n=e.D_.shift();cD(e).Zo(),await c_(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await cE(e)}}(e,t),cx(e)&&cS(e)}async function cN(e,t){e.asyncQueue.verifyOperationInProgress(),aD("RemoteStore","RemoteStore received new credentials");let n=cg(e);e.v_.add(3),await cu(e),n&&e.x_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.v_.delete(3),await cl(e)}async function cR(e,t){t?(e.v_.delete(2),await cl(e)):t||(e.v_.add(2),await cu(e),e.x_.set("Unknown"))}function cA(e){var t,n,r;return e.N_||(e.N_=(t=e.datastore,n=e.asyncQueue,r={Po:cv.bind(null,e),To:cy.bind(null,e),u_:cw.bind(null,e)},t.R_(),new cr(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r)),e.F_.push(async t=>{t?(e.N_.Zo(),cm(e)?cp(e):e.x_.set("Unknown")):(await e.N_.stop(),e.O_=void 0)})),e.N_}function cD(e){var t,n,r;return e.B_||(e.B_=(t=e.datastore,n=e.asyncQueue,r={Po:ck.bind(null,e),To:cI.bind(null,e),E_:cT.bind(null,e),T_:cC.bind(null,e)},t.R_(),new ci(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r)),e.F_.push(async t=>{t?(e.B_.Zo(),await cE(e)):(await e.B_.stop(),e.D_.length>0&&(aD("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new aF,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){let s=new cP(e,t,Date.now()+n,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new aU(aj.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cO(e,t){if(aP("AsyncQueue",`${t}: ${e}`),on(e))return new aU(aj.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.comparator=e?(t,n)=>e(t,n)||a4.comparator(t.key,n.key):(e,t)=>a4.comparator(e.key,t.key),this.keyedMap=lg(),this.sortedSet=new od(this.comparator)}static emptySet(e){return new cL(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cL)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let n=new cL;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.L_=new od(a4.comparator)}track(e){let t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):aM():this.L_=this.L_.insert(t,e)}k_(){let e=[];return this.L_.inorderTraversal((t,n)=>{e.push(n)}),e}}class cj{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){let s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new cj(e,t,cL.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ll(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(){this.q_=void 0,this.Q_=[]}}class cF{constructor(){this.queries=new lf(e=>lu(e),ll),this.onlineState="Unknown",this.K_=new Set}}async function cV(e,t){let n=t.query,r=!1,i=e.queries.get(n);if(i||(r=!0,i=new cU),r)try{i.q_=await e.onListen(n)}catch(n){let e=cO(n,`Initialization of query '${lc(t.query)}' failed`);return void t.onError(e)}e.queries.set(n,i),i.Q_.push(t),t.U_(e.onlineState),i.q_&&t.W_(i.q_)&&cH(e)}async function cz(e,t){let n=t.query,r=!1,i=e.queries.get(n);if(i){let e=i.Q_.indexOf(t);e>=0&&(i.Q_.splice(e,1),r=0===i.Q_.length)}if(r)return e.queries.delete(n),e.onUnlisten(n)}function cB(e,t){let n=!1;for(let r of t){let t=r.query,i=e.queries.get(t);if(i){for(let e of i.Q_)e.W_(r)&&(n=!0);i.q_=r}}n&&cH(e)}function c$(e,t,n){let r=e.queries.get(t);if(r)for(let e of r.Q_)e.onError(n);e.queries.delete(t)}function cH(e){e.K_.forEach(e=>{e.next()})}class cq{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)3!==n.type&&t.push(n);e=new cj(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){return!e.fromCache||(!this.options.Z_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;let t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=cj.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e){this.key=e}}class cK{constructor(e){this.key=e}}class cG{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=l_(),this.mutatedKeys=l_(),this.ua=ld(e),this.ca=new cL(this.ua)}get la(){return this.oa}ha(e,t){let n=t?t.Pa:new cM,r=t?t.ca:this.ca,i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{let u=r.get(e),c=lh(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Ia(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.ua(c,o)>0||l&&0>this.ua(c,l))&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){let e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:a,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let s=e.Pa.k_();s.sort((e,t)=>(function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return aM()}};return n(e)-n(t)})(e.type,t.type)||this.ua(e.doc,t.doc)),this.Ta(n),r=null!=r&&r;let a=t&&!r?this.Ea():[],o=0===this.aa.size&&this.current&&!r?1:0,l=o!==this._a;return(this._a=o,0!==s.length||l)?{snapshot:new cj(this.query,e.ca,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new cM,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(e=>this.oa=this.oa.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.oa=this.oa.delete(e)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=l_(),this.ca.forEach(e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))});let t=[];return e.forEach(e=>{this.aa.has(e)||t.push(new cK(e))}),this.aa.forEach(n=>{e.has(n)||t.push(new cW(n))}),t}Ra(e){this.oa=e.hs,this.aa=l_();let t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return cj.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class cQ{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class cX{constructor(e){this.key=e,this.ma=!1}}class cY{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new lf(e=>lu(e),ll),this.pa=new Map,this.ya=new Set,this.wa=new od(a4.comparator),this.Sa=new Map,this.ba=new uM,this.Da={},this.Ca=new Map,this.va=uR.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function cJ(e,t){var n,r;let i,s;let a=(e.remoteStore.remoteSyncer.applyRemoteEvent=c2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hs.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c3.bind(null,e),e.fa.u_=cB.bind(null,e.eventManager),e.fa.xa=c$.bind(null,e.eventManager),e),o=a.ga.get(t);if(o)i=o.targetId,a.sharedClientState.addLocalQueryTarget(i),s=o.view.Va();else{let e=await (n=a.localStore,r=la(t),n.persistence.runTransaction("Allocate target","readwrite",e=>{let t;return n.Qr.getTargetData(e,r).next(i=>i?(t=i,a5.resolve(t)):n.Qr.allocateTargetId(e).next(i=>(t=new uS(r,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,t).next(()=>t))))}).then(e=>{let t=n.ns.get(e.targetId);return(null===t||e.snapshotVersion.compareTo(t.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(r,e.targetId)),e})),o=a.sharedClientState.addLocalQueryTarget(e.targetId);i=e.targetId,s=await cZ(a,t,i,"current"===o,e.resumeToken),a.isPrimaryClient&&cc(a.remoteStore,e)}return s}async function cZ(e,t,n,r,i){e.Ma=(t,n,r)=>(async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await uJ(e.localStore,t.query,!1).then(({documents:e})=>t.view.ha(e,i)));let s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return ht(e,t.targetId,o.da),o.snapshot})(e,t,n,r);let s=await uJ(e.localStore,t,!0),a=new cG(t,s.hs),o=a.ha(s.documents),l=l9.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(o,e.isPrimaryClient,l);ht(e,n,u.da);let c=new cQ(t,n,a);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),u.snapshot}async function c0(e,t){let n=e.ga.get(t),r=e.pa.get(n.targetId);if(r.length>1)return e.pa.set(n.targetId,r.filter(e=>!ll(e,t))),void e.ga.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)||await uY(e.localStore,n.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(n.targetId),ch(e.remoteStore,n.targetId),c7(e,n.targetId)}).catch(a9)):(c7(e,n.targetId),await uY(e.localStore,n.targetId,!0))}async function c1(e,t,n){var r;let i=(e.remoteStore.remoteSyncer.applySuccessfulWrite=c6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c9.bind(null,e),e);try{let e;let s=await function(e,t){let n,r;let i=aY.now(),s=t.reduce((e,t)=>e.add(t.key),l_());return e.persistence.runTransaction("Locally write mutations","readwrite",a=>{let o=lp,l=l_();return e.os.getEntries(a,s).next(e=>{(o=e).forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>e.localDocuments.getOverlayedDocuments(a,o)).next(r=>{n=r;let s=[];for(let e of t){let t=function(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=lT(r.transform,e||null);null!=i&&(null===n&&(n=o$.empty()),n.set(r.field,i))}return n||null}(e,n.get(e.key).overlayedDocument);null!=t&&s.push(new l$(e.key,t,function e(t){let n=[];return oc(t.fields,(t,r)=>{let i=new a2([t]);if(oV(r)){let t=e(r.mapValue).fields;if(0===t.length)n.push(i);else for(let e of t)n.push(i.child(e))}else n.push(i)}),new ov(n)}(t.value.mapValue),lM.exists(!0)))}return e.mutationQueue.addMutationBatch(a,i,s,t)}).next(t=>{r=t;let i=t.applyToLocalDocumentSet(n,l);return e.documentOverlayCache.saveOverlays(a,t.batchId,i)})}).then(()=>({batchId:r.batchId,changes:lv(n)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),r=s.batchId,(e=i.Da[i.currentUser.toKey()])||(e=new od(aQ)),e=e.insert(r,n),i.Da[i.currentUser.toKey()]=e,await hr(i,s.changes),await cE(i.remoteStore)}catch(t){let e=cO(t,"Failed to persist write");n.reject(e)}}async function c2(e,t){try{let n=await function(e,t){let n=t.snapshotVersion,r=e.ns;return e.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{var s;let a,o;let l=e.os.newChangeBuffer({trackRemovals:!0});r=e.ns;let u=[];t.targetChanges.forEach((s,a)=>{var o;let l=r.get(a);if(!l)return;u.push(e.Qr.removeMatchingKeys(i,s.removedDocuments,a).next(()=>e.Qr.addMatchingKeys(i,s.addedDocuments,a)));let c=l.withSequenceNumber(i.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(ow.EMPTY_BYTE_STRING,aJ.min()).withLastLimboFreeSnapshotVersion(aJ.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,n)),r=r.insert(a,c),o=c,(0===l.resumeToken.approximateByteSize()||o.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size>0)&&u.push(e.Qr.updateTargetData(i,c))});let c=lp,h=l_();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(i,n))}),u.push((s=t.documentUpdates,a=l_(),o=l_(),s.forEach(e=>a=a.add(e)),l.getEntries(i,a).next(e=>{let t=lp;return s.forEach((n,r)=>{let i=e.get(n);r.isFoundDocument()!==i.isFoundDocument()&&(o=o.add(n)),r.isNoDocument()&&r.version.isEqual(aJ.min())?(l.removeEntry(n,r.readTime),t=t.insert(n,r)):!i.isValidDocument()||r.version.compareTo(i.version)>0||0===r.version.compareTo(i.version)&&i.hasPendingWrites?(l.addEntry(r),t=t.insert(n,r)):aD("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",r.version)}),{cs:t,ls:o}})).next(e=>{c=e.cs,h=e.ls})),!n.isEqual(aJ.min())){let t=e.Qr.getLastRemoteSnapshotVersion(i).next(t=>e.Qr.setTargetsMetadata(i,i.currentSequenceNumber,n));u.push(t)}return a5.waitFor(u).next(()=>l.apply(i)).next(()=>e.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(t=>(e.ns=r,t))}(e.localStore,t);t.targetChanges.forEach((t,n)=>{let r=e.Sa.get(n);r&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||aM(),t.addedDocuments.size>0?r.ma=!0:t.modifiedDocuments.size>0?r.ma||aM():t.removedDocuments.size>0&&(r.ma||aM(),r.ma=!1))}),await hr(e,n,t)}catch(e){await a9(e)}}function c4(e,t,n){var r;if(e.isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n){let n;let i=[];e.ga.forEach((e,n)=>{let r=n.view.U_(t);r.snapshot&&i.push(r.snapshot)}),(r=e.eventManager).onlineState=t,n=!1,r.queries.forEach((e,r)=>{for(let e of r.Q_)e.U_(t)&&(n=!0)}),n&&cH(r),i.length&&e.fa.u_(i),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function c3(e,t,n){e.sharedClientState.updateQueryState(t,"rejected",n);let r=e.Sa.get(t),i=r&&r.key;if(i){let n=new od(a4.comparator);n=n.insert(i,oH.newNoDocument(i,aJ.min()));let r=l_().add(i),s=new l6(aJ.min(),new Map,new od(aQ),n,r);await c2(e,s),e.wa=e.wa.remove(i),e.Sa.delete(t),hn(e)}else await uY(e.localStore,t,!1).then(()=>c7(e,t,n)).catch(a9)}async function c6(e,t){var n;let r=t.batch.batchId;try{let i=await (n=e.localStore).persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return(function(e,t,n,r){let i=n.batch,s=i.keys(),a=a5.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{let s=n.docVersions.get(e);null!==s||aM(),0>t.version.compareTo(s)&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))})(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=l_();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))});c8(e,r,null),c5(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await hr(e,i)}catch(e){await a9(e)}}async function c9(e,t,n){var r;try{let i=await (r=e.localStore).persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(null!==t||aM(),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))});c8(e,t,n),c5(e,t),e.sharedClientState.updateMutationState(t,"rejected",n),await hr(e,i)}catch(e){await a9(e)}}function c5(e,t){(e.Ca.get(t)||[]).forEach(e=>{e.resolve()}),e.Ca.delete(t)}function c8(e,t,n){let r=e.Da[e.currentUser.toKey()];if(r){let i=r.get(t);i&&(n?i.reject(n):i.resolve(),r=r.remove(t)),e.Da[e.currentUser.toKey()]=r}}function c7(e,t,n=null){for(let r of(e.sharedClientState.removeLocalQueryTarget(t),e.pa.get(t)))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach(t=>{e.ba.containsKey(t)||he(e,t)})}function he(e,t){e.ya.delete(t.path.canonicalString());let n=e.wa.get(t);null!==n&&(ch(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),hn(e))}function ht(e,t,n){for(let r of n)r instanceof cW?(e.ba.addReference(r.key,t),function(e,t){let n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(aD("SyncEngine","New document in limbo: "+n),e.ya.add(r),hn(e))}(e,r)):r instanceof cK?(aD("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||he(e,r.key)):aM()}function hn(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){let t=e.ya.values().next().value;e.ya.delete(t);let n=new a4(a0.fromString(t)),r=e.va.next();e.Sa.set(r,new cX(n)),e.wa=e.wa.insert(n,r),cc(e.remoteStore,new uS(la(new lr(n.path)),r,"TargetPurposeLimboResolution",oo._e))}}async function hr(e,t,n){let r=[],i=[],s=[];e.ga.isEmpty()||(e.ga.forEach((a,o)=>{s.push(e.Ma(o,t,n).then(t=>{if((t||n)&&e.isPrimaryClient&&e.sharedClientState.updateQueryState(o.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);let e=uq.Ki(o.targetId,t);i.push(e)}}))}),await Promise.all(s),e.fa.u_(r),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>a5.forEach(t,t=>a5.forEach(t.qi,r=>e.persistence.referenceDelegate.addReference(n,t.targetId,r)).next(()=>a5.forEach(t.Qi,r=>e.persistence.referenceDelegate.removeReference(n,t.targetId,r)))))}catch(e){if(!on(e))throw e;aD("LocalStore","Failed to update sequence numbers: "+e)}for(let n of t){let t=n.targetId;if(!n.fromCache){let n=e.ns.get(t),r=n.snapshotVersion,i=n.withLastLimboFreeSnapshotVersion(r);e.ns=e.ns.insert(t,i)}}}(e.localStore,i))}async function hi(e,t){var n;if(!e.currentUser.isEqual(t)){aD("SyncEngine","User change. New user:",t.toKey());let r=await uQ(e.localStore,t);e.currentUser=t,n="'waitForPendingWrites' promise is rejected due to a user change.",e.Ca.forEach(e=>{e.forEach(e=>{e.reject(new aU(aj.CANCELLED,n))})}),e.Ca.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await hr(e,r.us)}}function hs(e,t){let n=e.Sa.get(t);if(n&&n.ma)return l_().add(n.key);{let n=l_(),r=e.pa.get(t);if(!r)return n;for(let t of r){let r=e.ga.get(t);n=n.unionWith(r.view.la)}return n}}class ha{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ce(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){var t;return t=this.persistence,new uG(t,new uK,e.initialUser,this.serializer)}createPersistence(e){return new uB(uH.Hr,this.serializer)}createSharedClientState(e){return new u0}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ho{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>c4(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=hi.bind(null,this.syncEngine),await cR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new cF}createDatastore(e){let t=ce(e.databaseInfo.databaseId),n=new u8(e.databaseInfo);return new cs(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){var t;return t=this.localStore,new co(t,this.datastore,e.asyncQueue,e=>c4(this.syncEngine,e,0),u2.D()?new u2:new u1)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){let o=new cY(e,t,n,r,i,s);return a&&(o.Fa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){aD("RemoteStore","RemoteStore shutting down."),e.v_.add(5),await cu(e),e.M_.shutdown(),e.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):aP("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=aI.UNAUTHENTICATED,this.clientId=aG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{aD("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(aD("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new aU(aj.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new aF;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let t=cO(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function hc(e,t){e.asyncQueue.verifyOperationInProgress(),aD("FirestoreClient","Initializing OfflineComponentProvider");let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await uQ(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function hh(e,t){e.asyncQueue.verifyOperationInProgress();let n=await hd(e);aD("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>cN(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>cN(t.remoteStore,n)),e._onlineComponents=t}async function hd(e){if(!e._offlineComponents){if(e._uninitializedComponentsProvider){aD("FirestoreClient","Using user provided OfflineComponentProvider");try{await hc(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===aj.FAILED_PRECONDITION||t.code===aj.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;aO("Error using user provided cache. Falling back to memory cache: "+t),await hc(e,new ha)}}else aD("FirestoreClient","Using default OfflineComponentProvider"),await hc(e,new ha)}return e._offlineComponents}async function hf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(aD("FirestoreClient","Using user provided OnlineComponentProvider"),await hh(e,e._uninitializedComponentsProvider._online)):(aD("FirestoreClient","Using default OnlineComponentProvider"),await hh(e,new ho))),e._onlineComponents}async function hp(e){let t=await hf(e),n=t.eventManager;return n.onListen=cJ.bind(null,t.syncEngine),n.onUnlisten=c0.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(e,t,n){if(!n)throw new aU(aj.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function hy(e){if(!a4.isDocumentKey(e))throw new aU(aj.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function hw(e){if(a4.isDocumentKey(e))throw new aU(aj.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function hb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}return"function"==typeof e?"a function":aM()}function h_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new aU(aj.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=hb(e);throw new aU(aj.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new aU(aj.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new aU(aj.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new aU(aj.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new aU(aj.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new aU(aj.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new aU(aj.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,n;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hx{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new aU(aj.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new aU(aj.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new az;switch(e.type){case"firstParty":return new aq(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new aU(aj.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=hg.get(e);t&&(aD("ComponentProvider","Removing Datastore"),hg.delete(e),t.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hS(this.firestore,e,this._query)}}class hk{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hT(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hk(this.firestore,e,this._key)}}class hT extends hS{constructor(e,t,n){super(e,t,new lr(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new hk(this.firestore,null,new a4(e))}withConverter(e){return new hT(this.firestore,e,this._path)}}function hC(e,t,...n){if(e=t3(e),hv("collection","path",t),e instanceof hx){let r=a0.fromString(t,...n);return hw(r),new hT(e,null,r)}{if(!(e instanceof hk||e instanceof hT))throw new aU(aj.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(a0.fromString(t,...n));return hw(r),new hT(e.firestore,null,r)}}function hI(e,t,...n){if(e=t3(e),1==arguments.length&&(t=aG.newId()),hv("doc","path",t),e instanceof hx){let r=a0.fromString(t,...n);return hy(r),new hk(e,null,new a4(r))}{if(!(e instanceof hk||e instanceof hT))throw new aU(aj.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(a0.fromString(t,...n));return hy(r),new hk(e.firestore,e instanceof hT?e.converter:null,new a4(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new ct(this,"async_queue_retry"),this._u=()=>{let e=u7();e&&aD("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};let e=u7();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let t=u7();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let t=new aF;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!on(e))throw e;aD("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){let t=this.Xa.then(()=>(this.iu=!0,e().catch(e=>{let t;throw this.ru=e,this.iu=!1,aP("INTERNAL UNHANDLED ERROR: ",(t=e.message||"",e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t)),e}).then(e=>(this.iu=!1,e))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);let r=cP.createAndSchedule(this,e,t,n,e=>this.lu(e));return this.nu.push(r),r}au(){this.ru&&aM()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(let t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{for(let t of(this.nu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.nu))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let t=this.nu.indexOf(e);this.nu.splice(t,1)}}class hR extends hx{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new hN,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hD(this),this._firestoreClient.terminate()}}function hA(e){return e._firestoreClient||hD(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hD(e){var t,n,r,i;let s=e._freezeSettings(),a=(i=e._databaseId,new oC(i,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,hm(s.experimentalLongPollingOptions),s.useFetchStreams));e._firestoreClient=new hu(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hP(ow.fromBase64String(e))}catch(e){throw new aU(aj.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new hP(ow.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new aU(aj.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new a2(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new aU(aj.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new aU(aj.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return aQ(this._lat,e._lat)||aQ(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=/^__.*__$/;class hU{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new l$(e,this.data,this.fieldMask,t,this.fieldTransforms):new lB(e,this.data,t,this.fieldTransforms)}}class hF{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new l$(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hV(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw aM()}}class hz{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new hz(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;let n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;let n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return hJ(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(hV(this.du)&&hj.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class hB{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ce(e)}Su(e,t,n,r=!1){return new hz({du:e,methodName:t,wu:n,path:a2.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h$(e){let t=e._freezeSettings(),n=ce(e._databaseId);return new hB(e._databaseId,!!t.ignoreUndefinedProperties,n)}class hH extends hL{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hH}}function hq(e,t){if(hK(e=t3(e)))return hG("Unsupported field value:",t,e),hW(e,t);if(e instanceof hL)return function(e,t){if(!hV(t.du))throw t.pu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.pu(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){let n=[],r=0;for(let i of e){let e=hq(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=t3(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e){var n,r,i;return n=t.serializer,"number"==typeof(i=r=e)&&Number.isInteger(i)&&!ol(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER?lS(r):lx(n,r)}if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let n=aY.fromDate(e);return{timestampValue:uu(t.serializer,n)}}if(e instanceof aY){let n=new aY(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:uu(t.serializer,n)}}if(e instanceof hM)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hP)return{bytesValue:uc(t.serializer,e._byteString)};if(e instanceof hk){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ud(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu(`Unsupported field value: ${hb(e)}`)}(e,t)}function hW(e,t){let n={};return oh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oc(e,(e,r)=>{let i=hq(r,t.Ru(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function hK(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof aY||e instanceof hM||e instanceof hP||e instanceof hk||e instanceof hL)}function hG(e,t,n){if(!hK(n)||!("object"==typeof n&&null!==n&&(Object.getPrototypeOf(n)===Object.prototype||null===Object.getPrototypeOf(n)))){let r=hb(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function hQ(e,t,n){if((t=t3(t))instanceof hO)return t._internalPath;if("string"==typeof t)return hY(e,t);throw hJ("Field path arguments must be of type string or ",e,!1,void 0,n)}const hX=RegExp("[~\\*/\\[\\]]");function hY(e,t,n){if(t.search(hX)>=0)throw hJ(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new hO(...t.split("."))._internalPath}catch(r){throw hJ(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function hJ(e,t,n,r,i){let s=r&&!r.isEmpty(),a=void 0!==i,o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new aU(aj.INVALID_ARGUMENT,o+e+l)}function hZ(e,t){return e.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new hk(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new h1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(h2("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class h1 extends h0{data(){return super.data()}}function h2(e,t){return"string"==typeof t?hY(e,t):t instanceof hO?t._internalPath:t._delegate._internalPath}class h4{convertValue(e,t="none"){switch(oR(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oE(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ox(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw aM()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let n={};return oc(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new hM(oE(e.latitude),oE(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=ok(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(oT(e));default:return null}}convertTimestamp(e){let t=o_(e);return new aY(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=a0.fromString(e);ux(n)||aM();let r=new oI(n.get(1),n.get(3)),i=new a4(n.popFirst(5));return r.isEqual(t)||aP(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h6 extends h0{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new h9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(h2("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class h9 extends h6{data(e={}){return super.data(e)}}class h5{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new h3(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new h9(this._firestore,this._userDataWriter,n.key,n,new h3(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new aU(aj.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{let r=new h9(e._firestore,e._userDataWriter,n.doc.key,n.doc,new h3(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let r=new h9(e._firestore,e._userDataWriter,t.doc.key,t.doc,new h3(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(s=(n=n.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return aM()}}(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}class h8 extends h4{constructor(e){super(),this.firestore=e}convertBytes(e){return new hP(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new hk(this.firestore,null,t)}}function h7(e){e=h_(e,hS);let t=h_(e.firestore,hR),n=hA(t),r=new h8(t);return(/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new aU(aj.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),(function(e,t,n={}){let r=new aF;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let s=new cq(n,new hl({next:n=>{t.enqueueAndForget(()=>cz(e,s)),n.fromCache&&"server"===r.source?i.reject(new aU(aj.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),{includeMetadataChanges:!0,Z_:!0});return cV(e,s)})(await hp(e),e.asyncQueue,t,n,r)),r.promise})(n,e._query).then(n=>new h5(t,r,e,n)))}function de(e,t){return function(e,t){let n=new aF;return e.asyncQueue.enqueueAndForget(async()=>c1(await hf(e).then(e=>e.syncEngine),t,n)),n.promise}(hA(e),t)}function dt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function dn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}new WeakMap,function(e=!0){aN=nR,nT(new t6("firestore",(t,{instanceIdentifier:n,options:r})=>{let i=t.getProvider("app").getImmediate(),s=new hR(new a$(t.getProvider("auth-internal")),new aK(t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new aU(aj.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oI(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),nP(aC,"4.4.2",void 0),nP(aC,"4.4.2","esm2017")}(),nP("firebase","10.8.0","app"),"function"==typeof SuppressedError&&SuppressedError;const dr=new tQ("auth","Firebase",dn()),di=new ni("@firebase/auth");function ds(e,...t){di.logLevel<=n5.ERROR&&di.error(`Auth (${nR}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(e,...t){throw du(e,...t)}function dl(e,...t){return du(e,...t)}function du(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return dr.create(e,...t)}function dc(e,t,...n){if(!e)throw du(t,...n)}function dh(e){let t="INTERNAL ASSERTION FAILED: "+e;throw ds(t),Error(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function df(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,t){var n;this.shortDelay=e,this.longDelay=t,n="Short delay should be less than long delay!",t>e||dh(n),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tW())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===df()||"https:"===df()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||dh(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void dh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void dh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void dh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},dy=new dp(3e4,6e4);function dw(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function db(e,t,n,r,i={}){return d_(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});let a=tZ(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),dg.fetch()(dx(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))})}async function d_(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},dv),t);try{let t=new dS(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw dk(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let[t,n]=(i.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw dk(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw dk(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw dk(e,"user-disabled",s);let a=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw new tQ("auth","Firebase",Object.assign(Object.assign({},dn()),{[a]:n})).create(a,{appName:e.name});da(e,a)}}catch(t){if(t instanceof tG)throw t;da(e,"network-request-failed",{message:String(t)})}}async function dE(e,t,n,r,i={}){let s=await db(e,t,n,r,i);return"mfaPendingCredential"in s&&da(e,"multi-factor-auth-required",{_serverResponse:s}),s}function dx(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?dm(e.config,i):`${e.config.apiScheme}://${i}`}class dS{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(dl(this.auth,"network-request-failed")),dy.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dk(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=dl(e,t,r);return i.customData._tokenResponse=n,i}function dT(e){return void 0!==e&&void 0!==e.enterprise}class dC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return function(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function dI(e,t){return db(e,"GET","/v2/recaptchaConfig",dw(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(e,t){return db(e,"POST","/v1/accounts:delete",t)}async function dR(e,t){return db(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function dD(e,t=!1){let n=t3(e),r=await n.getIdToken(t),i=dO(r);dc(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s="object"==typeof i.firebase?i.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:dA(dP(i.auth_time)),issuedAtTime:dA(dP(i.iat)),expirationTime:dA(dP(i.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function dP(e){return 1e3*Number(e)}function dO(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ds("JWT malformed, contained fewer than 3 sections"),null;try{let e=tL(n);if(!e)return ds("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return ds("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof tG&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dA(this.lastLoginAt),this.creationTime=dA(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dU(e){var t;let n=e.auth,r=await e.getIdToken(),i=await dL(e,dR(n,{idToken:r}));dc(null==i?void 0:i.users.length,n,"internal-error");let s=i.users[0];e._notifyReloadListener(s);let a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=dt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],o=[...e.providerData.filter(e=>!a.some(t=>t.providerId===e.providerId)),...a],l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null==o?void 0:o.length);Object.assign(e,{uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new dj(s.createdAt,s.lastLoginAt),isAnonymous:!!l&&u})}async function dF(e){let t=t3(e);await dU(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(e,t){let n=await d_(e,{},async()=>{let n=tZ({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=dx(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dg.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dz(e,t){return db(e,"POST","/v2/accounts:revokeToken",dw(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dc(e.idToken,"internal-error"),dc(void 0!==e.idToken,"internal-error"),dc(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){let t=dO(e);return dc(t,"internal-error"),dc(void 0!==t.exp,"internal-error"),dc(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return(dc(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await dV(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new dB;return n&&(dc("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(dc("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(dc("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dB,this.toJSON())}_performRefresh(){return dh("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(e,t){dc("string"==typeof e||void 0===e,"internal-error",{appName:t})}class dH{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=dt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new dj(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await dL(this,this.stsTokenManager.getToken(this.auth,e));return dc(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dD(this,e)}reload(){return dF(this)}_assign(e){this!==e&&(dc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new dH(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){dc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await dU(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await dL(this,dN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,u;let c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;dc(y&&E,e,"internal-error");let x=dB.fromJSON(this.name,E);dc("string"==typeof y,e,"internal-error"),d$(c,e.name),d$(h,e.name),dc("boolean"==typeof w,e,"internal-error"),dc("boolean"==typeof b,e,"internal-error"),d$(d,e.name),d$(f,e.name),d$(p,e.name),d$(m,e.name),d$(g,e.name),d$(v,e.name);let S=new dH({uid:y,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t,n=!1){let r=new dB;r.updateFromServerResponse(t);let i=new dH({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await dU(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=new Map;function dW(e){var t,n;t="Expected a class definition",e instanceof Function||dh(t);let r=dq.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||dh(n)):(r=new e,dq.set(e,r)),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(e,t,n){return`firebase:${e}:${t}:${n}`}dK.type="NONE";class dQ{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=dG(this.userKey,r.apiKey,i),this.fullPersistenceKey=dG("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?dH._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new dQ(dW(dK),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||dW(dK),s=dG(n,e.config.apiKey,e.name),a=null;for(let n of t)try{let t=await n._get(s);if(t){let r=dH._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch(e){}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new dQ(i,e,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dX(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(d0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dY(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(d2(t))return"Blackberry";if(d4(t))return"Webos";if(dJ(t))return"Safari";if((t.includes("chrome/")||dZ(t))&&!t.includes("edge/"))return"Chrome";if(d1(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function dY(e=tW()){return/firefox\//i.test(e)}function dJ(e=tW()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dZ(e=tW()){return/crios\//i.test(e)}function d0(e=tW()){return/iemobile/i.test(e)}function d1(e=tW()){return/android/i.test(e)}function d2(e=tW()){return/blackberry/i.test(e)}function d4(e=tW()){return/webos/i.test(e)}function d3(e=tW()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function d6(e=tW()){return d3(e)||d1(e)||d4(e)||d2(e)||/windows phone/i.test(e)||d0(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(e,t=[]){let n;switch(e){case"Browser":n=dX(tW());break;case"Worker":n=`${dX(tW())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${nR}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d8(e,t={}){return db(e,"GET","/v2/passwordPolicy",dw(e,t))}class d7{constructor(e){var t,n,r,i;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;let o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ft(this),this.idTokenSubscription=new ft(this),this.beforeStateQueue=new d5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dW(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await dQ.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);(!n||n===s)&&(null==a?void 0:a.user)&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(dc(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dU(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?t3(e):null;return t&&dc(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&dc(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(dW(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new d7(await d8(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tQ("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await dz(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&dW(e)||this._popupRedirectResolver;dc(t,this,"argument-error"),this.redirectPersistenceManager=await dQ.create(this,[dW(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(dc(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{let n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dc(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){di.logLevel<=n5.WARN&&di.warn(`Auth (${nR}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}class ft{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let n=new t2(e,void 0);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return dc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fr(e){return`__${e}${Math.floor(1e6*Math.random())}`}class fi{constructor(e){this.type="recaptcha-enterprise",this.auth=t3(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{dI(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new dC(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;dT(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&dT(window.grecaptcha))r(n,e,i);else{var s;if("undefined"==typeof window){i(Error("RecaptchaVerifier is only supported in browser"));return}let t=fn.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(s=t,fn.loadJS(s)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function fs(e,t,n,r=!1){let i;let s=new fi(e);try{i=await s.verify(n)}catch(e){i=await s.verify(n,!0)}let a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function fa(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i||!i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await fs(e,t,n,"getOobCode"===n);return r(e,i)}});{let i=await fs(e,t,n,"getOobCode"===n);return r(e,i)}}function fo(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function fl(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return dh("not implemented")}_getIdTokenResponse(e){return dh("not implemented")}_linkToIdToken(e,t){return dh("not implemented")}_getReauthenticationResolver(e){return dh("not implemented")}}async function fc(e,t){return db(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(e,t){return dE(e,"POST","/v1/accounts:signInWithPassword",dw(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(e,t){return dE(e,"POST","/v1/accounts:signInWithEmailLink",dw(e,t))}async function ff(e,t){return dE(e,"POST","/v1/accounts:signInWithEmailLink",dw(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends fu{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new fp(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new fp(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return fa(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",fh);case"emailLink":return fd(e,{email:this._email,oobCode:this._password});default:da(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return fa(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fc);case"emailLink":return ff(e,{idToken:t,email:this._email,oobCode:this._password});default:da(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fm(e,t){return dE(e,"POST","/v1/accounts:signInWithIdp",dw(e,t))}class fg extends fu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new fg(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):da("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=dt(t,["providerId","signInMethod"]);if(!n||!r)return null;let s=new fg(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return fm(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,fm(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,fm(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tZ(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fv(e,t){return db(e,"POST","/v1/accounts:sendVerificationCode",dw(e,t))}async function fy(e,t){return dE(e,"POST","/v1/accounts:signInWithPhoneNumber",dw(e,t))}async function fw(e,t){let n=await dE(e,"POST","/v1/accounts:signInWithPhoneNumber",dw(e,t));if(n.temporaryProof)throw dk(e,"account-exists-with-different-credential",n);return n}const fb={USER_NOT_FOUND:"user-not-found"};async function f_(e,t){return dE(e,"POST","/v1/accounts:signInWithPhoneNumber",dw(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),fb)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends fu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new fE({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new fE({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return fy(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return fw(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return f_(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new fE({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class fx{constructor(e){var t,n,r,i,s,a;let o=t0(t1(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);dc(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){let t=function(e){let t=t0(t1(e)).link,n=t?t0(t1(t)).deep_link_id:null,r=t0(t1(e)).deep_link_id;return(r?t0(t1(r)).link:null)||r||n||t||e}(e);try{return new fx(t)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.providerId=fS.PROVIDER_ID}static credential(e,t){return fp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=fx.parseLink(t);return dc(n,"argument-error"),fp._fromEmailAndCode(e,n.code,n.tenantId)}}fS.PROVIDER_ID="password",fS.EMAIL_PASSWORD_SIGN_IN_METHOD="password",fS.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT extends fk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC extends fT{constructor(){super("facebook.com")}static credential(e){return fg._fromParams({providerId:fC.PROVIDER_ID,signInMethod:fC.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fC.credentialFromTaggedObject(e)}static credentialFromError(e){return fC.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fC.credential(e.oauthAccessToken)}catch(e){return null}}}fC.FACEBOOK_SIGN_IN_METHOD="facebook.com",fC.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI extends fT{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fg._fromParams({providerId:fI.PROVIDER_ID,signInMethod:fI.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fI.credentialFromTaggedObject(e)}static credentialFromError(e){return fI.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return fI.credential(t,n)}catch(e){return null}}}fI.GOOGLE_SIGN_IN_METHOD="google.com",fI.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN extends fT{constructor(){super("github.com")}static credential(e){return fg._fromParams({providerId:fN.PROVIDER_ID,signInMethod:fN.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fN.credentialFromTaggedObject(e)}static credentialFromError(e){return fN.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fN.credential(e.oauthAccessToken)}catch(e){return null}}}fN.GITHUB_SIGN_IN_METHOD="github.com",fN.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR extends fT{constructor(){super("twitter.com")}static credential(e,t){return fg._fromParams({providerId:fR.PROVIDER_ID,signInMethod:fR.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fR.credentialFromTaggedObject(e)}static credentialFromError(e){return fR.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return fR.credential(t,n)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(e,t){return dE(e,"POST","/v1/accounts:signUp",dw(e,t))}fR.TWITTER_SIGN_IN_METHOD="twitter.com",fR.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new fD({user:await dH._fromIdTokenResponse(e,n,r),providerId:fP(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new fD({user:e,providerId:fP(n),_tokenResponse:n,operationType:t})}}function fP(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO extends tG{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,fO.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new fO(e,t,n,r)}}function fL(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw fO._fromErrorAndOperation(e,n,t,r);throw n})}async function fM(e,t,n=!1){let r=await dL(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fD._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(e,t,n=!1){let{auth:r}=e,i="reauthenticate";try{let s=await dL(e,fL(r,i,t,e),n);dc(s.idToken,r,"internal-error");let a=dO(s.idToken);dc(a,r,"internal-error");let{sub:o}=a;return dc(e.uid===o,r,"user-mismatch"),fD._forOperation(e,i,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&da(r,"user-mismatch"),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(e,t,n=!1){let r="signIn",i=await fL(e,r,t),s=await fD._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function fF(e,t){return fU(t3(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(e){let t=t3(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function fz(e,t,n){let r=t3(e),i=fa(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fA),s=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&fV(e),t}),a=await fD._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function fB(e,t,n,r){return t3(e).onAuthStateChanged(t,n,r)}new WeakMap;const f$="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(f$,"1"),this.storage.removeItem(f$),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class fq extends fH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(){let e=tW();return dJ(e)||d3(e)}()&&function(){try{return!!(window&&window!==window.top)}catch(e){return!1}}(),this.fallbackToPolling=d6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(function(){let e=tW();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fq.type="LOCAL";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW extends fH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fW.type="SESSION";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new fK(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let s=Array.from(i).map(async t=>t(e.origin,r)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}fK.receivers=[];/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i;let s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let l=fG("",20);s.port1.start();let u=setTimeout(()=>{o(Error("unsupported_event"))},n);i={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(e.data.response);break;default:clearTimeout(u),clearTimeout(r),o(Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fX(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(){return void 0!==fX().WorkerGlobalScope&&"function"==typeof fX().importScripts}async function fJ(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ="firebaseLocalStorageDb",f0="firebaseLocalStorage",f1="fbase_key";class f2{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function f4(e,t){return e.transaction([f0],t?"readwrite":"readonly").objectStore(f0)}function f3(){let e=indexedDB.open(fZ,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(f0,{keyPath:f1})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(f0)?t(n):(n.close(),await new f2(indexedDB.deleteDatabase(fZ)).toPromise(),t(await f3()))})})}async function f6(e,t,n){return new f2(f4(e,!0).put({[f1]:t,value:n})).toPromise()}async function f9(e,t){let n=f4(e,!1).get(t),r=await new f2(n).toPromise();return void 0===r?null:r.value}function f5(e,t){return new f2(f4(e,!0).delete(t)).toPromise()}class f8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await f3()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fY()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fK._getInstance(fY()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await fJ(),!this.activeServiceWorker)return;this.sender=new fQ(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await f3();return await f6(e,f$,"1"),await f5(e,f$),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>f6(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>f9(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>f5(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new f2(f4(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}async function f7(e,t,n){var r,i,s;let a=await n.verify();try{let o;if(dc("string"==typeof a,e,"argument-error"),dc("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){let t=o.session;if("phoneNumber"in o)return dc("enroll"===t.type,e,"internal-error"),(await (i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}},db(e,"POST","/v2/accounts/mfaEnrollment:start",dw(e,i)))).phoneSessionInfo.sessionInfo;{dc("signin"===t.type,e,"internal-error");let n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;return dc(n,e,"missing-multi-factor-info"),(await (s={mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:a}},db(e,"POST","/v2/accounts/mfaSignIn:start",dw(e,s)))).phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await fv(e,{phoneNumber:o.phoneNumber,recaptchaToken:a});return t}}finally{n._reset()}}f8.type="LOCAL",fr("rcb"),new dp(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.providerId=pe.PROVIDER_ID,this.auth=t3(e)}verifyPhoneNumber(e,t){return f7(this.auth,e,t3(t))}static credential(e,t){return fE._fromVerification(e,t)}static credentialFromResult(e){return pe.credentialFromTaggedObject(e)}static credentialFromError(e){return pe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?fE._fromTokenResponse(t,n):null}}pe.PROVIDER_ID="phone",pe.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt extends fu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fm(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pn(e){return fU(e.auth,new pt(e),e.bypassAuthState)}function pr(e){let{auth:t,user:n}=e;return dc(n,t,"internal-error"),fj(n,new pt(e),e.bypassAuthState)}async function pi(e){let{auth:t,user:n}=e;return dc(n,t,"internal-error"),fM(n,new pt(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pn;case"linkViaPopup":case"linkViaRedirect":return pi;case"reauthViaPopup":case"reauthViaRedirect":return pr;default:da(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||dh(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||dh(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new dp(2e3,1e4);class po extends ps{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return dc(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||dh(t);let n=fG();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(dl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(dl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pa.get())};e()}}po.currentPopupAction=null;const pl=new Map;class pu extends ps{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=pl.get(this.auth._key());if(!e){try{let t=await pc(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}pl.set(this.auth._key(),e)}return this.bypassAuthState||pl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pc(e,t){let n=dG("pendingRedirect",t.config.apiKey,t.name),r=dW(e._redirectPersistence);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function ph(e,t){pl.set(e._key(),t)}async function pd(e,t,n=!1){let r=t3(e),i=t?dW(t):(dc(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver),s=new pu(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class pf{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pm(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!pm(e)){let r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(dl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pp(e))}saveEventToCache(e){this.cachedEventUids.add(pp(e)),this.lastProcessedEventTime=Date.now()}}function pp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function pm({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pg(e,t={}){return db(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,py=/^https?/;async function pw(e){if(e.config.emulator)return;let{authorizedDomains:t}=await pg(e);for(let e of t)try{if(function(e){let t=dd(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!py.test(n))return!1;if(pv.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch(e){}da(e,"unauthorized-domain")}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new dp(3e4,6e4);function p_(){let e=fX().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let pE=null;/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new dp(5e3,15e3),pS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function pT(e){let t=await (pE=pE||new Promise((t,n)=>{var r,i,s,a;function o(){p_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{p_(),n(dl(e,"network-request-failed"))},timeout:pb.get()})}if(null===(i=null===(r=fX().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null===(s=fX().gapi)||void 0===s?void 0:s.load)o();else{let t=fr("iframefcb");return fX()[t]=()=>{gapi.load?o():n(dl(e,"network-request-failed"))},(a=`${fn.gapiScript}?onload=${t}`,fn.loadJS(a)).catch(e=>n(e))}}).catch(e=>{throw pE=null,e})),n=fX().gapi;return dc(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;dc(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?dm(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:nR},i=pk.get(e.config.apiHost);i&&(r.eid=i);let s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tZ(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pS,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=dl(e,"network-request-failed"),s=fX().setTimeout(()=>{r(i)},px.get());function a(){fX().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const pN=encodeURIComponent("fac");async function pR(e,t,n,r,i,s){dc(e.config.authDomain,e,"auth-domain-config-required"),dc(e.config.apiKey,e,"invalid-api-key");let a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nR,eventId:i};if(t instanceof fk)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",!function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())&&(a.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))a[n]=r;if(t instanceof fT){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}for(let t of(e.tenantId&&(a.tid=e.tenantId),Object.keys(a)))void 0===a[t]&&delete a[t];let o=await e._getAppCheckToken(),l=o?`#${pN}=${encodeURIComponent(o)}`:"";return`${function({config:e}){return e.emulator?dm(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${tZ(a).slice(1)}${l}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="webStorageSupport",pD=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fW,this._completeRedirectFn=pd,this._overrideRedirectResult=ph}async _openPopup(e,t,n,r){var i,s,a;s=null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,a="_initialize() not called before _openPopup()",s||dh(a);let o=await pR(e,t,n,dd(),r);return function(e,t,n,r=500,i=600){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",l=Object.assign(Object.assign({},pC),{width:r.toString(),height:i.toString(),top:s,left:a}),u=tW().toLowerCase();n&&(o=dZ(u)?"_blank":n),dY(u)&&(t=t||"http://localhost",l.scrollbars="yes");let c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=tW()){var t;return d3(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==o)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new pI(null);let h=window.open(t||"",o,c);dc(h,e,"popup-blocked");try{h.focus()}catch(e){}return new pI(h)}(e,o,fG())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await pR(e,t,n,dd(),r),fX().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||dh(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await pT(e),n=new pf(e);return t.register("authEvent",t=>(dc(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pA,{type:pA},n=>{var r;let i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[pA];void 0!==i&&t(!!i),da(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pw(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return d6()||dJ()||d3()}};class pP{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return dh("unexpected MultiFactorSessionType")}}}class pO extends pP{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new pO(e)}_finalizeEnroll(e,t,n){return db(e,"POST","/v2/accounts/mfaEnrollment:finalize",dw(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return db(e,"POST","/v2/accounts/mfaSignIn:finalize",dw(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class pL extends pP{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new pL(t,void 0,e)}static _fromEnrollmentId(e,t){return new pL(t,e)}async _finalizeEnroll(e,t,n){return dc(void 0!==this.secret,e,"argument-error"),db(e,"POST","/v2/accounts/mfaEnrollment:finalize",dw(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){dc(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let n={verificationCode:this.otp};return db(e,"POST","/v2/accounts/mfaSignIn:finalize",dw(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}))}}class pM{constructor(e,t,n,r,i,s,a){this.sessionInfo=s,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new pM(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(pj(e)||pj(t))&&(r=!0),r&&(pj(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),pj(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function pj(e){return void 0===e||(null==e?void 0:e.length)===0}var pU="@firebase/auth",pF="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pz=t$("authIdTokenMaxAge")||300;let pB=null;const p$=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pz)return;let i=null==n?void 0:n.token;pB!==i&&(pB=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pH(e=nD()){let t=nC(e,"auth");if(t.isInitialized())return t.getImmediate();let n=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){let n=nC(e,"auth");if(n.isInitialized()){let e=n.getImmediate();if(tY(n.getOptions(),null!=t?t:{}))return e;da(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:pD,persistence:[f8,fq,fW]}),r=t$("authTokenSyncURL");if(r){var i,s;let e=p$(r);i=()=>e(n.currentUser),t3(n).beforeAuthStateChanged(e,i),s=t=>e(t),t3(n).onIdTokenChanged(s,void 0,void 0)}let a=tV("auth");return a&&function(e,t,n){let r=t3(e);dc(r._canInitEmulator,r,"emulator-config-failed"),dc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=fo(t),{host:s,port:a}=function(e){let t=fo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:fl(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:fl(t)}}}(t),o=null===a?"":`:${a}`;r.config.emulator={url:`${i}//${s}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})}),function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${a}`),n}fn={loadJS:e=>new Promise((t,n)=>{var r,i;let s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{let t=dl("internal-error");t.customData=e,n(t)},s.type="text/javascript",s.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(s)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},u="Browser",nT(new t6("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;dc(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let o=new fe(n,r,i,{apiKey:s,authDomain:a,clientPlatform:u,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d9(u)});return function(e,t){let n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dW);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),nT(new t6("auth-internal",e=>new pV(t3(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),nP(pU,pF,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(u)),nP(pU,pF,"esm2017");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq="firebasestorage.googleapis.com",pW="storageBucket";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK extends tG{constructor(e,t,n=0){super(pG(e),`Firebase Storage: ${t} (${pG(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pK.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pG(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function pG(e){return"storage/"+e}function pQ(){return new pK(w.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function pX(e){return new pK(w.INVALID_ARGUMENT,e)}function pY(){return new pK(w.APP_DELETED,"The Firebase app was deleted.")}function pJ(e,t){return new pK(w.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function pZ(e){throw new pK(w.INTERNAL_ERROR,"Internal error: "+e)}(c=w||(w={})).UNKNOWN="unknown",c.OBJECT_NOT_FOUND="object-not-found",c.BUCKET_NOT_FOUND="bucket-not-found",c.PROJECT_NOT_FOUND="project-not-found",c.QUOTA_EXCEEDED="quota-exceeded",c.UNAUTHENTICATED="unauthenticated",c.UNAUTHORIZED="unauthorized",c.UNAUTHORIZED_APP="unauthorized-app",c.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",c.INVALID_CHECKSUM="invalid-checksum",c.CANCELED="canceled",c.INVALID_EVENT_NAME="invalid-event-name",c.INVALID_URL="invalid-url",c.INVALID_DEFAULT_BUCKET="invalid-default-bucket",c.NO_DEFAULT_BUCKET="no-default-bucket",c.CANNOT_SLICE_BLOB="cannot-slice-blob",c.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",c.NO_DOWNLOAD_URL="no-download-url",c.INVALID_ARGUMENT="invalid-argument",c.INVALID_ARGUMENT_COUNT="invalid-argument-count",c.APP_DELETED="app-deleted",c.INVALID_ROOT_OPERATION="invalid-root-operation",c.INVALID_FORMAT="invalid-format",c.INTERNAL_ERROR="internal-error",c.UNSUPPORTED_ENVIRONMENT="unsupported-environment";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=p0.makeFromUrl(e,t)}catch(t){return new p0(e,"")}if(""===n.path)return n;throw new pK(w.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null,r="([A-Za-z0-9.\\-_]+)",i=RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}let a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:RegExp(`^https?://${t===pq?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let t=0;t<o.length;t++){let r=o[t],i=r.regex.exec(e);if(i){let e=i[r.indices.bucket],t=i[r.indices.path];t||(t=""),n=new p0(e,t),r.postModify(n);break}}if(null==n)throw new pK(w.INVALID_URL,"Invalid URL '"+e+"'.");return n}}class p1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function p2(e){return"string"==typeof e||e instanceof String}function p4(e){return p3()&&e instanceof Blob}function p3(){return"undefined"!=typeof Blob}function p6(e,t,n,r){if(r<t)throw pX(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw pX(`Invalid value for '${e}'. Expected ${n} or less.`)}(h=b||(b={}))[h.NO_ERROR=0]="NO_ERROR",h[h.NETWORK_ERROR=1]="NETWORK_ERROR",h[h.ABORT=2]="ABORT";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,t,n,r,i,s,a,o,l,u,c,h=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){let e=(e,t)=>{let n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{let e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(e){r(e)}else if(null!==i){let e=pQ();e.serverResponse=i.getErrorText(),r(this.errorCallback_?this.errorCallback_(i,e):e)}else r(t.canceled?this.appDelete_?pY():new pK(w.CANCELED,"User canceled the upload/download."):new pK(w.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))};this.canceled_?e(!1,new p5(!1,null,!0)):this.backoffId_=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t,n){let r=1,i=null,s=null,a=!1,o=0,l=!1;function u(...e){l||(l=!0,t.apply(null,e))}function c(t){i=setTimeout(()=>{i=null,e(d,2===o)},t)}function h(){s&&clearTimeout(s)}function d(e,...t){let n;if(l){h();return}if(e||2===o||a){h(),u.call(null,e,...t);return}r<64&&(r*=2),1===o?(o=2,n=0):n=(r+Math.random())*1e3,c(n)}let f=!1;function p(e){!f&&(f=!0,h(),l||(null!==i?(e||(o=2),clearTimeout(i),c(0)):e||(o=1)))}return c(0),s=setTimeout(()=>{a=!0,p(!0)},n),p}((e,t)=>{if(t){e(!1,new p5(!1,null,!0));return}let n=this.connectionFactory_();this.pendingConnection_=n;let r=e=>{let t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;let t=n.getErrorCode()===b.NO_ERROR,i=n.getStatus();if(!t||/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){let n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}(i,this.additionalRetryCodes_)&&this.retry){e(!1,new p5(!1,null,n.getErrorCode()===b.ABORT));return}e(!0,new p5(-1!==this.successCodes_.indexOf(i),n))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class p5{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function p8(...e){let t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){let n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(p3())return new Blob(e);throw new pK(w.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class me{constructor(e,t){this.data=e,this.contentType=t||null}}function mt(e){let t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):(64512&r)==55296?n<e.length-1&&(64512&e.charCodeAt(n+1))==56320?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):(64512&r)==56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function mn(e,t){let n;switch(e){case p7.BASE64:{let n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw pJ(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case p7.BASE64URL:{let n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw pJ(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}}try{n=/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if("undefined"==typeof atob)throw new pK(w.UNSUPPORTED_ENVIRONMENT,"base-64 is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(e)}(t)}catch(t){if(t.message.includes("polyfill"))throw t;throw pJ(e,"Invalid character found")}let r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class mr{constructor(e){var t;this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(null===n)throw pJ(p7.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;null!=r&&(this.base64=(t=";base64",r.length>=t.length&&r.substring(r.length-t.length)===t),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t){let n=0,r="";p4(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(!p4(this.data_))return new mi(new Uint8Array(this.data_.buffer,e,t-e),!0);{var n;let r=(n=this.data_).webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null;return null===r?null:new mi(r)}}static getBlob(...e){if(p3()){let t=e.map(e=>e instanceof mi?e.data_:e);return new mi(p8.apply(null,t))}{let t=e.map(e=>p2(e)?function(e,t){switch(e){case p7.RAW:return new me(mt(t));case p7.BASE64:case p7.BASE64URL:return new me(mn(e,t));case p7.DATA_URL:return new me(function(e){let t=new mr(e);return t.base64?mn(p7.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw pJ(p7.DATA_URL,"Malformed data URL.")}return mt(t)}(t.rest)}(t),new mr(t).contentType)}throw pQ()}(p7.RAW,e).data:e.data_),n=0;t.forEach(e=>{n+=e.byteLength});let r=new Uint8Array(n),i=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new mi(r,!0)}}uploadData(){return this.data_}}function ms(e){let t=e.lastIndexOf("/",e.length-2);return -1===t?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(e,t){return t}class mo{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||ma}}let ml=null;class mu{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}class mc{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=b.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=b.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=b.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw pZ("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(let e in r)r.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,r[e].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pZ("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pZ("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return -1}}getResponse(){if(!this.sent_)throw pZ("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pZ("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class mh extends mc{initXhr(){this.xhr_.responseType="text"}}function md(){return new mh}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this._service=e,t instanceof p0?this._location=t:this._location=p0.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new mf(e,t)}get root(){let e=new p0(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ms(this._location.path)}get storage(){return this._service}get parent(){let e=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if(0===e.length)return null;let t=e.lastIndexOf("/");return -1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;let t=new p0(this._location.bucket,e);return new mf(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw new pK(w.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function mp(e,t){let n=null==t?void 0:t[pW];return null==n?null:p0.makeFromBucketSpec(n,e)}class mm{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=pq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=r?this._bucket=p0.makeFromBucketSpec(r,this._host):this._bucket=mp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=p0.makeFromBucketSpec(this._url,e):this._bucket=mp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){p6("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){p6("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mf(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new p1(pY());{let s=function(e,t,n,r,i,s,a=!0){let o=function(e){let t=encodeURIComponent,n="?";for(let r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}(e.urlParams),l=e.url+o,u=Object.assign({},e.headers);return t&&(u["X-Firebase-GMPID"]=t),null!==n&&n.length>0&&(u.Authorization="Firebase "+n),u["X-Firebase-Storage-Version"]="webjs/"+(null!=s?s:"AppManager"),null!==r&&(u["X-Firebase-AppCheck"]=r),new p9(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){let[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const mg="@firebase/storage",mv="0.12.1",my="storage";nT(new t6(my,function(e,{instanceIdentifier:t}){return new mm(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t,nR)},"PUBLIC").setMultipleInstances(!0)),nP(mg,mv,""),nP(mg,mv,"esm2017");const mw=nA({apiKey:"AIzaSyDNI39GqTlkz1YZgxav2Re-k4rbPjj7nJo",authDomain:"d-str-a8356.firebaseapp.com",projectId:"d-str-a8356",storageBucket:"d-str-a8356.appspot.com",messagingSenderId:"536908913912",appId:"1:536908913912:web:35fc34febc3c596a116f0d"});pH(mw);const mb=function(e=nD(),t){let n=nC(e=t3(e),my).getImmediate({identifier:void 0}),r=tz("storage");return r&&function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";let{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:tq(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(mw),m_=function(e,t){let n=nC("object"==typeof e?e:nD(),"firestore").getImmediate({identifier:"string"==typeof e?e:"(default)"});if(!n._initialized){let e=tz("firestore");e&&function(e,t,n,r={}){var i;let s=(e=h_(e,hx))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&aO("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=aI.MOCK_USER;else{t=tq(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);let s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new aU(aj.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new aI(s)}e._authCredentials=new aB(new aV(t,n))}}(n,...e)}return n}(mw);var mE=()=>{let[e,t]=(0,N.useState)([]);return(0,N.useEffect)(()=>{(async()=>await h7(hC(m_,"readers")))().then(e=>t(e.docs)).catch(e=>prompt(e))},[]),console.log("bookref",e),(0,T.jsxs)("div",{className:"lg:px-32 lg:py-14 p-10 ",children:[(0,T.jsxs)("div",{className:"mx-auto max-w-2xl lg:mx-0 border-b-[1px] w-full",children:[(0,T.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:"Choose your book"}),(0,T.jsx)("p",{className:"mt-2 text-lg leading-8 text-gray-600",children:"Learnings of books posted by our Readers"})," ",(0,T.jsxs)("span",{className:"text-blue-400",children:["You can also post your learnings →",(0,T.jsx)(tc,{to:"/signUp",children:(0,T.jsx)("span",{className:"hover:underline",children:" Click to post your book"})})]})]}),(0,T.jsx)("div",{className:"flex justify-center",children:(0,T.jsx)("div",{className:"p-4 flex flex-wrap w-5/6 justify-between",children:e.map(e=>(0,T.jsx)(tc,{to:"/book/"+e._document.data.value.mapValue.fields.bId.stringValue,children:(0,T.jsx)(tg,{details:e._document.data.value.mapValue.fields})}))})})]})},N=(S("acw62"),S("acw62"),S("acw62")),mx={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};const mS=new Uint8Array(16),mk=[];for(let e=0;e<256;++e)mk.push((e+256).toString(16).slice(1));var mT=function(e,t,r){if(mx.randomUUID&&!t&&!e)return mx.randomUUID();let i=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(mS)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return function(e,t=0){return mk[e[t+0]]+mk[e[t+1]]+mk[e[t+2]]+mk[e[t+3]]+"-"+mk[e[t+4]]+mk[e[t+5]]+"-"+mk[e[t+6]]+mk[e[t+7]]+"-"+mk[e[t+8]]+mk[e[t+9]]+"-"+mk[e[t+10]]+mk[e[t+11]]+mk[e[t+12]]+mk[e[t+13]]+mk[e[t+14]]+mk[e[t+15]]}(i)},mC={};mC=new URL("bookstore.e9c41e31.png",import.meta.url).toString();var N=S("acw62"),mI=()=>{let[e,t]=(0,N.useState)([]);return(0,N.useEffect)(()=>{(async()=>await h7(hC(m_,"readers")))().then(e=>t(e.docs)).catch(e=>prompt(e))},[]),(0,T.jsxs)("div",{className:" lg:py-14 p-10 lg:mx-28",children:[(0,T.jsxs)("div",{className:"mx-auto max-w-2xl lg:mx-0",children:[(0,T.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:"Choose your Books"}),(0,T.jsx)("p",{className:"mt-2 text-lg leading-8 text-gray-600",children:"Learnings of books posted by our Readers"})," ",(0,T.jsxs)("span",{className:"text-blue-400",children:["You can also post your learnings →",(0,T.jsx)(tc,{to:"/signUp",children:(0,T.jsx)("span",{className:"hover:underline",children:" Click to post your book"})})]})]}),(0,T.jsx)("div",{className:"border-b-[1px] my-10"}),(0,T.jsx)("div",{className:"flex justify-center",children:(0,T.jsx)("div",{className:" lg:py-2 flex w-full flex-wrap border-b-[1px]",children:e.slice(0,8).map(e=>(0,T.jsx)(tc,{to:"/book/"+e._document.data.value.mapValue.fields.bId.stringValue,children:(0,T.jsx)(tg,{details:e._document.data.value.mapValue.fields})}))})})]})},N=S("acw62"),mN=()=>(0,T.jsxs)("div",{className:"lg:px-32 lg:py-4 p-10 text-gray-500",children:[(0,T.jsx)("h2",{className:"font-semibold text-3xl my-6",children:"Connect to readers & explore together"}),(0,T.jsx)("p",{children:"This will help you to find people of your intrest"}),"connect with them make a community and explore"]}),mR=({ig:e})=>(0,T.jsxs)("div",{className:"bg-gray-500 lg:mx-32 mx-10 rounded-lg my-4 px-4 py-4 text-white",children:[(0,T.jsx)("p",{children:"Available options to connect"}),(0,T.jsxs)("div",{className:"bg-white text-gray-500 rounded-lg p-2 cursor-pointer",children:["via: ",(0,T.jsx)("a",{href:`https://www.instagram.com/${e}/`,children:"Instagram"})]})]}),mA=({details:e})=>{let{Author:t,Category:n,Discription:r,ImgVal:i,TitleOfBook:s,userId:a,Rating:o,bId:l}=e,u=async()=>{var e;await de(h_((e=hI(m_,"readers",l.stringValue)).firestore,hR),[new lK(e._key,lM.none())])};return(0,T.jsx)("div",{className:"m-4",children:(0,T.jsx)("ul",{className:"flex flex-col divide-y divide-gray-200",children:(0,T.jsx)("li",{className:"flex flex-col py-6 sm:flex-row sm:justify-between",children:(0,T.jsxs)("div",{className:"flex w-full space-x-2 sm:space-x-4",children:[(0,T.jsx)("img",{className:"h-20 w-20 flex-shrink-0 rounded object-contain outline-none dark:border-transparent sm:h-32 sm:w-32",src:`${tm}${i.stringValue}?alt=media&token`,alt:"book"}),(0,T.jsxs)("div",{className:"flex w-full flex-col justify-between pb-4",children:[(0,T.jsxs)("div",{className:"flex w-full justify-between space-x-2 pb-2",children:[(0,T.jsxs)("div",{className:"space-y-1",children:[(0,T.jsx)("h3",{className:"text-lg font-semibold leading-snug sm:pr-8",children:s.stringValue}),(0,T.jsx)("p",{className:"text-sm",children:t.stringValue})]}),(0,T.jsx)("div",{className:"text-right",children:(0,T.jsxs)("p",{className:"font-semibold text-gray-400",children:["Rating: ",o.stringValue,"/5"]})})]}),(0,T.jsx)("div",{className:"flex divide-x text-sm",children:(0,T.jsxs)("button",{type:"button",className:"flex items-center space-x-2 px-2 py-1 pl-0",children:[(0,T.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash",children:[(0,T.jsx)("path",{d:"M3 6h18"}),(0,T.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,T.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),(0,T.jsx)(tc,{to:"/",children:(0,T.jsx)("span",{onClick:u,children:"Remove"})})]})})]})]})})})})},N=S("acw62"),mD=e=>(0,T.jsx)("div",{className:"border-t-[1px]",children:(0,T.jsx)("section",{class:"relative overflow-hidden bg-white py-8 lg:mx-32",children:(0,T.jsx)("div",{class:"container relative z-10 mx-auto px-4",children:(0,T.jsxs)("div",{class:"-m-8 flex flex-wrap items-center justify-between",children:[(0,T.jsx)("div",{class:"w-auto p-8",children:(0,T.jsx)("img",{className:"w-11",src:a(th)})}),(0,T.jsx)("div",{class:"w-auto p-8",children:(0,T.jsxs)("ul",{class:"-m-5 flex flex-wrap items-center",children:[(0,T.jsx)("li",{class:"p-5",children:(0,T.jsx)("a",{class:"font-medium text-gray-600 hover:text-gray-700",href:"#",children:"Privacy Policy"})}),(0,T.jsx)("li",{class:"p-5",children:(0,T.jsx)("a",{class:"font-medium text-gray-600 hover:text-gray-700",href:"#",children:"© read.connect"})}),(0,T.jsx)("li",{class:"p-5",children:(0,T.jsx)("a",{class:"font-medium text-gray-600 hover:text-gray-700",href:"https://discord.com/invite/ddYnn3cB",children:"Community"})}),(0,T.jsx)("li",{class:"p-5",children:(0,T.jsx)("a",{class:"font-medium text-gray-600 hover:text-gray-700",href:"/about",children:"Contact Us"})})]})}),(0,T.jsx)("div",{class:"w-auto p-8",children:(0,T.jsxs)("div",{class:"-m-1.5 flex flex-wrap",children:[(0,T.jsx)("div",{class:"w-auto p-1.5",children:(0,T.jsx)("a",{href:"#",children:(0,T.jsx)("div",{class:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 hover:border-gray-400",children:(0,T.jsx)("svg",{width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,T.jsx)("path",{d:"M5.55736 5.2L5.55736 3.88C5.55736 3.308 5.69631 3 6.66894 3H7.87315V0.800003L6.02052 0.800003C3.70473 0.800003 2.77841 2.252 2.77841 3.88V5.2H0.925781L0.925781 7.4H2.77841L2.77841 14H5.55736L5.55736 7.4H7.59526L7.87315 5.2H5.55736Z",fill:"#27272A"})})})})}),(0,T.jsx)("div",{class:"w-auto p-1.5",children:(0,T.jsx)("a",{href:"#",children:(0,T.jsx)("div",{class:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 hover:border-gray-400",children:(0,T.jsx)("svg",{width:"14",height:"11",viewBox:"0 0 14 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,T.jsx)("path",{d:"M13.6655 1.39641C13.1901 1.60149 12.6728 1.74907 12.1399 1.80656C12.6931 1.47788 13.1074 0.958619 13.3051 0.346204C12.7859 0.655036 12.2172 0.871595 11.6241 0.986274C11.3762 0.721276 11.0764 0.510168 10.7434 0.366102C10.4104 0.222036 10.0512 0.1481 9.68836 0.148902C8.22024 0.148902 7.03953 1.33893 7.03953 2.79928C7.03953 3.00436 7.06439 3.20943 7.10478 3.40673C4.90649 3.29177 2.94589 2.24155 1.64246 0.633614C1.40495 1.03927 1.2805 1.50117 1.28203 1.97123C1.28203 2.89094 1.74965 3.70191 2.46274 4.17885C2.0425 4.1623 1.63211 4.0468 1.26494 3.84173V3.87435C1.26494 5.16226 2.17533 6.22956 3.38866 6.47502C3.16084 6.5342 2.92649 6.56447 2.69111 6.56513C2.51866 6.56513 2.35554 6.54804 2.19086 6.52474C2.52643 7.57495 3.50362 8.33775 4.66724 8.3626C3.75685 9.07569 2.61654 9.49515 1.37835 9.49515C1.15619 9.49515 0.951119 9.48738 0.738281 9.46253C1.91278 10.216 3.30632 10.651 4.80706 10.651C9.67904 10.651 12.345 6.61484 12.345 3.11155C12.345 2.99659 12.345 2.88162 12.3372 2.76666C12.853 2.38914 13.3051 1.92152 13.6655 1.39641Z",fill:"#27272A"})})})})}),(0,T.jsx)("div",{class:"w-auto p-1.5",children:(0,T.jsx)("a",{href:"#",children:(0,T.jsx)("div",{class:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-300 hover:border-gray-400",children:(0,T.jsx)("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,T.jsx)("path",{d:"M8.00094 0.360001C6.09046 0.360001 5.85022 0.368801 5.09958 0.402241C4.34894 0.437441 3.83766 0.555361 3.38974 0.729601C2.9199 0.906321 2.49433 1.18353 2.14278 1.54184C1.78468 1.89357 1.50751 2.31909 1.33054 2.7888C1.1563 3.23584 1.0375 3.748 1.00318 4.496C0.969738 5.2484 0.960937 5.48776 0.960937 7.40088C0.960937 9.31224 0.969738 9.5516 1.00318 10.3022C1.03838 11.052 1.1563 11.5633 1.33054 12.0112C1.51094 12.4741 1.75118 12.8666 2.14278 13.2582C2.5335 13.6498 2.92598 13.8909 3.38886 14.0704C3.83766 14.2446 4.34806 14.3634 5.09782 14.3978C5.84934 14.4312 6.0887 14.44 8.00094 14.44C9.91318 14.44 10.1517 14.4312 10.9032 14.3978C11.6521 14.3626 12.1651 14.2446 12.613 14.0704C13.0826 13.8936 13.5078 13.6164 13.8591 13.2582C14.2507 12.8666 14.4909 12.4741 14.6713 12.0112C14.8447 11.5633 14.9635 11.052 14.9987 10.3022C15.0321 9.5516 15.0409 9.31224 15.0409 7.4C15.0409 5.48776 15.0321 5.2484 14.9987 4.49688C14.9635 3.748 14.8447 3.23584 14.6713 2.7888C14.4944 2.31908 14.2172 1.89356 13.8591 1.54184C13.5077 1.1834 13.0821 0.906169 12.6121 0.729601C12.1633 0.555361 11.6512 0.436561 10.9023 0.402241C10.1508 0.368801 9.9123 0.360001 7.99918 0.360001H8.00182H8.00094ZM7.36998 1.62896H8.00182C9.8815 1.62896 10.1041 1.63512 10.846 1.66944C11.5324 1.70024 11.9055 1.81552 12.1537 1.91144C12.4819 2.03904 12.7169 2.19216 12.9633 2.43856C13.2097 2.68496 13.3619 2.91904 13.4895 3.24816C13.5863 3.49544 13.7007 3.86856 13.7315 4.55496C13.7658 5.2968 13.7729 5.51944 13.7729 7.39824C13.7729 9.27704 13.7658 9.50056 13.7315 10.2424C13.7007 10.9288 13.5854 11.301 13.4895 11.5492C13.3766 11.8549 13.1965 12.1313 12.9624 12.3579C12.716 12.6043 12.4819 12.7566 12.1528 12.8842C11.9064 12.981 11.5333 13.0954 10.846 13.127C10.1041 13.1605 9.8815 13.1684 8.00182 13.1684C6.12214 13.1684 5.89862 13.1605 5.15678 13.127C4.47038 13.0954 4.09814 12.981 3.84998 12.8842C3.54418 12.7715 3.26753 12.5916 3.04038 12.3579C2.80608 12.1309 2.62565 11.8543 2.51238 11.5483C2.41646 11.301 2.30118 10.9279 2.27038 10.2415C2.23694 9.49968 2.2299 9.27704 2.2299 7.39648C2.2299 5.5168 2.23694 5.29504 2.27038 4.5532C2.30206 3.8668 2.41646 3.49368 2.51326 3.24552C2.64086 2.91728 2.79398 2.68232 3.04038 2.43592C3.28678 2.18952 3.52086 2.03728 3.84998 1.90968C4.09814 1.81288 4.47038 1.69848 5.15678 1.6668C5.80622 1.63688 6.0579 1.62808 7.36998 1.6272V1.62896ZM11.7594 2.7976C11.6485 2.7976 11.5386 2.81945 11.4361 2.86191C11.3336 2.90436 11.2405 2.96659 11.1621 3.04504C11.0836 3.12348 11.0214 3.21661 10.9789 3.31911C10.9365 3.42161 10.9146 3.53146 10.9146 3.6424C10.9146 3.75334 10.9365 3.8632 10.9789 3.96569C11.0214 4.06819 11.0836 4.16132 11.1621 4.23976C11.2405 4.31821 11.3336 4.38044 11.4361 4.42289C11.5386 4.46535 11.6485 4.4872 11.7594 4.4872C11.9835 4.4872 12.1984 4.3982 12.3568 4.23976C12.5152 4.08133 12.6042 3.86646 12.6042 3.6424C12.6042 3.41835 12.5152 3.20347 12.3568 3.04504C12.1984 2.88661 11.9835 2.7976 11.7594 2.7976ZM8.00182 3.78496C7.52228 3.77748 7.04604 3.86547 6.60084 4.0438C6.15563 4.22214 5.75035 4.48726 5.40859 4.82373C5.06683 5.1602 4.79542 5.5613 4.61016 6.00367C4.4249 6.44604 4.32949 6.92084 4.32949 7.40044C4.32949 7.88004 4.4249 8.35484 4.61016 8.79721C4.79542 9.23958 5.06683 9.64068 5.40859 9.97715C5.75035 10.3136 6.15563 10.5787 6.60084 10.7571C7.04604 10.9354 7.52228 11.0234 8.00182 11.0159C8.95093 11.0011 9.85616 10.6137 10.5221 9.93726C11.1881 9.26084 11.5613 8.34967 11.5613 7.40044C11.5613 6.45121 11.1881 5.54004 10.5221 4.86362C9.85616 4.1872 8.95093 3.79977 8.00182 3.78496ZM8.00182 5.05304C8.62427 5.05304 9.22123 5.30031 9.66137 5.74045C10.1015 6.18059 10.3488 6.77755 10.3488 7.4C10.3488 8.02245 10.1015 8.61941 9.66137 9.05955C9.22123 9.49969 8.62427 9.74696 8.00182 9.74696C7.37937 9.74696 6.78241 9.49969 6.34227 9.05955C5.90213 8.61941 5.65486 8.02245 5.65486 7.4C5.65486 6.77755 5.90213 6.18059 6.34227 5.74045C6.78241 5.30031 7.37937 5.05304 8.00182 5.05304Z",fill:"#27272A"})})})})})]})})]})})})}),mP={};mP=new URL("Qr.561a80b1.png",import.meta.url).toString();var mO={};mO=new URL("taufiq.b3d97260.jpg",import.meta.url).toString();var mL={};mL=new URL("janwee.136ccabe.jpg",import.meta.url).toString();var mM={};mM=new URL("abhay.1b1d5d1a.jpg",import.meta.url).toString();var mj={};mj=new URL("shivam.cb5223c5.jpg",import.meta.url).toString();var mU=()=>(0,T.jsx)("div",{children:(0,T.jsx)("div",{className:"bg-white py-24 sm:py-32 lg:px-32",children:(0,T.jsxs)("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[(0,T.jsxs)("div",{className:"mx-auto max-w-2xl lg:mx-0",children:[(0,T.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:"From the blog"}),(0,T.jsx)("p",{className:"mt-2 text-lg leading-8 text-gray-600",children:"Our Team thoughts on building this Project"})]}),(0,T.jsxs)("div",{className:"mx-auto mt-10 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 border-t border-gray-200 pt-10 sm:mt-16 sm:pt-16 lg:mx-0 lg:max-w-none lg:grid-cols-2",children:[(0,T.jsxs)("article",{className:"flex max-w-2xl flex-col items-start justify-between",children:[(0,T.jsx)("div",{className:"flex items-center gap-x-4 text-xs",children:(0,T.jsx)("time",{datetime:"2020-03-16",className:"text-gray-500",children:"Feb 25, 2024"})}),(0,T.jsxs)("div",{className:"group",children:[(0,T.jsx)("h3",{className:"mt-3 text-lg font-semibold leading-6 text-gray-900 group-hover:text-gray-600",children:(0,T.jsx)("a",{href:"#",children:"Concept of vitrual library"})}),(0,T.jsx)("p",{className:"mt-5 line-clamp-3 text-sm leading-6 text-gray-600",children:'"This is the platform where readers all across the internet can connect to each other and share their experience and knowledge and contribute to this beautiful platform."'})]}),(0,T.jsxs)("div",{className:" mt-8 flex items-center gap-x-4",children:[(0,T.jsx)("img",{src:a(mM),alt:"abhay",className:"h-10 w-10 rounded-full bg-gray-50"}),(0,T.jsxs)("div",{className:"text-sm leading-6",children:[(0,T.jsx)("p",{className:"font-semibold text-gray-900",children:"Abhay Pratap Maurya"}),(0,T.jsx)("p",{className:"text-gray-600",children:"AR/VR | ML"})]})]})]}),(0,T.jsxs)("article",{className:"flex max-w-2xl flex-col items-start justify-between",children:[(0,T.jsx)("div",{className:"flex items-center gap-x-4 text-xs",children:(0,T.jsx)("time",{datetime:"2020-03-16",className:"text-gray-500",children:"Mar 16, 2020"})}),(0,T.jsxs)("div",{className:"group",children:[(0,T.jsx)("h3",{className:"mt-3 text-lg font-semibold leading-6 text-gray-900 group-hover:text-gray-600",children:"Boost your conversion rate"}),(0,T.jsx)("p",{className:"mt-5 line-clamp-3 text-sm leading-6 text-gray-600",children:"Illo sint voluptas. Error voluptates culpa eligendi. Hic vel totam vitae illo. Non aliquid explicabo necessitatibus unde. Sed exercitationem placeat consectetur nulla deserunt vel. Iusto corrupti dicta."})]}),(0,T.jsxs)("div",{className:" mt-8 flex items-center gap-x-4",children:[(0,T.jsx)("img",{src:a(mj),alt:"taufiq",className:"h-10 w-10 rounded-full bg-gray-50"}),(0,T.jsxs)("div",{className:"text-sm leading-6",children:[(0,T.jsx)("p",{className:"font-semibold text-gray-900",children:(0,T.jsx)("a",{href:"#",children:"Shivam Kumar"})}),(0,T.jsx)("p",{className:"text-gray-600",children:"Web Developer"})]})]})]}),(0,T.jsxs)("article",{className:"flex max-w-2xl flex-col items-start justify-between",children:[(0,T.jsx)("div",{className:"flex items-center gap-x-4 text-xs",children:(0,T.jsx)("time",{datetime:"2020-03-16",className:"text-gray-500",children:"Mar 16, 2020"})}),(0,T.jsxs)("div",{className:"group",children:[(0,T.jsx)("h3",{className:"mt-3 text-lg font-semibold leading-6 text-gray-900 group-hover:text-gray-600",children:"Concept of vitrual library"}),(0,T.jsx)("p",{className:"mt-5 line-clamp-3 text-sm leading-6 text-gray-600",children:'"Virual library is an online platform where all readers share there knowledge, learning and experience of the book and post it which encourage other readers to read."'})]}),(0,T.jsxs)("div",{className:" mt-8 flex items-center gap-x-4",children:[(0,T.jsx)("img",{src:a(mO),alt:"",className:"h-10 w-10 rounded-full bg-gray-50"}),(0,T.jsxs)("div",{className:"text-sm leading-6",children:[(0,T.jsx)("p",{className:"font-semibold text-gray-900",children:"Taufiq Hassan"}),(0,T.jsx)("p",{className:"text-gray-600",children:"Front-End / Back-End"})]})]})]}),(0,T.jsxs)("article",{className:"flex max-w-2xl flex-col items-start justify-between",children:[(0,T.jsx)("div",{className:"flex items-center gap-x-4 text-xs",children:(0,T.jsx)("time",{datetime:"2020-03-16",className:"text-gray-500",children:"Mar 16, 2020"})}),(0,T.jsxs)("div",{className:"group",children:[(0,T.jsx)("h3",{className:"mt-3 text-lg font-semibold leading-6 text-gray-900 group-hover:text-gray-600",children:"User Interaction"}),(0,T.jsx)("p",{className:"mt-5 line-clamp-3 text-sm leading-6 text-gray-600",children:"it is a platform where readers can interact with readers and can discuss about their thoughts. and encouring a collaborative and social reading experience or promotive discussion around perspective on literature."})]}),(0,T.jsxs)("div",{className:" mt-8 flex items-center gap-x-4",children:[(0,T.jsx)("img",{src:a(mL),alt:"",className:"h-10 w-10 rounded-full bg-gray-50"}),(0,T.jsxs)("div",{className:"text-sm leading-6",children:[(0,T.jsx)("p",{className:"font-semibold text-gray-900",children:"Janhwee Pandey"}),(0,T.jsx)("p",{className:"text-gray-600",children:"Content Writing"})]})]})]})]})]})})}),mF={};mF=new URL("hero.0e151e63.jpg",import.meta.url).toString();var mV=()=>(0,T.jsxs)("div",{className:" h-full lg:w-full w-screen flex justify-center text-[1.1rem]   flex-wrap lg:flex-nowrap",children:[(0,T.jsxs)("div",{className:"lg:w-4/6 px-8 text-gray-800 w-full",children:[(0,T.jsxs)("h1",{className:"lg:pl-32 pl-1 mt-16 font-bold text-4xl",children:["We are changing the way to ",(0,T.jsx)("span",{id:"element",className:"text-blue-400",children:" connect"})]}),(0,T.jsx)("p",{className:"lg:pl-32 pl-1 py-5",children:"We are connecting readers through this virtual library , fostering a vibrant online community centered around the love for books . Users can create personalized bookshelf and connect to like minded individual. Providing a system to encourage communication between users fostering discussion recommendations, and the exchange of literary insights."}),(0,T.jsx)("button",{className:"lg:mx-32 mx-1 my-5 bg-blue-300 border p-2 rounded-lg hover:bg-slate-300 hover:cursor-pointer font-semibold",children:(0,T.jsx)("a",{href:"/about",children:"About us"})}),(0,T.jsxs)("p",{className:"lg:pl-32 pl-1 py-10",children:[(0,T.jsx)("h2",{className:"text-black text-2xl font-semibold",children:"Key Feature"}),(0,T.jsxs)("ul",{className:"list-disc text-blue-400 pl-1 mt-4",children:[(0,T.jsx)("li",{className:"p-1",children:"Connect with other readers"}),(0,T.jsx)("li",{className:"p-1",children:"Post your learning to encourage others"}),(0,T.jsxs)("li",{className:"p-1",children:[(0,T.jsx)("span",{className:"text-black",children:"Personalized Virtual Bookshelf"})," where you can keep your book track"]}),(0,T.jsxs)("li",{className:"p-1",children:[(0,T.jsx)("span",{className:"text-black",children:"Community "}),"of readers"]})]})]})]}),(0,T.jsx)("div",{className:"lg:pr-32 pr-1 w-4/6",children:(0,T.jsx)("img",{className:"",src:a(mF)})})]});const mz=(d=[{path:"/",element:(0,T.jsx)(()=>(0,T.jsxs)("div",{children:[(0,T.jsx)(td,{}),(0,T.jsx)(e9,{})]}),{}),children:[{path:"/",element:(0,T.jsx)(()=>(0,T.jsxs)("div",{children:[(0,T.jsx)(tp,{}),(0,T.jsx)(mI,{}),(0,T.jsx)(mV,{}),(0,T.jsx)(mU,{}),(0,T.jsx)(mD,{})]}),{})},{path:"/signUp",element:(0,T.jsx)(()=>{let[e,t]=(0,N.useState)(""),[n,r]=(0,N.useState)("");return(0,T.jsx)("div",{children:(0,T.jsxs)("div",{className:"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8",children:[(0,T.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,T.jsx)("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Register Your Account"}),(0,T.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600 ",children:["Already have an account?"," ",(0,T.jsx)(tc,{to:"/signIn",title:"",className:"font-semibold text-black transition-all duration-200 hover:underline",children:"Sign In to your account"})]})]}),(0,T.jsx)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:(0,T.jsxs)("div",{className:"space-y-6",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),(0,T.jsx)("div",{className:"mt-2",children:(0,T.jsx)("input",{id:"email",name:"email",type:"email",value:n,onChange:e=>r(e.target.value),autoComplete:"email",required:!0,className:"block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,T.jsxs)("div",{children:[(0,T.jsxs)("div",{className:"flex items-center justify-between",children:[(0,T.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"}),(0,T.jsx)("div",{className:"text-sm"})]}),(0,T.jsx)("div",{className:"mt-2",children:(0,T.jsx)("input",{id:"password",name:"password",type:"password",value:e,onChange:e=>t(e.target.value),autoComplete:"current-password",required:!0,className:"block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-slate-400 sm:text-sm sm:leading-6 "})})]}),(0,T.jsx)("div",{children:(0,T.jsx)(tc,{to:"/signin",children:(0,T.jsx)("button",{onClick:()=>{fz(pH(),n,e).then(e=>{e.user}).catch(e=>{prompt("something went wrong",e.message)})},className:"flex w-full justify-center rounded-md bg-slate-400 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-blue-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-400",children:"Sign Up"})})})]})})]})})},{})},{path:"/signIn",element:(0,T.jsx)(()=>{let[e,t]=(0,N.useState)(""),[n,r]=(0,N.useState)(""),[i,s]=(0,N.useState)(!1),[a,o]=(0,N.useState)(!1),l=pH();return i?(0,T.jsx)("div",{children:"error"}):(0,T.jsx)("div",{children:(0,T.jsx)("div",{children:(0,T.jsxs)("div",{className:"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8",children:[(0,T.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,T.jsx)("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Sign In to your account"}),(0,T.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600 ",children:["Don't have an account?"," ",(0,T.jsx)(tc,{to:"/signUp",title:"",className:"font-semibold text-black transition-all duration-200 hover:underline",children:"Create a free account"})]})]}),(0,T.jsx)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:(0,T.jsxs)("div",{className:"space-y-6",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),(0,T.jsx)("div",{className:"mt-2",children:(0,T.jsx)("input",{id:"email",name:"email",type:"email",value:e,onChange:e=>t(e.target.value),autoComplete:"email",required:!0,className:"block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,T.jsxs)("div",{children:[(0,T.jsxs)("div",{className:"flex items-center justify-between",children:[(0,T.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"}),(0,T.jsx)("div",{className:"text-sm"})]}),(0,T.jsx)("div",{className:"mt-2",children:(0,T.jsx)("input",{id:"password",name:"password",type:"password",value:n,onChange:e=>r(e.target.value),autoComplete:"current-password",required:!0,className:"block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-slate-400 sm:text-sm sm:leading-6"})})]}),(0,T.jsx)("div",{onClick:()=>{fF(t3(l),fS.credential(e,n)).catch(async e=>{throw"auth/password-does-not-meet-requirements"===e.code&&fV(l),e}).then(e=>{e.user}).catch(e=>{prompt("something went wrong",e.message),s(!0)})},children:(0,T.jsx)(tc,{to:"/reader",children:(0,T.jsx)("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-slate-400 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-blue-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-400",children:"Sign In"})})})]})})]})})})},{})},{path:"/reader",element:(0,T.jsx)(()=>{let e=pH(),[t,n]=(0,N.useState)([]),[r,i]=(0,N.useState)(""),[s,a]=(0,N.useState)(!1);return(0,N.useEffect)(()=>{fB(e,e=>{if(e){let t=e.uid;console.log(t),i(t),a(!0)}else prompt("You are Sign Out"),a(!1)})},[]),(0,N.useEffect)(()=>{(async()=>await h7(hC(m_,"readers")))().then(e=>n(e.docs)).catch(e=>prompt(e))},[]),(0,T.jsxs)("div",{className:"lg:mx-40 lg:my-10 m-2",children:[(0,T.jsxs)("div",{className:"flex justify-between m-6 border-b-2 p-4 flex-wrap my-2",children:[(0,T.jsx)("h2",{className:"font-bold text-3xl lg:m-0 my-6 ",children:"Your BookShelf"}),!1==s?(0,T.jsx)("div",{children:"not be able to add"}):(0,T.jsx)(tc,{to:"/add",children:(0,T.jsxs)("div",{className:"bg-slate-200 w-[200px] py-2 px-4 rounded-lg border-b-2 ",children:["Add to your ",(0,T.jsx)("span",{className:"text-blue-500 font-semibold",children:"BookShelf"})]})})]}),t.filter(e=>e._document.data.value.mapValue.fields.userId.stringValue==`${r}`).map(e=>(0,T.jsx)(mA,{details:e._document.data.value.mapValue.fields}))]})},{})},{path:"/add",element:(0,T.jsx)(()=>{let e=pH(),[t,n]=(0,N.useState)(""),[r,i]=(0,N.useState)(""),[s,o]=(0,N.useState)(""),[l,u]=(0,N.useState)(""),[c,h]=(0,N.useState)(""),[d,f]=(0,N.useState)(""),[p,m]=(0,N.useState)(""),[g,v]=(0,N.useState)("");(0,N.useEffect)(()=>{fB(e,e=>{if(e){let t=e.uid;console.log(t),n(t)}else prompt("You are Sign Out")})},[]);let y=async()=>{var e,n,i;let a=mT();e=mb,n=`files/${a}`,i=function(e,t){if(!(t&&/^[A-Za-z]+:\/\//.test(t)))return function e(t,n){if(t instanceof mm){if(null==t._bucket)throw new pK(w.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pW+"' property when initializing the app?");let r=new mf(t,t._bucket);return null!=n?e(r,n):r}return void 0!==n?function(e,t){let n=function(e,t){let n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new p0(e._location.bucket,n);return new mf(e.storage,r)}(t,n):t}(e,t);if(e instanceof mm)return new mf(e,t);throw pX("To use ref(service, url), the first argument must be a Storage instance.")}(e=t3(e),n),function(e,t,n){e._throwIfRoot("uploadBytes");let r=function(e,t,n,r,i){var s,a;let o;let l=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},c=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();u["Content-Type"]="multipart/related; boundary="+c;let h=function(e,t,n){let r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),!r.contentType&&(r.contentType=t&&t.type()||"application/octet-stream"),r}(t,r,i),d="--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+function(e,t){let n={},r=t.length;for(let i=0;i<r;i++){let r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}(h,n)+"\r\n--"+c+"\r\nContent-Type: "+h.contentType+"\r\n\r\n",f=mi.getBlob(d,r,"\r\n--"+c+"--");if(null===f)throw new pK(w.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.");let p={name:h.fullPath},m=new mu((s=e.host,a=e._protocol,o=s,null==a&&(o=`https://${s}`),`${a}://${o}/v0${l}`),"POST",function(t,r){let i=function(e,t,n){let r=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){var t;let n;try{n=JSON.parse(e)}catch(e){return null}return"object"!=typeof(t=n)||Array.isArray(t)?null:n}(t);return null===r?null:function(e,t,n){let r={};r.type="file";let i=n.length;for(let e=0;e<i;e++){let i=n[e];r[i.local]=i.xform(r,t[i.server])}return Object.defineProperty(r,"ref",{get:function(){let t=new p0(r.bucket,r.fullPath);return e._makeStorageReference(t)}}),r}(e,r,n)}(e,r,n);return(/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if(!e)throw pQ()}(null!==i),i)},e.maxUploadRetryTime);return m.urlParams=p,m.headers=u,m.body=f.uploadData(),m.errorHandler=function(e,n){var r,i;let s;return 401===e.getStatus()?s=e.getErrorText().includes("Firebase App Check token is invalid")?new pK(w.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new pK(w.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(r=t.bucket,s=new pK(w.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,s=new pK(w.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):s=n,s.status=e.getStatus(),s.serverResponse=n.serverResponse,s},m}(e.storage,e._location,function(){if(ml)return ml;let e=[];e.push(new mo("bucket")),e.push(new mo("generation")),e.push(new mo("metageneration")),e.push(new mo("name","fullPath",!0));let t=new mo("name");t.xform=function(e,t){return!p2(t)||t.length<2?t:ms(t)},e.push(t);let n=new mo("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new mo("timeCreated")),e.push(new mo("updated")),e.push(new mo("md5Hash",null,!0)),e.push(new mo("cacheControl",null,!0)),e.push(new mo("contentDisposition",null,!0)),e.push(new mo("contentEncoding",null,!0)),e.push(new mo("contentLanguage",null,!0)),e.push(new mo("contentType",null,!0)),e.push(new mo("metadata","customMetadata",!0)),ml=e}(),new mi(t,!0),n);e.storage.makeRequestWithTokens(r,md).then(t=>({metadata:t,ref:e}))}(i=t3(i),d,void 0);try{let e=await function(e,t){var n;let r=h_(e.firestore,hR),i=hI(e),s=(n=e.converter)?n.toFirestore(t):t;return de(r,[(function(e,t,n,r,i,s={}){let a,o;let l=e.Su(s.merge||s.mergeFields?2:0,t,n,i);hG("Data must be an object, but it was:",l,r);let u=hW(r,l);if(s.merge)a=new ov(l.fieldMask),o=l.fieldTransforms;else if(s.mergeFields){let e=[];for(let r of s.mergeFields){let i=hQ(t,r,n);if(!l.contains(i))throw new aU(aj.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);hZ(e,i)||e.push(i)}a=new ov(e),o=l.fieldTransforms.filter(e=>a.covers(e.field))}else a=null,o=l.fieldTransforms;return new hU(new o$(u),a,o)})(h$(e.firestore),"addDoc",i._key,s,null!==e.converter,{}).toMutation(i._key,lM.exists(!1))]).then(()=>i)}(hC(m_,"readers"),{TitleOfBook:r,Author:s,Discription:l,Category:c,Rating:p,ImgVal:a,userId:t,instaId:g});await function(e,t,n,...r){e=h_(e,hk);let i=h_(e.firestore,hR),s=h$(i);return de(i,[("string"==typeof(t=t3(t))||t instanceof hO?function(e,t,n,r,i,s){let a=e.Su(1,t,n),o=[hQ(t,r,n)],l=[i];if(s.length%2!=0)throw new aU(aj.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)o.push(hQ(t,s[e])),l.push(s[e+1]);let u=[],c=o$.empty();for(let e=o.length-1;e>=0;--e)if(!hZ(u,o[e])){let t=o[e],n=l[e];n=t3(n);let r=a.fu(t);if(n instanceof hH)u.push(t);else{let e=hq(n,r);null!=e&&(u.push(t),c.set(t,e))}}return new hF(c,new ov(u),a.fieldTransforms)}(s,"updateDoc",e._key,t,void 0,r):function(e,t,n,r){let i=e.Su(1,t,n);hG("Data must be an object, but it was:",i,r);let s=[],a=o$.empty();return oc(r,(e,r)=>{let o=hY(t,e,n);r=t3(r);let l=i.fu(o);if(r instanceof hH)s.push(o);else{let e=hq(r,l);null!=e&&(s.push(o),a.set(o,e))}}),new hF(a,new ov(s),i.fieldTransforms)}(s,"updateDoc",e._key,t)).toMutation(e._key,lM.exists(!0))])}(e,{bId:e.id})}catch(e){prompt("Error adding document: ",e)}};return(0,T.jsx)("div",{className:"flex justify-center flex-wrap",children:(0,T.jsxs)("div",{className:"flex w-4/6 justify-center flex-wrap ",children:[(0,T.jsxs)("div",{className:"lg:w-6/12 w-full",children:[(0,T.jsx)("h1",{className:"font-bold text-2xl w-full mt-10 mb-5 p-1 mx-2",children:"Add to your store"}),(0,T.jsx)("input",{value:r,onChange:e=>i(e.target.value),type:"text",placeholder:"Enter Title",className:"p-1 lg:m-2 my-2 border w-full "}),(0,T.jsx)("input",{value:s,onChange:e=>o(e.target.value),type:"text",placeholder:"Enter Author name",className:"p-1 lg:m-2 my-2 border w-full"}),(0,T.jsx)("textarea",{rows:"4",cols:"50",value:l,onChange:e=>u(e.target.value),type:"text",placeholder:"Write something about book",className:"p-1 lg:m-2 my-2 border w-full"}),(0,T.jsx)("label",{className:"px-2 text-blue-400",children:"Rating:"}),(0,T.jsxs)("select",{className:"p-1 lg:m-2 my-2 border w-full",value:p,onChange:e=>m(e.target.value),children:[(0,T.jsx)("option",{value:"0",children:"0"}),(0,T.jsx)("option",{value:"1",children:"1"}),(0,T.jsx)("option",{value:"2",children:"2"}),(0,T.jsx)("option",{value:"3",children:"3"}),(0,T.jsx)("option",{value:"4",children:"4"}),(0,T.jsx)("option",{value:"5",children:"5"})]}),(0,T.jsxs)("select",{className:"p-1 lg:m-2 mb-2 border w-full",value:c,onChange:e=>h(e.target.value),children:[(0,T.jsx)("option",{value:"Fiction",children:"Fiction"}),(0,T.jsx)("option",{value:"Non-Fiction",children:"Non-Fiction"})]}),(0,T.jsx)("input",{type:"file",className:"p-1 lg:m-2 my-2 w-full",onChange:e=>f(e.target.files[0])}),(0,T.jsxs)("div",{className:"",children:[(0,T.jsx)("p",{className:"text-blue-500 p-2 px-3 pt-3",children:"How you want to connect with user ?"}),(0,T.jsx)("input",{value:g,onChange:e=>v(e.target.value),type:"text",placeholder:"Enter your instagram Id",className:"p-1 lg:m-2 my-2 border w-full"}),(0,T.jsx)("div",{className:"text-gray-400 p-2",children:"Ex: toffee_k21"}),(0,T.jsx)("div",{className:"text-gray-200 p-2",children:"Upcoming: we are connecting through ig only further lots of plateform will be integrated so that user can choose as of their prefrence"})]}),(0,T.jsx)(tc,{to:"/reader",children:(0,T.jsx)("button",{className:"p-1 m-2 w-1/2 bg-blue-100 rounded-md",onClick:y,children:"Add"})})]}),(0,T.jsx)("div",{className:"lg:w-6/12 w-full lg:m-0 m-2",children:(0,T.jsx)("img",{src:a(mC)})})]})})},{})},{path:"/library",element:(0,T.jsx)(()=>(0,T.jsx)("div",{className:"bg",children:(0,T.jsx)(mE,{})}),{})},{path:"/book/:resId",element:(0,T.jsx)(()=>{let{resId:e}=function(){let{matches:e}=N.useContext(eW),t=e[e.length-1];return t?t.params:{}}();console.log(e);let[t,n]=(0,N.useState)({}),[r,i]=(0,N.useState)("hidden"),s=hI(m_,"readers",`${e}`);(0,N.useEffect)(()=>{(async()=>{n((await /**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){e=h_(e,hk);let t=h_(e.firestore,hR);return(function(e,t,n={}){let r=new aF;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let s=new hl({next:s=>{t.enqueueAndForget(()=>cz(e,a));let o=s.docs.has(n);!o&&s.fromCache?i.reject(new aU(aj.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new aU(aj.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new cq(new lr(n.path),s,{includeMetadataChanges:!0,Z_:!0});return cV(e,a)})(await hp(e),e.asyncQueue,t,n,r)),r.promise})(hA(t),e._key).then(n=>(function(e,t,n){let r=n.docs.get(t._key),i=new h8(e);return new h6(e,i,t._key,r,new h3(n.hasPendingWrites,n.fromCache),t.converter)})(t,e,n))}(s)).data())})()},[]);let{Author:a,Category:o,Discription:l,ImgVal:u,Rating:c,TitleOfBook:h,instaId:d}=t;return console.log(tm+u+"?alt=media&token"),(0,T.jsxs)("div",{children:[(0,T.jsx)("section",{class:"overflow-hidden",children:(0,T.jsx)("div",{class:"mx-auto max-w-5xl px-5 py-24",children:(0,T.jsxs)("div",{class:"mx-auto flex flex-wrap items-center lg:w-full",children:[(0,T.jsx)("img",{alt:"book",class:"h-full w-full rounded object-cover lg:h-1/6 lg:w-1/4 ",src:`${tm}${u}?alt=media&token`}),(0,T.jsxs)("div",{class:"mt-6 w-full lg:mt-0 lg:w-8/12 lg:pl-10 mx-8",children:[(0,T.jsx)("h1",{class:"my-4 text-3xl font-semibold text-black",children:h}),(0,T.jsxs)("div",{class:"my-4 flex items-center font-semibold border-b-2 pb-2",children:["by ",a]}),(0,T.jsx)("p",{class:"leading-relaxed pt-1 pb-5 mb-5 border-b-2 ",children:l}),(0,T.jsxs)("div",{class:"flex items-center justify-between ",children:[(0,T.jsxs)("span",{class:"title-font text-xl font-bold text-gray-900 ",children:["Rate by Reader: ",c," out of 5"]}),(0,T.jsx)("button",{type:"button",class:"rounded-md bg-black px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-black/80 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-black ",onClick:()=>{"hidden"==r?i("block"):i("hidden")},children:"Connect to Reader"})]})]})]})})}),(0,T.jsx)("div",{className:`${r}`,children:(0,T.jsx)(mR,{ig:d})}),(0,T.jsx)(mN,{})]})},{})},{path:"/about",element:(0,T.jsx)(()=>(0,T.jsx)("div",{children:(0,T.jsx)("main",{class:"grid min-h-full place-items-center bg-white px-6 py-24 sm:py-32 lg:px-8",children:(0,T.jsxs)("div",{class:"text-center",children:[(0,T.jsx)("p",{className:"font-bold text-xl",children:"Meet our team members"}),(0,T.jsx)("img",{src:a(mP)}),(0,T.jsx)("h1",{class:"mt-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Scan this QR "}),(0,T.jsx)("p",{class:"mt-6 text-base leading-7 text-gray-600",children:"Join our community"}),(0,T.jsxs)("div",{class:"mt-10 flex items-center justify-center gap-x-6",children:[(0,T.jsx)("a",{href:"https://discord.com/invite/ddYnn3cB",class:"rounded-md bg-blue-400 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 ",children:"Discord"}),(0,T.jsxs)("a",{href:"https://www.instagram.com/readconnect838/",class:"text-sm font-semibold text-gray-900",children:["Follow us on instagram",(0,T.jsx)("span",{"aria-hidden":"true",children:"→"})]})]})]})})}),{})},{path:"/shimmer",element:(0,T.jsx)(()=>(0,T.jsxs)("div",{className:"cardcontainer lg:px-24 lg:py-14 p-10 flex w-full flex-wrap",children:[(0,T.jsx)("div",{className:"card",children:(0,T.jsxs)("div",{className:"shadow-lg w-[200px] m-8 rounded-md ",children:[(0,T.jsx)("div",{className:"w-[200px] h-[200px] bg-blue-200"}),(0,T.jsxs)("div",{className:"p-3",children:[(0,T.jsx)("h3",{className:"font-semibold",children:"title"}),(0,T.jsx)("div",{className:"text-[0.8rem] py-1",children:"author"}),(0,T.jsx)("div",{className:"text-[0.8rem]",children:"rating"})]})]})}),(0,T.jsx)("div",{className:"card",children:(0,T.jsxs)("div",{className:"shadow-lg w-[200px] m-8 rounded-md ",children:[(0,T.jsx)("div",{className:"w-[200px] h-[200px] bg-blue-200"}),(0,T.jsxs)("div",{className:"p-3",children:[(0,T.jsx)("h3",{className:"font-semibold",children:"title"}),(0,T.jsx)("div",{className:"text-[0.8rem] py-1",children:"author"}),(0,T.jsx)("div",{className:"text-[0.8rem]",children:"rating"})]})]})}),(0,T.jsx)("div",{className:"card",children:(0,T.jsxs)("div",{className:"shadow-lg w-[200px] m-8 rounded-md ",children:[(0,T.jsx)("div",{className:"w-[200px] h-[200px] bg-blue-200"}),(0,T.jsxs)("div",{className:"p-3",children:[(0,T.jsx)("h3",{className:"font-semibold",children:"title"}),(0,T.jsx)("div",{className:"text-[0.8rem] py-1",children:"author"}),(0,T.jsx)("div",{className:"text-[0.8rem]",children:"rating"})]})]})}),(0,T.jsx)("div",{className:"card",children:(0,T.jsxs)("div",{className:"shadow-lg w-[200px] m-8 rounded-md ",children:[(0,T.jsx)("div",{className:"w-[200px] h-[200px] bg-blue-200"}),(0,T.jsxs)("div",{className:"p-3",children:[(0,T.jsx)("h3",{className:"font-semibold",children:"title"}),(0,T.jsx)("div",{className:"text-[0.8rem] py-1",children:"author"}),(0,T.jsx)("div",{className:"text-[0.8rem]",children:"rating"})]})]})})]}),{})}]}],(function(e){let t,n,r,i,s;let a=e.window?e.window:"undefined"!=typeof window?window:void 0,o=void 0!==a&&void 0!==a.document&&void 0!==a.document.createElement,l=!o;if(P(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)t=e.mapRouteProperties;else if(e.detectErrorBoundary){let n=e.detectErrorBoundary;t=e=>({hasErrorBoundary:n(e)})}else t=ec;let u={},c=V(e.routes,t,void 0,u),h=e.basename||"/",d=A({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),f=null,p=new Set,m=null,g=null,v=null,y=null!=e.hydrationData,w=z(c,e.history.location,h),b=null;if(null==w){let t=eT(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=ek(c);w=n,b={[r.id]:t}}let _=w.some(e=>e.route.lazy),E=w.some(e=>e.route.loader);if(_)r=!1;else if(E){if(d.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;r=w.every(e=>e.route.loader&&!0!==e.route.loader.hydrate&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id]))}else r=null!=e.hydrationData}else r=!0;let x={historyAction:e.history.action,location:e.history.location,matches:w,initialized:r,navigation:ea,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},S=n0.Pop,k=!1,T=!1,C=new Map,I=null,N=!1,R=!1,D=[],L=[],j=new Map,U=0,F=-1,B=new Map,$=new Set,q=new Map,W=new Map,K=new Set,G=new Map,Q=new Map,X=!1;function Y(e,t){void 0===t&&(t={}),x=A({},x,e);let n=[],r=[];d.v7_fetcherPersist&&x.fetchers.forEach((e,t)=>{"idle"===e.state&&(K.has(t)?r.push(t):n.push(t))}),[...p].forEach(e=>e(x,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync})),d.v7_fetcherPersist&&(n.forEach(e=>x.fetchers.delete(e)),r.forEach(e=>eL(e)))}function J(t,r,i){var s,a;let o,l;let{flushSync:u}=void 0===i?{}:i,h=null!=x.actionData&&null!=x.navigation.formMethod&&eD(x.navigation.formMethod)&&"loading"===x.navigation.state&&(null==(s=t.state)?void 0:s._isRedirect)!==!0;o=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:h?x.actionData:null;let d=r.loaderData?ex(x.loaderData,r.loaderData,r.matches||[],r.errors):x.loaderData,f=x.blockers;f.size>0&&(f=new Map(f)).forEach((e,t)=>f.set(t,el));let p=!0===k||null!=x.navigation.formMethod&&eD(x.navigation.formMethod)&&(null==(a=t.state)?void 0:a._isRedirect)!==!0;if(n&&(c=n,n=void 0),N||S===n0.Pop||(S===n0.Push?e.history.push(t,t.state):S===n0.Replace&&e.history.replace(t,t.state)),S===n0.Pop){let e=C.get(x.location.pathname);e&&e.has(t.pathname)?l={currentLocation:x.location,nextLocation:t}:C.has(t.pathname)&&(l={currentLocation:t,nextLocation:x.location})}else if(T){let e=C.get(x.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),C.set(x.location.pathname,e)),l={currentLocation:x.location,nextLocation:t}}Y(A({},r,{actionData:o,loaderData:d,historyAction:S,location:t,initialized:!0,navigation:ea,revalidation:"idle",restoreScrollPosition:eX(t,r.matches||x.matches),preventScrollReset:p,blockers:f}),{viewTransitionOpts:l,flushSync:!0===u}),S=n0.Pop,k=!1,T=!1,N=!1,R=!1,D=[],L=[]}async function Z(t,n){if("number"==typeof t){e.history.go(t);return}let r=ed(x.location,x.matches,h,d.v7_prependBasename,t,d.v7_relativeSplatPath,null==n?void 0:n.fromRouteId,null==n?void 0:n.relative),{path:i,submission:s,error:a}=ef(d.v7_normalizeFormMethod,!1,r,n),o=x.location,l=M(x.location,i,n&&n.state);l=A({},l,e.history.encodeLocation(l));let u=n&&null!=n.replace?n.replace:void 0,c=n0.Push;!0===u?c=n0.Replace:!1===u||null!=s&&eD(s.formMethod)&&s.formAction===x.location.pathname+x.location.search&&(c=n0.Replace);let f=n&&"preventScrollReset"in n?!0===n.preventScrollReset:void 0,p=!0===(n&&n.unstable_flushSync),m=eK({currentLocation:o,nextLocation:l,historyAction:c});if(m){eW(m,{state:"blocked",location:l,proceed(){eW(m,{state:"proceeding",proceed:void 0,reset:void 0,location:l}),Z(t,n)},reset(){let e=new Map(x.blockers);e.set(m,el),Y({blockers:e})}});return}return await ee(c,l,{submission:s,pendingError:a,preventScrollReset:f,replace:n&&n.replace,enableViewTransition:n&&n.unstable_viewTransition,flushSync:p})}async function ee(t,r,i){var a,o,l;let u,d;s&&s.abort(),s=null,S=t,N=!0===(i&&i.startUninterruptedRevalidation),a=x.location,o=x.matches,m&&v&&(m[eQ(a,o)]=v()),k=!0===(i&&i.preventScrollReset),T=!0===(i&&i.enableViewTransition);let f=n||c,p=i&&i.overrideNavigation,g=z(f,r,h),y=!0===(i&&i.flushSync);if(!g){let e=eT(404,{pathname:r.pathname}),{matches:t,route:n}=ek(f);eG(),J(r,{matches:t,loaderData:{},errors:{[n.id]:e}},{flushSync:y});return}if(x.initialized&&!R&&(l=x.location).pathname===r.pathname&&l.search===r.search&&(""===l.hash?""!==r.hash:l.hash===r.hash||""!==r.hash)&&!(i&&i.submission&&eD(i.submission.formMethod))){J(r,{matches:g},{flushSync:y});return}s=new AbortController;let w=ew(e.history,r,s.signal,i&&i.submission);if(i&&i.pendingError)d={[eS(g).route.id]:i.pendingError};else if(i&&i.submission&&eD(i.submission.formMethod)){let e=await et(w,r,i.submission,g,{replace:i.replace,flushSync:y});if(e.shortCircuited)return;u=e.pendingActionData,d=e.pendingActionError,p=eU(r,i.submission),y=!1,w=new Request(w.url,{signal:w.signal})}let{shortCircuited:b,loaderData:_,errors:E}=await en(w,r,g,p,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,y,u,d);b||(s=null,J(r,A({matches:g},u?{actionData:u}:{},{loaderData:_,errors:E})))}async function et(e,n,r,i,s){let a;void 0===s&&(s={}),ev(),Y({navigation:{state:"submitting",location:n,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}},{flushSync:!0===s.flushSync});let o=eM(i,n);if(o.route.action||o.route.lazy){if(a=await ey("action",e,o,i,u,t,h,d.v7_relativeSplatPath),e.signal.aborted)return{shortCircuited:!0}}else a={type:n1.error,error:eT(405,{method:e.method,pathname:n.pathname,routeId:o.route.id})};if(eA(a)){let e;return e=s&&null!=s.replace?s.replace:a.location===x.location.pathname+x.location.search,await em(x,a,{submission:r,replace:e}),{shortCircuited:!0}}if(eR(a)){let e=eS(i,o.route.id);return!0!==(s&&s.replace)&&(S=n0.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:a.error}}}if(eN(a))throw eT(400,{type:"defer-action"});return{pendingActionData:{[o.route.id]:a.data}}}async function en(t,r,i,a,o,l,u,f,p,m,g){let v=a||eU(r,o),y=o||l||ej(v),w=n||c,[b,_]=ep(e.history,x,i,y,r,d.v7_partialHydration&&!0===f,R,D,L,K,q,$,w,h,m,g);if(eG(e=>!(i&&i.some(t=>t.route.id===e))||b&&b.some(t=>t.route.id===e)),F=++U,0===b.length&&0===_.length){let e=e$();return J(r,A({matches:i,loaderData:{},errors:g||null},m?{actionData:m}:{},e?{fetchers:new Map(x.fetchers)}:{}),{flushSync:p}),{shortCircuited:!0}}if(!N&&(!d.v7_partialHydration||!f)){_.forEach(e=>{let t=x.fetchers.get(e.key),n=eF(void 0,t?t.data:void 0);x.fetchers.set(e.key,n)});let e=m||x.actionData;Y(A({navigation:v},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},_.length>0?{fetchers:new Map(x.fetchers)}:{}),{flushSync:p})}_.forEach(e=>{j.has(e.key)&&ez(e.key),e.controller&&j.set(e.key,e.controller)});let E=()=>_.forEach(e=>ez(e.key));s&&s.signal.addEventListener("abort",E);let{results:S,loaderResults:k,fetcherResults:T}=await eg(x.matches,i,b,_,t);if(t.signal.aborted)return{shortCircuited:!0};s&&s.signal.removeEventListener("abort",E),_.forEach(e=>j.delete(e.key));let C=eC(S);if(C){if(C.idx>=b.length){let e=_[C.idx-b.length].key;$.add(e)}return await em(x,C.result,{replace:u}),{shortCircuited:!0}}let{loaderData:I,errors:P}=eE(x,i,b,k,g,_,T,G);G.forEach((e,t)=>{e.subscribe(n=>{(n||e.done)&&G.delete(t)})});let O=e$(),M=eH(F),V=O||M||_.length>0;return A({loaderData:I,errors:P},V?{fetchers:new Map(x.fetchers)}:{})}async function er(r,i,a,o,l,f,p){if(ev(),q.delete(r),!o.route.action&&!o.route.lazy){let e=eT(405,{method:p.formMethod,pathname:a,routeId:i});e_(r,i,e,{flushSync:f});return}let m=x.fetchers.get(r);eb(r,{state:"submitting",formMethod:p.formMethod,formAction:p.formAction,formEncType:p.formEncType,formData:p.formData,json:p.json,text:p.text,data:m?m.data:void 0},{flushSync:f});let g=new AbortController,v=ew(e.history,a,g.signal,p);j.set(r,g);let y=U,w=await ey("action",v,o,l,u,t,h,d.v7_relativeSplatPath);if(v.signal.aborted){j.get(r)===g&&j.delete(r);return}if(d.v7_fetcherPersist&&K.has(r)){if(eA(w)||eR(w)){eb(r,eV(void 0));return}}else{if(eA(w))return(j.delete(r),F>y)?void eb(r,eV(void 0)):($.add(r),eb(r,eF(p)),em(x,w,{fetcherSubmission:p}));if(eR(w)){e_(r,i,w.error);return}}if(eN(w))throw eT(400,{type:"defer-action"});let b=x.navigation.location||x.location,_=ew(e.history,b,g.signal),E=n||c,k="idle"!==x.navigation.state?z(E,x.navigation.location,h):x.matches;P(k,"Didn't find any matches after fetcher action");let T=++U;B.set(r,T);let C=eF(p,w.data);x.fetchers.set(r,C);let[I,N]=ep(e.history,x,k,p,b,!1,R,D,L,K,q,$,E,h,{[o.route.id]:w.data},void 0);N.filter(e=>e.key!==r).forEach(e=>{let t=e.key,n=x.fetchers.get(t),r=eF(void 0,n?n.data:void 0);x.fetchers.set(t,r),j.has(t)&&ez(t),e.controller&&j.set(t,e.controller)}),Y({fetchers:new Map(x.fetchers)});let A=()=>N.forEach(e=>ez(e.key));g.signal.addEventListener("abort",A);let{results:O,loaderResults:M,fetcherResults:V}=await eg(x.matches,k,I,N,_);if(g.signal.aborted)return;g.signal.removeEventListener("abort",A),B.delete(r),j.delete(r),N.forEach(e=>j.delete(e.key));let H=eC(O);if(H){if(H.idx>=I.length){let e=N[H.idx-I.length].key;$.add(e)}return em(x,H.result)}let{loaderData:W,errors:Q}=eE(x,x.matches,I,M,void 0,N,V,G);if(x.fetchers.has(r)){let e=eV(w.data);x.fetchers.set(r,e)}eH(T),"loading"===x.navigation.state&&T>F?(P(S,"Expected pending action"),s&&s.abort(),J(x.navigation.location,{matches:k,loaderData:W,errors:Q,fetchers:new Map(x.fetchers)})):(Y({errors:Q,loaderData:ex(x.loaderData,W,k,Q),fetchers:new Map(x.fetchers)}),R=!1)}async function ei(n,r,i,s,a,o,l){let c=x.fetchers.get(n);eb(n,eF(l,c?c.data:void 0),{flushSync:o});let f=new AbortController,p=ew(e.history,i,f.signal);j.set(n,f);let m=U,g=await ey("loader",p,s,a,u,t,h,d.v7_relativeSplatPath);if(eN(g)&&(g=await eO(g,p.signal,!0)||g),j.get(n)===f&&j.delete(n),!p.signal.aborted){if(K.has(n)){eb(n,eV(void 0));return}if(eA(g)){if(F>m){eb(n,eV(void 0));return}$.add(n),await em(x,g);return}if(eR(g)){e_(n,r,g.error);return}P(!eN(g),"Unhandled fetcher deferred data"),eb(n,eV(g.data))}}async function em(t,n,r){let{submission:i,fetcherSubmission:l,replace:u}=void 0===r?{}:r;n.revalidate&&(R=!0);let c=M(t.location,n.location,{_isRedirect:!0});if(P(c,"Expected a location on the redirect navigation"),o){let t=!1;if(n.reloadDocument)t=!0;else if(eu.test(n.location)){let r=e.history.createURL(n.location);t=r.origin!==a.location.origin||null==H(r.pathname,h)}if(t){u?a.location.replace(n.location):a.location.assign(n.location);return}}s=null;let d=!0===u?n0.Replace:n0.Push,{formMethod:f,formAction:p,formEncType:m}=t.navigation;!i&&!l&&f&&p&&m&&(i=ej(t.navigation));let g=i||l;if(es.has(n.status)&&g&&eD(g.formMethod))await ee(d,c,{submission:A({},g,{formAction:n.location}),preventScrollReset:k});else{let e=eU(c,i);await ee(d,c,{overrideNavigation:e,fetcherSubmission:l,preventScrollReset:k})}}async function eg(n,r,i,s,a){let o=await Promise.all([...i.map(e=>ey("loader",a,e,r,u,t,h,d.v7_relativeSplatPath)),...s.map(n=>n.matches&&n.match&&n.controller?ey("loader",ew(e.history,n.path,n.controller.signal),n.match,n.matches,u,t,h,d.v7_relativeSplatPath):{type:n1.error,error:eT(404,{pathname:n.path})})]),l=o.slice(0,i.length),c=o.slice(i.length);return await Promise.all([eP(n,i,l,l.map(()=>a.signal),!1,x.loaderData),eP(n,s.map(e=>e.match),c,s.map(e=>e.controller?e.controller.signal:null),!0)]),{results:o,loaderResults:l,fetcherResults:c}}function ev(){R=!0,D.push(...eG()),q.forEach((e,t)=>{j.has(t)&&(L.push(t),ez(t))})}function eb(e,t,n){void 0===n&&(n={}),x.fetchers.set(e,t),Y({fetchers:new Map(x.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function e_(e,t,n,r){void 0===r&&(r={});let i=eS(x.matches,t);eL(e),Y({errors:{[i.route.id]:n},fetchers:new Map(x.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function eI(e){return d.v7_fetcherPersist&&(W.set(e,(W.get(e)||0)+1),K.has(e)&&K.delete(e)),x.fetchers.get(e)||eo}function eL(e){let t=x.fetchers.get(e);j.has(e)&&!(t&&"loading"===t.state&&B.has(e))&&ez(e),q.delete(e),B.delete(e),$.delete(e),K.delete(e),x.fetchers.delete(e)}function ez(e){let t=j.get(e);P(t,"Expected fetch controller: "+e),t.abort(),j.delete(e)}function eB(e){for(let t of e){let e=eV(eI(t).data);x.fetchers.set(t,e)}}function e$(){let e=[],t=!1;for(let n of $){let r=x.fetchers.get(n);P(r,"Expected fetcher: "+n),"loading"===r.state&&($.delete(n),e.push(n),t=!0)}return eB(e),t}function eH(e){let t=[];for(let[n,r]of B)if(r<e){let e=x.fetchers.get(n);P(e,"Expected fetcher: "+n),"loading"===e.state&&(ez(n),B.delete(n),t.push(n))}return eB(t),t.length>0}function eq(e){x.blockers.delete(e),Q.delete(e)}function eW(e,t){let n=x.blockers.get(e)||el;P("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(x.blockers);r.set(e,t),Y({blockers:r})}function eK(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===Q.size)return;Q.size>1&&O(!1,"A router only supports one blocker at a time");let i=Array.from(Q.entries()),[s,a]=i[i.length-1],o=x.blockers.get(s);if((!o||"proceeding"!==o.state)&&a({currentLocation:t,nextLocation:n,historyAction:r}))return s}function eG(e){let t=[];return G.forEach((n,r)=>{(!e||e(r))&&(n.cancel(),t.push(r),G.delete(r))}),t}function eQ(e,t){return g&&g(e,t.map(e=>(function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}})(e,x.loaderData)))||e.key}function eX(e,t){if(m){let n=m[eQ(e,t)];if("number"==typeof n)return n}return null}return i={get basename(){return h},get future(){return d},get state(){return x},get routes(){return c},get window(){return a},initialize:function(){if(f=e.history.listen(t=>{let{action:n,location:r,delta:i}=t;if(X){X=!1;return}O(0===Q.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let s=eK({currentLocation:x.location,nextLocation:r,historyAction:n});if(s&&null!=i){X=!0,e.history.go(-1*i),eW(s,{state:"blocked",location:r,proceed(){eW(s,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(x.blockers);e.set(s,el),Y({blockers:e})}});return}return ee(n,r)}),o){(function(e,t){try{let n=e.sessionStorage.getItem(eh);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(e){}})(a,C);let e=()=>(function(e,t){if(t.size>0){let n={};for(let[e,r]of t)n[e]=[...r];try{e.sessionStorage.setItem(eh,JSON.stringify(n))}catch(e){O(!1,"Failed to save applied view transitions in sessionStorage ("+e+").")}}})(a,C);a.addEventListener("pagehide",e),I=()=>a.removeEventListener("pagehide",e)}return x.initialized||ee(n0.Pop,x.location,{initialHydration:!0}),i},subscribe:function(e){return p.add(e),()=>p.delete(e)},enableScrollRestoration:function(e,t,n){if(m=e,v=t,g=n||null,!y&&x.navigation===ea){y=!0;let e=eX(x.location,x.matches);null!=e&&Y({restoreScrollPosition:e})}return()=>{m=null,v=null,g=null}},navigate:Z,fetch:function(e,t,r,i){if(l)throw Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");j.has(e)&&ez(e);let s=!0===(i&&i.unstable_flushSync),a=n||c,o=ed(x.location,x.matches,h,d.v7_prependBasename,r,d.v7_relativeSplatPath,t,null==i?void 0:i.relative),u=z(a,o,h);if(!u){e_(e,t,eT(404,{pathname:o}),{flushSync:s});return}let{path:f,submission:p,error:m}=ef(d.v7_normalizeFormMethod,!0,o,i);if(m){e_(e,t,m,{flushSync:s});return}let g=eM(u,f);if(k=!0===(i&&i.preventScrollReset),p&&eD(p.formMethod)){er(e,t,f,g,u,s,p);return}q.set(e,{routeId:t,path:f}),ei(e,t,f,g,u,s,p)},revalidate:function(){if(ev(),Y({revalidation:"loading"}),"submitting"!==x.navigation.state){if("idle"===x.navigation.state){ee(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}ee(S||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:eI,deleteFetcher:function(e){if(d.v7_fetcherPersist){let t=(W.get(e)||0)-1;t<=0?(W.delete(e),K.add(e)):W.set(e,t)}else eL(e);Y({fetchers:new Map(x.fetchers)})},dispose:function(){f&&f(),I&&I(),p.clear(),s&&s.abort(),x.fetchers.forEach((e,t)=>eL(t)),x.blockers.forEach((e,t)=>eq(t))},getBlocker:function(e,t){let n=x.blockers.get(e)||el;return Q.get(e)!==t&&Q.set(e,t),n},deleteBlocker:eq,_internalFetchControllers:j,_internalActiveDeferreds:G,_internalSetRoutes:function(e){n=V(e,t,void 0,u={})}}})({basename:void 0,future:e7({},null==f?void 0:f.future,{v7_prependBasename:!0}),history:function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=n0.Pop,l=null,u=c();function c(){return(a.state||{idx:null}).idx}function h(){o=n0.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:o,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:j(e);return P(t,"No window.location.(origin|href) available to create URL for href: "+(n=n.replace(/ $/,"%20"))),new URL(n,t)}null==u&&(u=0,a.replaceState(A({},a.state,{idx:u}),""));let f={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw Error("A history only accepts one active listener");return i.addEventListener(D,h),l=e,()=>{i.removeEventListener(D,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=n0.Push;let n=M(f.location,e,t),r=L(n,u=c()+1),h=f.createHref(n);try{a.pushState(r,"",h)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(h)}s&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o=n0.Replace;let n=M(f.location,e,t),r=L(n,u=c()),i=f.createHref(n);a.replaceState(r,"",i),s&&l&&l({action:o,location:f.location,delta:0})},go:e=>a.go(e)};return f}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return M("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:j(t)},null,{window:null==f?void 0:f.window}),hydrationData:(null==f?void 0:f.hydrationData)||((i=null==(o=window)?void 0:o.__staticRouterHydrationData)&&i.errors&&(i=e7({},i,{errors:function(e){if(!e)return null;let t=Object.entries(e),n={};for(let[e,r]of t)if(r&&"RouteErrorResponse"===r.__type)n[e]=new Z(r.status,r.statusText,r.data,!0===r.internal);else if(r&&"Error"===r.__type){if(r.__subType){let t=window[r.__subType];if("function"==typeof t)try{let i=new t(r.message);i.stack="",n[e]=i}catch(e){}}if(null==n[e]){let t=Error(r.message);t.stack="",n[e]=t}}else n[e]=r;return n}(i.errors)})),i),routes:d,mapRouteProperties:function(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:N.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t},window:null==f?void 0:f.window}).initialize());a(C).createRoot(document.getElementById("root")).render((0,T.jsx)(function(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=N.useState(n.state),[a,o]=N.useState(),[l,u]=N.useState({isTransitioning:!1}),[c,h]=N.useState(),[d,f]=N.useState(),[p,m]=N.useState(),g=N.useRef(new Map),{v7_startTransition:v}=r||{},y=N.useCallback(e=>{v&&tr?tr(e):e()},[v]),w=N.useCallback((e,t)=>{let{deletedFetchers:r,unstable_flushSync:i,unstable_viewTransitionOpts:a}=t;r.forEach(e=>g.current.delete(e)),e.fetchers.forEach((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)});let l=null==n.window||"function"!=typeof n.window.document.startViewTransition;if(!a||l){i?ts(()=>s(e)):y(()=>s(e));return}if(i){ts(()=>{d&&(c&&c.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:a.currentLocation,nextLocation:a.nextLocation})});let t=n.window.document.startViewTransition(()=>{ts(()=>s(e))});t.finished.finally(()=>{ts(()=>{h(void 0),f(void 0),o(void 0),u({isTransitioning:!1})})}),ts(()=>f(t));return}d?(c&&c.resolve(),d.skipTransition(),m({state:e,currentLocation:a.currentLocation,nextLocation:a.nextLocation})):(o(e),u({isTransitioning:!0,flushSync:!1,currentLocation:a.currentLocation,nextLocation:a.nextLocation}))},[n.window,d,c,g,y]);N.useLayoutEffect(()=>n.subscribe(w),[n,w]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new ta)},[l]),N.useEffect(()=>{if(c&&a&&n.window){let e=c.promise,t=n.window.document.startViewTransition(async()=>{y(()=>s(a)),await e});t.finished.finally(()=>{h(void 0),f(void 0),o(void 0),u({isTransitioning:!1})}),f(t)}},[y,a,c,n.window]),N.useEffect(()=>{c&&a&&i.location.key===a.location.key&&c.resolve()},[c,d,i.location,a]),N.useEffect(()=>{!l.isTransitioning&&p&&(o(p.state),u({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),N.useEffect(()=>{},[]);let b=N.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})}),[n]),_=n.basename||"/",E=N.useMemo(()=>({router:n,navigator:b,static:!1,basename:_}),[n,b,_]);return N.createElement(N.Fragment,null,N.createElement(eB.Provider,{value:E},N.createElement(e$.Provider,{value:i},N.createElement(tn.Provider,{value:g.current},N.createElement(tt.Provider,{value:l},N.createElement(e5,{basename:_,location:i.location,navigationType:i.historyAction,navigator:b,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?N.createElement(to,{routes:n.routes,future:n.future,state:i}):t))))),null)},{router:mz}));
//# sourceMappingURL=index.4d60cc63.js.map
